scripted_gui = {

	JOM_container_gui = {
		window_name = "PaF_JOM_container_gui"
		context_type = decision_category
		parent_window_token = decision_tab

		properties = {
			EXPEDITION_BAR = { frame = JOM_mission_success_var }
		}

		dynamic_lists = {
		
		}

		triggers = {
			JOM_mission_select_button_visible = {
				has_country_flag = JOM_vikinging_selected
			}
		}

		effects = {
			JOM_expedition_button_click = {
				if = {
					limit = {
						NOT = { 
							has_country_flag = JOM_map_open
						}
					}
					set_country_flag = JOM_map_open
				}
				else_if = {
					limit = {
						has_country_flag = JOM_map_open
					}
					clr_country_flag = JOM_map_open
				}	
			}
			JOM_mission_select_button_click = {
				activate_mission = expedition_preparation_general_mission
				clr_country_flag = JOM_vikinging_selected
				set_country_flag = JOM_vikinging
			}
		}
	}
	JOM_map_container_gui = {
		window_name = "PaF_JOM_map_container_gui"
		context_type = player_context
		parent_window_token = PaF_JOM_map_container_gui
		visible = {
			has_country_flag = JOM_map_open
		}
		properties = {
			
		}

		dynamic_lists = {
		
		}

		triggers = {
			JOM_expedition_baltic_map_visible = {
				has_country_flag = JOM_baltic_map_open
			}
			JOM_expedition_button_bornholm_visible = {
				has_country_flag = JOM_baltic_map_open
				NOT = { has_country_flag = JOM_bornholm_success }
			}
			JOM_expedition_button_gotland_visible = {
				has_country_flag = JOM_baltic_map_open
				NOT = { has_country_flag = JOM_gotland_success }
			}
			
			JOM_expedition_europe_map_visible = {
				has_country_flag = JOM_europe_map_open
			}
			
			JOM_expedition_NA_map_visible = {
				has_country_flag = JOM_NA_map_open
			}
			
			JOM_expedition_SA_map_visible = {
				has_country_flag = JOM_SA_map_open
			}
			
			JOM_expedition_Africa_map_visible = {
				has_country_flag = JOM_Africa_map_open
			}
			
			JOM_expedition_Asia_map_visible = {
				has_country_flag = JOM_Asia_map_open
			}
		}

		effects = {
			JOM_europe_button_click = {
				set_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_NA_map_open
				clr_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_Asia_map_open
			}
			JOM_baltic_button_click = {
				set_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_NA_map_open
				clr_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_Asia_map_open
			}
			JOM_NA_button_click = {
				set_country_flag = JOM_NA_map_open
				clr_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_Asia_map_open
			}
			JOM_SA_button_click = {
				set_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_Asia_map_open
				clr_country_flag = JOM_NA_map_open
			}
			JOM_Africa_button_click = {
				set_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_Asia_map_open
				clr_country_flag = JOM_NA_map_open
			}
			JOM_Asia_button_click = {
				set_country_flag = JOM_Asia_map_open
				clr_country_flag = JOM_europe_map_open
				clr_country_flag = JOM_baltic_map_open
				clr_country_flag = JOM_SA_map_open
				clr_country_flag = JOM_Africa_map_open
				clr_country_flag = JOM_NA_map_open
			}
			JOM_expedition_button_bornholm_click = {
				JOM_vikinging_forever = yes
				set_country_flag = JOM_vikinging_selected
				#dla późniejszej aktywacji proper ekspedycji po preparacji
				if = {
					limit = {
						NOT = { 
							has_country_flag = JOM_vikinging_bornholm
						}
					}
					set_country_flag = JOM_vikinging_bornholm
				}
				else_if = {
					limit = {
						has_country_flag = JOM_vikinging_bornholm
					}
					clr_country_flag = JOM_vikinging_bornholm
				}
				set_variable = { JOM_mission_success_var = 80 }
			}
			JOM_expedition_button_gotland_click = {
				JOM_vikinging_forever = yes
				set_country_flag = JOM_vikinging_selected
				#dla późniejszej aktywacji proper ekspedycji po preparacji
				if = {
					limit = {
						NOT = { 
							has_country_flag = JOM_vikinging_gotland
						}
					}
					set_country_flag = JOM_vikinging_gotland
				}
				else_if = {
					limit = {
						has_country_flag = JOM_vikinging_gotland
					}
					clr_country_flag = JOM_vikinging_gotland
				}
				set_variable = { JOM_mission_success_var = 75 }
			}
		}
	}
}
