BBW_pollution_category = {
	
	BBW_pollution_stage1 = {

		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 45
		
		available = { 
			always = no 
		}
		
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = yes
		
		complete_effect = {
		
		}
		
		timeout_effect = {
			log = "[GetDateText]: Decision BBW_pollution_stage1"
		custom_effect_tooltip = BBW_polution_rising_tt
		hidden_effect = {
					swap_ideas = {
							add_idea = BBW_smog2
							remove_idea = BBW_smog
						}
				activate_mission = BBW_pollution_stage2
			country_event = {
			id = belchatow.23 }
			}
		}
	}
	
	BBW_pollution_stage2 = {

		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 77
		
		available = { always = no }
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = no
		
		 complete_effect = {
		
		}
	
		timeout_effect = {
		log = "[GetDateText]: Decision BBW_pollution_stage2"
		if = {
			limit = {
				BBW = { has_idea = BBW_smog11 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog12
					remove_idea = BBW_smog11
				}
			}
		}
		
		if = {
			limit = {
				BBW = { has_idea = BBW_smog10 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			swap_ideas = {
					add_idea = BBW_smog11
					remove_idea = BBW_smog10
				}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog9 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog10
					remove_idea = BBW_smog9
				}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog8 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog9
					remove_idea = BBW_smog8
				}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog7 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog8
					remove_idea = BBW_smog7
				}
				country_event = {
			id = belchatow.29}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog6 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog7
					remove_idea = BBW_smog6
				}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog5 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog6
					remove_idea = BBW_smog5
				}
					country_event = {
			id = belchatow.22}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog4 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog5
					remove_idea = BBW_smog4
				}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog3 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog4
					remove_idea = BBW_smog3
				}
					country_event = {
			id = belchatow.21}
			}
		}
		if = {
			limit = {
				BBW = { has_idea = BBW_smog2 }
			}
			custom_effect_tooltip = BBW_polution_rising_tt
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_smog3
					remove_idea = BBW_smog2
				}
			}
		}	
		
		###KONIEC###
		if = {
			limit = {
				BBW = { has_idea = BBW_smog12 }
			}  
			add_political_power = 100
		}
		
		else = {
			hidden_effect = {
					activate_mission = BBW_pollution_stage2
				}
		}
		
		}
	}
}	

BBW_deals_category = {
	
	BBW_energy_deal = {
		available = {
			has_country_flag = BBW_started_exporting
		}
#		target_array = { BBW.neighbors_owned }
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				is_neighbor_of = BBW
				NOT = {
					OR ={
						has_country_flag = declined_importing_energy
						has_country_flag = agreed_importing_energy
						has_country_flag = importing_energy
						has_war_with = BBW
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: Decision BBW_energy_deal"
			FROM = {
				country_event = {
					id = energydeals.1
				}
			}
		}
	}

	BBW_trade_agreement = {
		available = {
			has_country_flag = enable_trade_agreements
		}
		visible = {
			NOT = {
				has_country_flag = trade_agreement_in_progress
			}
		}
#		target_array = { BBW.neighbors_owned }
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				is_neighbor_of = BBW
				NOT = {
					OR ={
						has_country_flag = agreed_to_trade
						has_war_with = BBW
					}
				}
			}
		}
		days_remove = 3
		complete_effect = {
			set_country_flag = trade_agreement_in_progress
		}
		days_re_enable = 30
		remove_effect = {
			log = "[GetDateText]: Decision BBW_trade_agreement"
			FROM = {
				country_event = {
					id = belchatow.671
				}
			}
		}
	}	
}

BBW_blackout_category = {
	BBW_looming_catastrophe = {
		activation = {
			has_country_flag = power_failure
		}
		available = {
			not = {
				has_country_flag = power_failure
			}
		}
		is_good = no
		days_mission_timeout = 160
		complete_effect = {
			add_stability = 0.1
		}
		timeout_effect = {
			set_country_flag = get_fuked_by_halabala_lmao
			country_event = {
				id = belchatow.2604
			}
		}
	}
}

BBW_industrial_missions_category = {
	
	BBW_industrial_mission1 = {
		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 140
		is_good = yes
		available = { 
		if = {
			limit = { 
				is_ai = yes
			}  
		}
		else = {
			custom_trigger_tooltip = {
					tooltip = BBW_coal_production_tt
					BBW = {
					check_variable = { resource_produced@coal > 59 }
					}
				}
			}
		}
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = yes
		
		 complete_effect = {
			log = "[GetDateText]: Decision BBW_industrial_mission1"
			custom_effect_tooltip = BBW_industrial_mission_win_tt
			hidden_effect = {
			add_ideas = BBW_industrial_capabilities
			}
			add_offsite_building = { type = industrial_complex level = 1 }
			341 = {
				add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
				}
			}
			hidden_effect = {
			country_event = {
				id = belchatow.28}
				}
				add_to_variable = {
				var_industrial_missions_completed = 1
				}
			}
		timeout_effect = {
		custom_effect_tooltip = BBW_industrial_mission_lose_tt
		hidden_effect = {
			country_event = {
				id = belchatow.27}
			}
		}
	}
	
	BBW_industrial_mission2 = {
		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 140
		is_good = yes
		available = {  
		if = {
			limit = { 
				is_ai = yes
			}  
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = BBW_capital_buildup_tt
					341 = {
						infrastructure > 7
					}
				}
			}
		}
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = yes
		
		complete_effect = {
		log = "[GetDateText]: Decision BBW_industrial_mission2"
		custom_effect_tooltip = BBW_industrial_mission_win_tt
		if = {
			limit = { 
				BBW = { has_idea = BBW_industrial_capabilities }
				} 
			hidden_effect = {
			swap_ideas = {
					add_idea = BBW_industrial_capabilities2
					remove_idea = BBW_industrial_capabilities
				}
			}
		}
		else = {
		hidden_effect = {
			add_ideas = BBW_industrial_capabilities
			}
		}
			add_offsite_building = { type = industrial_complex level = 1 }
			341 = {
				add_extra_state_shared_building_slots = 4
				add_manpower = 25000
				}
			hidden_effect = {
			country_event = {
				id = belchatow.28}
			}
			add_to_variable = {
			var_industrial_missions_completed = 1
			}
		}
	
		timeout_effect = {
		custom_effect_tooltip = BBW_industrial_mission_lose_tt
		hidden_effect = {
			country_event = {
				id = belchatow.27}
			}
		}
	}
			
	BBW_industrial_mission3 = {
		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 140
		is_good = yes
		available = {  
		if = {
			limit = { 
				is_ai = yes
			}  
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = BBW_industrial_test_tt
					BBW = {
					check_variable = { num_of_owned_factories > 20 }
					}
				}
			}
		}
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = yes
		
		complete_effect = {
		log = "[GetDateText]: Decision BBW_industrial_mission3"
		if = {
			limit = { 
			BBW = { has_idea = BBW_industrial_capabilities }
			} 
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities2
				remove_idea = BBW_industrial_capabilities
				}
			}
		}
		if = {
			limit = { 
			BBW = { has_idea = BBW_industrial_capabilities2 }
			}
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities3
				remove_idea = BBW_industrial_capabilities2
				}
			}
		}
		else = {
		hidden_effect = {
		add_ideas = BBW_industrial_capabilities
			}
		}
			custom_effect_tooltip = BBW_industrial_mission_win_tt
			country_event = {
			id = belchatow.28}	
			add_to_variable = {
			var_industrial_missions_completed = 1
			}
		}
	
		timeout_effect = {
			country_event = {
			id = belchatow.27}
		}
	}
	
	
	BBW_industrial_mission4 = {
		icon = GFX_decision_generic_form_nation
		
		days_mission_timeout = 140
		is_good = yes
		available = {  
		if = {
			limit = { 
				is_ai = yes
			}  
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = BBW_military_factories_count_tt
					BBW = {
					check_variable = { num_of_military_factories > 15 }
					}
				}
			}
		}
		
		activation = {
		always = no
		}
		
		allowed = {
			original_tag = BBW
		}

		ai_will_do = {
			factor = 0
		}
		
		fire_only_once = yes
		
		complete_effect = {
		log = "[GetDateText]: Decision BBW_industrial_mission4"
		if = {
			limit = { 
				BBW = { has_idea = BBW_industrial_capabilities3 }
			} 
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities4
				remove_idea = BBW_industrial_capabilities3
				}
			}
		}
		if = {
			limit = { 
				BBW = { has_idea = BBW_industrial_capabilities2 }
			} 
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities3
				remove_idea = BBW_industrial_capabilities2
				}
			}
		}
		else = {
		hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities2
				remove_idea = BBW_industrial_capabilities
				}
			}
		}
			custom_effect_tooltip = BBW_industrial_mission_win_tt
			hidden_effect = {
			country_event = {
				id = belchatow.28}
			}
		}
	
		timeout_effect = {
		custom_effect_tooltip = BBW_industrial_mission_lose_tt
		hidden_effect = {
			country_event = {
				id = belchatow.27}
			}
		}
	}

}
	
	#### JAK COŚ TO MA TO I TAK NA RAZIE NIE DZIAŁAĆ - JEST NA PRZYSZŁOŚĆ ######
	
#Odblokowane dopiero po zjednoczeniu wojewódzctwa 
BBW_industrial_rush_category = {
	BBW_industrial_rush = {
		allowed = {
			original_tag = BBW
			}
			
		target_root_trigger = {
			has_country_flag = BBW_voivodship_united
			NOT = {
				check_variable = { var_industrial_missions_completed > var_industrial_missions_started }
			}
		}

		
		modifier = {	
			consumer_goods_factor = 0.05
			stability_weekly = -0.01
			war_support_weekly = -0.005
		}
		
		cost = 225
		days_re_enable = 10
		days_remove = 28
		complete_effect = {
			
		}
		
		remove_effect = {
			log = "[GetDateText]: Decision BBW_industrial_rush"
			#Pozwala zwiększyć poziom industrializacji jeśli jesteśmy w tyle
			
		if = {
			limit = { 
				BBW = { has_idea = BBW_industrial_capabilities3 }
			} 
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities4
				remove_idea = BBW_industrial_capabilities3
				}
			}
		}
		if = {
			limit = { 
				BBW = { has_idea = BBW_industrial_capabilities2 }
			} 
			hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities3
				remove_idea = BBW_industrial_capabilities2
				}
			}
		}
		else = {
		hidden_effect = {
				swap_ideas = {
				add_idea = BBW_industrial_capabilities2
				remove_idea = BBW_industrial_capabilities
				}
			}
		}
		
		}
	}
}