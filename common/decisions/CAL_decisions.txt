CAL_gravitas_category = {
	CAL_senate_voting_mission = {
		icon = GFX_decision_generic_political_rally
		available = {
			always = no
		}
		allowed = {
			always = no
		}
		is_good = no
		timeout_effect = {
			CAL_senate_voting_result = yes
		}
		days_mission_timeout = 35
	}
	CAL_landscape_evolution = {
		icon = GFX_decision_generic_political_discourse
		available = {
			always = no
		}
		activation = {
			has_country_flag = CAL_senate_opened
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		is_good = yes
		timeout_effect = {
			set_temp_variable = { CAL_gravitas_change_populare = 5 }
			set_temp_variable = { CAL_gravitas_change_optimate = 5 }
			set_temp_variable = { CAL_gravitas_change_legiones = 5 }
			set_temp_variable = { CAL_gravitas_change_preatoriae = 5 }
			set_temp_variable = { CAL_gravitas_change_emperor = 15 }
			#KONSULOWIE
			set_temp_variable = {
				CAL_optimates_consuls = 3
			}
			subtract_from_temp_variable = {
				CAL_optimates_consuls = CAL_populares_consuls
			}
			set_temp_variable = {
				CAL_populares_gravitas_from_consuls = CAL_populares_consuls
			}
			multiply_temp_variable = {
				CAL_populares_gravitas_from_consuls = 10
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_consuls = CAL_optimates_consuls
			}
			multiply_temp_variable = {
				CAL_optimates_gravitas_from_consuls = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_consuls
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate = CAL_optimates_gravitas_from_consuls
			}
			#senat
			set_temp_variable = {
				CAL_populares_gravitas_from_senate = CAL_populares_percentage
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_senate = 1
			}
			subtract_from_temp_variable = {
				CAL_optimates_gravitas_from_senate = CAL_populares_percentage
			}
			multiply_temp_variable = {
				CAL_populares_gravitas_from_senate = 10
			}
			multiply_temp_variable = {
				CAL_optimates_gravitas_from_senate = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_senate
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate = CAL_optimates_gravitas_from_senate
			}
			#loyalty-bonus-populare
			if ={
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_populare = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_populare = 3
				}
			}
			#loyalty-bonus-optimate
			if ={
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_optimate = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_optimate = 3
				}
			}
			#loyalty-bonus-legiones
			if ={
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_legiones = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_legiones = 3
				}
			}
			#loyalty-bonus-preatoriae
			if ={
				limit = {
					check_variable = {
						var = CAL_praetoriae_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_preatoriae = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_preatoriae = 3
				}
			}
			#from units
			set_temp_variable = {
				CAL_populares_gravitas_from_units = CAL_units_under_populares
			}
			divide_temp_variable = {
				CAL_populares_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_units
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_units = CAL_units_under_optimates
			}
			divide_temp_variable = {
				CAL_optimates_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate  = CAL_optimates_gravitas_from_units
			}
			set_temp_variable = {
				CAL_legiones_gravitas_from_units = CAL_units_under_legiones
			}
			divide_temp_variable = {
				CAL_legiones_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_legiones = CAL_legiones_gravitas_from_units
			}
			set_temp_variable = {
				CAL_preatoriae_gravitas_from_units = CAL_units_under_praetoriae
			}
			divide_temp_variable = {
				CAL_preatoriae_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_preatoriae = CAL_preatoriae_gravitas_from_units
			}
			#from imperial_favors
			if = {
				limit = {
					has_country_flag = emperor_favored_populares
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 10
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_optimates
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 10
				}
				add_to_variable = {
					CAL_optimates_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_populares
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 10
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_legiones
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones  = 10
				}
				add_to_variable = {
					CAL_legiones_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_preatoriae
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 10
				}
				add_to_variable = {
					CAL_preatoriae_loyalty = 3
				}
			}
			#z gubernatorów
			if = {
				limit = { 
					has_idea = CAL_governor_phaon
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 5
				}
				add_to_variable = {
					CAL_preatoriae_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_cinastovicus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 5
				}
				add_to_variable = {
					CAL_preatoriae_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_naimanus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 5
				}
				add_to_variable = {
					CAL_preatoriae_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_majorix
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 5
				}
				add_to_variable = {
					CAL_legiones_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_vinicius
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 5
				}
				add_to_variable = {
					CAL_legiones_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_obaitex
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 5
				}
				add_to_variable = {
					CAL_optimates_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_scriptor
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 5
				}
				add_to_variable = {
					CAL_optimates_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_bescus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 5
				}
				add_to_variable = {
					CAL_optimates_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_trascovicus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 5
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_sturnus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 5
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = { 
					has_idea = CAL_governor_iconovicus
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 5
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change_populare
				tooltip = CAL_change_gravitas_populares_tt_sum
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change_optimate
				tooltip = CAL_change_gravitas_optimates_tt_sum
			}
			add_to_variable = {
				var = CAL_legiones_gravitas
				value = CAL_gravitas_change_legiones
				tooltip = CAL_change_gravitas_legiones_tt_sum
			}
			add_to_variable = {
				var = CAL_praetoriae_gravitas
				value = CAL_gravitas_change_preatoriae
				tooltip = CAL_change_gravitas_praetoriae_tt_sum
			}
			add_to_variable = {
				var = CAL_emperor_gravitas
				value = CAL_gravitas_change_emperor
				tooltip = CAL_change_gravitas_emperor_tt_sum
			}			
			CAL_clamp_on_loyalty_and_gravitas = yes
		}
		days_mission_timeout = 90
		remove_trigger = {
			has_country_flag = CAL_senate_opened
		}
	}
	CAL_imperial_intervention = {
		icon = GFX_decision_generic_speech
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 40
				compare = greater_than_or_equals
			}
		}
        visible = {
			has_active_mission = CAL_senate_voting_mission
			not = {
				has_country_flag = emperor_intervened
			}
			NOT = {
				has_country_flag = CAL_ager_publicus_vote
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
        }
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -40
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			if = {
				limit = {
					has_country_flag = CAL_populares_lex_voting
				}
				CAL_intervene_to_optimates = yes
			} 
			else_if = {
				limit = {
					has_country_flag = CAL_optimates_lex_voting
				}
				CAL_intervene_to_populares = yes
			}
			else = {
				log = "you don't set flag"
			}
			set_country_flag = emperor_intervened
			custom_effect_tooltip = CAL_quarter_senators_pushed
		}
	}
	CAL_bestow_favor_to_populares = {
		icon = GFX_decision_generic_welfare
		visible = {
			NOT = {
				has_country_flag = emperor_favored_populares
			}
			check_variable = {
				CAL_decision_group = 1
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_optimates = {
		icon = GFX_decision_generic_welfare
		visible = {
			NOT = {
				has_country_flag = emperor_favored_optimates
			}
			check_variable = {
				CAL_decision_group = 2
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			set_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_legiones = {
		icon = GFX_decision_generic_welfare
		visible = {
			NOT = {
				has_country_flag = emperor_favored_legiones
			}
			check_variable = {
				CAL_decision_group = 3
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			set_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_praetoriae = {
		icon = GFX_decision_generic_welfare
		visible = {
			NOT = {
				has_country_flag = emperor_favored_preatoriae
			}
			check_variable = {
				CAL_decision_group = 4
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			set_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_grant_privileges_to_populares = {
		icon = GFX_decision_generic_fundraising
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_populares_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_populares_tt
			}
		}
	}
	CAL_grant_privileges_to_optimates = {
		icon = GFX_decision_generic_fundraising
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_optimates_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_optimates_tt
			}
		}
	}
	CAL_grant_privileges_to_legiones = {
		icon = GFX_decision_generic_protection
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 3
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_legiones_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_legiones_tt
			}
			multiply_temp_variable = {
				CAL_gravitas_change = -1
			}
			add_to_variable = {
				var = CAL_legiones_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_legiones_tt
			}
		}
	}
	CAL_grant_privileges_to_praetoriae = {
		icon = GFX_decision_generic_protection
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 4
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_preatoriae_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_praetoriae_tt
			}
			multiply_temp_variable = {
				CAL_gravitas_change = -1
			}
			add_to_variable = {
				var = CAL_praetoriae_loyalty 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_praetoriae_tt
			}
		}
	}
	CAL_bribe_optimate_senators = {
		icon = GFX_decision_hol_exchange_intelligence_data
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 25
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 60
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -25
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			set_temp_variable = {
				CAL_senators_to_bribe = CAL_optimates_count
			}
			set_temp_variable = {
				CAL_perc_to_take = party_popularity@autocracy
			}
			divide_temp_variable = {
				CAL_senators_to_bribe = 20
			}
			divide_temp_variable = {
				CAL_perc_to_take = 20
			}
			add_popularity = {
				ideology = socialdemocrature
				popularity = CAL_perc_to_take
			}
			multiply_temp_variable = {
				CAL_perc_to_take = -1
			}
			add_popularity = {
				ideology = autocracy
				popularity = CAL_perc_to_take
			}
			round_temp_variable = CAL_senators_to_bribe
			log = "[?CAL_senators_to_bribe]"
			custom_effect_tooltip = CAL_bribe_senators_tt
			add_to_variable = {
				CAL_populares_count = CAL_senators_to_bribe
			}
			if = {
				limit = {
					check_variable = {
						CAL_senate_lvl = 1
					}
				}
				set_variable = {
					CAL_optimates_count = 100
				}
				subtract_from_variable = {
					CAL_optimates_count = CAL_populares_count
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 2
						}
					}
					set_variable = {
						CAL_optimates_count = 150
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 3
						}
					}
					set_variable = {
						CAL_optimates_count = 300
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else = {
					set_variable = {
						CAL_optimates_count = 900
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
			}
			CAL_redraw_senate_diagram = yes
		}
	}
	CAL_bribe_populare_senators = {
		icon = GFX_decision_hol_exchange_intelligence_data
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 25
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 60
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -25
			}
			add_to_variable = {
				var = CAL_optimates_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			set_temp_variable = {
				CAL_senators_to_bribe = CAL_populares_count
			}
			set_temp_variable = {
				CAL_perc_to_take = party_popularity@socialdemocrature
			}
			divide_temp_variable = {
				CAL_senators_to_bribe = 20
			}
			divide_temp_variable = {
				CAL_perc_to_take = 20
			}
			add_popularity = {
				ideology = autocracy
				popularity = CAL_perc_to_take
			}
			multiply_temp_variable = {
				CAL_perc_to_take = -1
			}
			add_popularity = {
				ideology = socialdemocrature
				popularity = CAL_perc_to_take
			}
			round_temp_variable = CAL_senators_to_bribe
			log = "[?CAL_senators_to_bribe]"
			custom_effect_tooltip = CAL_bribe_senators_tt
			subtract_from_variable = {
				CAL_populares_count = CAL_senators_to_bribe
			}
			if = {
				limit = {
					check_variable = {
						CAL_senate_lvl = 1
					}
				}
				set_variable = {
					CAL_optimates_count = 100
				}
				subtract_from_variable = {
					CAL_optimates_count = CAL_populares_count
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 2
						}
					}
					set_variable = {
						CAL_optimates_count = 150
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 3
						}
					}
					set_variable = {
						CAL_optimates_count = 300
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else = {
					set_variable = {
						CAL_optimates_count = 900
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
			}
			CAL_redraw_senate_diagram = yes
		}
	}
	CAL_plead_to_fellow_populares = {
		icon = GFX_decision_SWI_support_humanitarian_efforts
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 10
				compare = greater_than_or_equals
			}
			custom_trigger_tooltip = {
				tooltip = CAL_some_populars_to_sway_tt
				check_variable = {
					CAL_populares_moving_yes_percentage < 1
				}
			}
		}
		days_re_enable = 7
		visible = {
			has_country_flag = CAL_populares_lex_voting
			NOT = {
				has_country_flag = CAL_ager_publicus_vote
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -10
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			CAL_populare_plea = yes
		}
	}
	CAL_plead_to_fellow_optimates = {
		icon = GFX_decision_SWI_support_humanitarian_efforts
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 10
				compare = greater_than_or_equals
			}
			custom_trigger_tooltip = {
				tooltip = CAL_some_optimats_to_sway_tt
				check_variable = {
					CAL_optimates_moving_yes_percentage < 1
				}
			}
		}
		days_re_enable = 7
		visible = {
			has_country_flag = CAL_optimates_lex_voting
			NOT = {
				has_country_flag = CAL_ager_publicus_vote
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -10
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			CAL_optimate_plea = yes
		}
	}
	CAL_coerce_optimates_to_vote = {
		icon = GFX_decision_SWI_dismiss_council
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 15
				compare = greater_than_or_equals
			}
			custom_trigger_tooltip = {
				tooltip = CAL_some_optimats_to_sway_tt
				check_variable = {
					CAL_optimates_moving_yes_percentage < 1
				}
			}
		}
		days_re_enable = 7
		visible = {
			has_country_flag = CAL_populares_lex_voting
			NOT = {
				has_country_flag = CAL_ager_publicus_vote
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -15
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			CAL_optimate_vote_bribery = yes
		}
	}
	CAL_coerce_populares_to_vote = {
		icon = GFX_decision_SWI_dismiss_council
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 15
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 7
		visible = {
			has_country_flag = CAL_optimates_lex_voting
			NOT = {
				has_country_flag = CAL_ager_publicus_vote
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -15
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			CAL_populare_vote_bribery = yes
		}
	}
	CAL_bribe_optimate_commander = {
		icon = GFX_decision_gre_investment_decisions
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = popular
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_populare_commander = {
		icon = GFX_decision_gre_investment_decisions
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = optimate
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_praetorian = {
		icon = GFX_decision_gre_investment_decisions
		available = {
			check_variable = {
				var = CAL_legiones_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 3
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_legiones_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_legiones_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = legionarius
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_legionarius = {
		icon = GFX_decision_gre_investment_decisions
		available = {
			check_variable = {
				var = CAL_praetoriae_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 4
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
			not = {
				has_country_flag = CAL_senate_closed_due_to_grmans
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_praetoriae_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_praetoriae_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = praetorian
			}
			
		}
		days_re_enable = 90
	}

	CAL_additional_payment_for_legions = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 50
				compare = greater_than_or_equals
			}
		}

		visible = {
			check_variable = {
				CAL_decision_group = 3
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -50
			}
			set_temp_variable = {
				CAL_loyalty_change = 30
			}
			add_to_variable = {
				var = CAL_emperor_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_legiones_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_legiones_tt
			}
		}
		days_re_enable = 180
	}

	CAL_additional_payment_for_praetoriae = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 50
				compare = greater_than_or_equals
			}
		}

		visible = {
			check_variable = {
				CAL_decision_group = 4
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -50
			}
			set_temp_variable = {
				CAL_loyalty_change = 30
			}
			add_to_variable = {
				var = CAL_emperor_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_praetoriae_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_praetoriae_tt
			}
		}
		days_re_enable = 180
	}

	CAL_emperors_alertness = {
		activation = {
			always = no
		}

		available = {
			has_country_flag = CAL_spisek 
		}
		icon = GFX_decision_hol_exchange_intelligence_data #tymczasowo aż ktoś nie znajdzie lepszej ikonki
		is_good = no
		days_mission_timeout = 70
		timeout_effect = {
			if = {
				limit = {
					check_variable = {
						var = CAL_emperor_gravitas
						value = CAL_praetoriae_gravitas
						compare = greater_than
					}
				}
				custom_effect_tooltip = CAL_emperors_alertness_high_tt
				hidden_effect = {
					country_event = calisia.154
				}
			}
			else = {
				custom_effect_tooltip = CAL_emperors_alertness_low_tt
			}
		}
	}
}

CAL_empire_management_category = {
	CAL_appoint_governor = {
		allowed = {
			always = yes
		}
		cost = 200
		visible = {
			or = {
				and = {
					check_variable = {
						CAL_region_chosen = 1
					}
					NOT = {
						has_idea = CAL_governor_phaon
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 2
					}
					NOT = {
						has_idea = CAL_governor_scriptor
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 4
					}
					NOT = {
						has_idea = CAL_governor_obaitex
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 5
					}
					NOT = {
						has_idea = CAL_governor_majorix
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 6
					}
					NOT = {
						has_idea = CAL_governor_cinastovicus
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 7
					}
					NOT = {
						has_idea = CAL_governor_bescus
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 8
					}
					NOT = {
						has_idea = CAL_governor_naimanus
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 9
					}
					NOT = {
						has_idea = CAL_governor_trascovicus
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 10
					}
					NOT = {
						has_idea = CAL_governor_iconovicus
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 11
					}
					NOT = {
						has_idea = CAL_governor_vinicius
					}
				}
				and = {
					check_variable = {
						CAL_region_chosen = 12
					}
					NOT = {
						has_idea = CAL_governor_sturnus
					}
				}
			}
		}
		complete_effect = {
			custom_effect_tooltip = CAL_appoint_governor_tt
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 1
						}
					}
					add_ideas = CAL_governor_phaon
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 2
						}
					}
					add_ideas = CAL_governor_scriptor
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 4
						}
					}
					add_ideas = CAL_governor_obaitex
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 5
						}
					}
					add_ideas = CAL_governor_majorix
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 6
						}
					}
					add_ideas = CAL_governor_cinastovicus
					PRT = {
						remove_ideas = podlasie_tribe_idea
					}
					every_state = {
						limit = {
							is_dolny_slask_state = yes
						}
						transfer_state_to = PRT
					}
					342 = {
						set_state_owner_to = CAL
						set_state_controller_to = CAL
					}
					337 = {
						set_state_owner_to = CAL
						set_state_controller_to = CAL
					}
					359 = {
						set_state_owner_to = CAL
						set_state_controller_to = CAL
					}
					set_portraits = {
						character = CAL_krystian_kinastowski
						civilian = { large ="GFX_CAL_Kinastowski2" }
					}
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 7
						}
					}
					add_ideas = CAL_governor_bescus
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 8
						}
					}
					add_ideas = CAL_governor_naimanus
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 9
						}
					}
					add_ideas = CAL_governor_trascovicus
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 10
						}
					}
					add_ideas = CAL_governor_iconovicus
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 11
						}
					}
					add_ideas = CAL_governor_vinicius
					ALP = {
						remove_ideas = podlasie_tribe_idea
					}
					every_state = {
						limit = {
							is_small_galicia_state = yes
						}
						transfer_state_to = ALP
					}
					266 = {
						set_state_owner_to = CAL
						set_state_controller_to = CAL
					}
					set_portraits = {
						character = CAL_pawel_delag
						civilian = { large ="GFX_CAL_Winicjusz2" }
					}
				}
				if = {
					limit = {
						check_variable = {
							CAL_region_chosen = 12
						}
					}
					add_ideas = CAL_governor_sturnus
				}
			}
		}
	}
}

CAL_triumvirate_war_counter = {
	CAL_legion_capitulation = {
		icon = GFX_decision_generic_form_nation
		activation = {
			has_country_flag = CAL_triumvirate_war
			ALP = { surrender_progress > 0.5 }
				#PRT = { surrender_progress > 0.5 }
				#CAL = { surrender_progress > 0.5 }
		}
		available = {
			ALP = { surrender_progress < 0.5 }
				#PRT = { surrender_progress < 0.5 }
				#CAL = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			ALP = { surrender_progress < 0.5 }
		}
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			country_event = calisia.129
		}
	}
	CAL_senate_capitulation = {
		icon = GFX_decision_generic_form_nation
		activation = {
			has_country_flag = CAL_triumvirate_war
			CAL = { surrender_progress > 0.5 }
		}
		available = {
			CAL = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			CAL = { surrender_progress < 0.5 }
		}
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			country_event = calisia.129
		}
	}
	CAL_praetorian_capitulation = {
		activation = {
			has_country_flag = CAL_triumvirate_war
			PRT = { surrender_progress > 0.5 }
		}
		available = {
			PRT = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			PRT = { surrender_progress < 0.5 }
		}
		icon = GFX_decision_generic_form_nation
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			country_event = calisia.129
		}
	}
}