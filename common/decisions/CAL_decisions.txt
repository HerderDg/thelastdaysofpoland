CAL_gravitas_category = {
	CAL_senate_voting_mission = {
		available = {
			always = no
		}
		allowed = {
			always = no
		}
		is_good = no
		timeout_effect = {
			CAL_senate_voting_result = yes
		}
		days_mission_timeout = 35
	}
	CAL_landscape_evolution = {
		available = {
			always = no
		}
		activation = {
			has_country_flag = CAL_senate_opened
		}
		is_good = yes
		timeout_effect = {
			set_temp_variable = { CAL_gravitas_change_populare = 5 }
			set_temp_variable = { CAL_gravitas_change_optimate = 5 }
			set_temp_variable = { CAL_gravitas_change_legiones = 5 }
			set_temp_variable = { CAL_gravitas_change_preatoriae = 5 }
			set_temp_variable = { CAL_gravitas_change_emperor = 0 }
			#KONSULOWIE
			set_temp_variable = {
				CAL_optimates_consuls = 3
			}
			subtract_from_temp_variable = {
				CAL_optimates_consuls = CAL_populares_consuls
			}
			set_temp_variable = {
				CAL_populares_gravitas_from_consuls = CAL_populares_consuls
			}
			multiply_temp_variable = {
				CAL_populares_gravitas_from_consuls = 10
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_consuls = CAL_optimates_consuls
			}
			multiply_temp_variable = {
				CAL_optimates_gravitas_from_consuls = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_consuls
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate = CAL_optimates_gravitas_from_consuls
			}
			#senat
			set_temp_variable = {
				CAL_populares_gravitas_from_senate = CAL_populares_percentage
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_senate = 1
			}
			subtract_from_temp_variable = {
				CAL_optimates_gravitas_from_senate = CAL_populares_percentage
			}
			multiply_temp_variable = {
				CAL_populares_gravitas_from_senate = 10
			}
			multiply_temp_variable = {
				CAL_optimates_gravitas_from_senate = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_senate
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate = CAL_optimates_gravitas_from_senate
			}
			#loyalty-bonus-populare
			if ={
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_populares_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_populare = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_populare = 3
				}
			}
			#loyalty-bonus-optimate
			if ={
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_optimates_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_optimate = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_optimate = 3
				}
			}
			#loyalty-bonus-legiones
			if ={
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_legiones_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_legiones = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_legiones = 3
				}
			}
			#loyalty-bonus-preatoriae
			if ={
				limit = {
					check_variable = {
						var = CAL_praetoriae_loyalty
						value = 10
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 5
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 20
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 3
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 30
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 1
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 80
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
			}
			else_if = {
				limit = {
					check_variable = {
						var = CAL_preatoriae_loyalty
						value = 90
						compare = less_than_or_equals
					}
				}
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 10
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_preatoriae = 1
				}
			}
			else = {
				add_to_temp_variable = {
					CAL_gravitas_change_emperor = 15
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_preatoriae = 3
				}
			}
			#from units
			set_temp_variable = {
				CAL_populares_gravitas_from_units = CAL_units_under_populares
			}
			divide_temp_variable = {
				CAL_populares_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_populare = CAL_populares_gravitas_from_units
			}
			set_temp_variable = {
				CAL_optimates_gravitas_from_units = CAL_units_under_optimates
			}
			divide_temp_variable = {
				CAL_optimates_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_optimate  = CAL_optimates_gravitas_from_units
			}
			set_temp_variable = {
				CAL_legiones_gravitas_from_units = CAL_units_under_legiones
			}
			divide_temp_variable = {
				CAL_legiones_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_legiones = CAL_legiones_gravitas_from_units
			}
			set_temp_variable = {
				CAL_preatoriae_gravitas_from_units = CAL_units_under_praetoriae
			}
			divide_temp_variable = {
				CAL_preatoriae_gravitas_from_units = 10
			}
			add_to_temp_variable = {
				CAL_gravitas_change_preatoriae = CAL_preatoriae_gravitas_from_units
			}
			#from imperial_favors
			if = {
				limit = {
					has_country_flag = emperor_favored_populares
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 10
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_optimates
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_optimate = 10
				}
				add_to_variable = {
					CAL_optimates_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_populares
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_populare = 10
				}
				add_to_variable = {
					CAL_populares_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_legiones
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_legiones  = 10
				}
				add_to_variable = {
					CAL_legiones_loyalty = 3
				}
			}
			if = {
				limit = {
					has_country_flag = emperor_favored_preatoriae
				}
				subtract_from_temp_variable = {
					CAL_gravitas_change_emperor = 5
				}
				add_to_temp_variable = {
					CAL_gravitas_change_preatoriae = 10
				}
				add_to_variable = {
					CAL_preatoriae_loyalty = 3
				}
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change_populare
				tooltip = CAL_change_gravitas_populares_tt_sum
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change_optimate
				tooltip = CAL_change_gravitas_optimates_tt_sum
			}
			add_to_variable = {
				var = CAL_legiones_gravitas
				value = CAL_gravitas_change_legiones
				tooltip = CAL_change_gravitas_legiones_tt_sum
			}
			add_to_variable = {
				var = CAL_praetoriae_gravitas
				value = CAL_gravitas_change_preatoriae
				tooltip = CAL_change_gravitas_praetoriae_tt_sum
			}
			add_to_variable = {
				var = CAL_emperor_gravitas
				value = CAL_gravitas_change_emperor
				tooltip = CAL_change_gravitas_emperor_tt_sum
			}			
			clamp_variable = {
				var = CAL_populares_gravitas
				max = 200
			}
			clamp_variable = {
				var = CAL_optimates_gravitas
				max = 200
			}
			clamp_variable = {
				var = CAL_legiones_gravitas
				max = 200
			}
			clamp_variable = {
				var = CAL_praetoriae_gravitas
				max = 200
			}
			clamp_variable = {
				var = CAL_emperor_gravitas
				max = 200
			}
			clamp_variable = {
				var = CAL_populares_loyalty
				max = 100
			}
			clamp_variable = {
				var = CAL_optimates_loyalty
				max = 100
			}
			clamp_variable = {
				var = CAL_legiones_loyalty
				max = 100
			}
			clamp_variable = {
				var = CAL_praetoriae_loyalty
				max = 100
			}
			clamp_variable = {
				var = CAL_emperor_gravitas
				max = 200
			}
		}
		days_mission_timeout = 90
	}
	show_senatebox_gui = {
		visible = {
			is_ai = no
			is_debug = yes
		}
		complete_effect = {
			set_country_flag = senatebox_shown
		}
	}
	
	hide_senatebox_gui = {
		visible = {
			is_ai = no
			is_debug = yes
			has_country_flag = senatebox_shown
		}
		complete_effect = {
			clr_country_flag = senatebox_shown
		}
	}
    CAL_debug_add_populares_gravitas = {
		available = {
			always = yes
		}
        visible = {
            always = yes
			is_debug = yes
        }
		icon = mission_icon   
		complete_effect = {
			set_temp_variable = { CAL_gravitas_change = 5 }
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
		}
	}
	CAL_debug_add_optimates_gravitas = {
		available = {
			always = yes
		}
        visible = {
            always = yes
			is_debug = yes
        }
		icon = mission_icon   
		complete_effect = {
			set_temp_variable = { CAL_gravitas_change = 5 }
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
		}
	}
	CAL_debug_add_legiones_gravitas = {
		available = {
			always = yes
		}
        visible = {
            always = yes
			is_debug = yes
        }
		icon = mission_icon   
		complete_effect = {
			set_temp_variable = { CAL_gravitas_change = 5 }
			add_to_variable = {
				var = CAL_legiones_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_legiones_tt
			}
		}
	}
	CAL_debug_add_praetoriae_gravitas = {
		available = {
			always = yes
		}
        visible = {
            always = yes
			is_debug = yes
        }
		icon = mission_icon   
		complete_effect = {
			set_temp_variable = { CAL_gravitas_change = 5 }
			add_to_variable = {
				var = CAL_praetoriae_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_praetoriae_tt
			}
		}
	}
	CAL_imperial_intervention = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 40
				compare = greater_than_or_equals
			}
		}
        visible = {
			has_active_mission = CAL_senate_voting_mission
			not = {
				has_country_flag = emperor_intervened
			}
        }
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -40
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			if = {
				limit = {
					has_country_flag = CAL_populares_lex_voting
				}
				CAL_intervene_to_optimates = yes
			} 
			else_if = {
				limit = {
					has_country_flag = CAL_optimates_lex_voting
				}
				CAL_intervene_to_populares = yes
			}
			else = {
				log = "you don't set flag"
			}
			set_country_flag = emperor_intervened
			custom_effect_tooltip = CAL_quarter_senators_pushed
		}
	}
	CAL_bestow_favor_to_populares = {
		visible = {
			NOT = {
				has_country_flag = emperor_favored_populares
			}
			check_variable = {
				CAL_decision_group = 1
			}
		}
		complete_effect = {
			set_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_optimates = {
		visible = {
			NOT = {
				has_country_flag = emperor_favored_optimates
			}
			check_variable = {
				CAL_decision_group = 2
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			set_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_legiones = {
		visible = {
			NOT = {
				has_country_flag = emperor_favored_legiones
			}
			check_variable = {
				CAL_decision_group = 3
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			set_country_flag = emperor_favored_legiones
			clr_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_bestow_favor_to_preatoriae = {
		visible = {
			NOT = {
				has_country_flag = emperor_favored_preatoriae
			}
			check_variable = {
				CAL_decision_group = 4
			}
		}
		complete_effect = {
			clr_country_flag = emperor_favored_populares
			clr_country_flag = emperor_favored_optimates
			clr_country_flag = emperor_favored_legiones
			set_country_flag = emperor_favored_preatoriae
			custom_effect_tooltip = CAL_favor_bestowing_tt
		}
	}
	CAL_grant_privileges_to_populares = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_populares_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_populares_tt
			}
		}
	}
	CAL_grant_privileges_to_optimates = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_optimates_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_optimates_tt
			}
		}
	}
	CAL_grant_privileges_to_legiones = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 3
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_legiones_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_legiones_tt
			}
			multiply_temp_variable = {
				CAL_gravitas_change = -1
			}
			add_to_variable = {
				var = CAL_legiones_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_legiones_tt
			}
		}
	}
	CAL_grant_privileges_to_praetoriae = {
		available = {
			check_variable = {
				var = CAL_emperor_gravitas
				value = 20
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 90
		visible = {
			check_variable = {
				CAL_decision_group = 4
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -20
			}
			set_temp_variable = {
				CAL_loyalty_change = 10
			}
			add_to_variable = {
				var = CAL_emperor_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_emperor_tt
			}
			add_to_variable = {
				var = CAL_preatoriae_loyalty
				value = CAL_loyalty_change
				tooltip = CAL_change_loyalty_praetoriae_tt
			}
			multiply_temp_variable = {
				CAL_gravitas_change = -1
			}
			add_to_variable = {
				var = CAL_praetoriae_loyalty 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_praetoriae_tt
			}
		}
	}
	CAL_bribe_optimate_senators = {
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 25
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 60
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -25
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			set_temp_variable = {
				CAL_senators_to_bribe = CAL_optimates_count
			}
			divide_temp_variable = {
				CAL_senators_to_bribe = 20
			}
			round_temp_variable = CAL_senators_to_bribe
			log = "[?CAL_senators_to_bribe]"
			custom_effect_tooltip = CAL_bribe_senators_tt
			add_to_variable = {
				CAL_populares_count = CAL_senators_to_bribe
			}
			if = {
				limit = {
					check_variable = {
						CAL_senate_lvl = 1
					}
				}
				set_variable = {
					CAL_optimates_count = 100
				}
				subtract_from_variable = {
					CAL_optimates_count = CAL_populares_count
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 2
						}
					}
					set_variable = {
						CAL_optimates_count = 150
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 3
						}
					}
					set_variable = {
						CAL_optimates_count = 300
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else = {
					set_variable = {
						CAL_optimates_count = 900
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
			}
			CAL_redraw_senate_diagram = yes
		}
	}
	CAL_bribe_populare_senators = {
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 25
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 60
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -25
			}
			add_to_variable = {
				var = CAL_optimates_gravitas 
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			set_temp_variable = {
				CAL_senators_to_bribe = CAL_populares_count
			}
			divide_temp_variable = {
				CAL_senators_to_bribe = 20
			}
			round_temp_variable = CAL_senators_to_bribe
			log = "[?CAL_senators_to_bribe]"
			custom_effect_tooltip = CAL_bribe_senators_tt
			subtract_from_variable = {
				CAL_populares_count = CAL_senators_to_bribe
			}
			if = {
				limit = {
					check_variable = {
						CAL_senate_lvl = 1
					}
				}
				set_variable = {
					CAL_optimates_count = 100
				}
				subtract_from_variable = {
					CAL_optimates_count = CAL_populares_count
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 2
						}
					}
					set_variable = {
						CAL_optimates_count = 150
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else_if = {
					limit = {
						check_variable = {
							CAL_senate_lvl = 3
						}
					}
					set_variable = {
						CAL_optimates_count = 300
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
				else = {
					set_variable = {
						CAL_optimates_count = 900
					}
					subtract_from_variable = {
						CAL_optimates_count = CAL_populares_count
					}
				}
			}
			CAL_redraw_senate_diagram = yes
		}
	}
	CAL_plead_to_fellow_populares = {
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 10
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 7
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			has_country_flag = CAL_populares_lex_voting
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -10
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			CAL_populare_plea = yes
		}
	}
	CAL_plead_to_fellow_optimates = {
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 10
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 7
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			has_country_flag = CAL_optimates_lex_voting
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -10
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			CAL_optimate_plea = yes
		}
	}
	CAL_coerce_optimates_to_vote = {
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 15
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 7
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			has_country_flag = CAL_populares_lex_voting
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -15
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			CAL_optimate_vote_bribery = yes
		}
	}
	CAL_coerce_populares_to_vote = {
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 15
				compare = greater_than_or_equals
			}
		}
		days_re_enable = 7
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			has_country_flag = CAL_optimates_lex_voting
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -15
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			CAL_populare_vote_bribery = yes
		}
	}
	CAL_bribe_optimate_commander = {
		available = {
			check_variable = {
				var = CAL_populares_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 1
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_populares_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_populares_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = popular
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_populare_commander = {
		available = {
			check_variable = {
				var = CAL_optimates_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 2
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_optimates_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_optimates_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = optimate
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_praetorian = {
		available = {
			check_variable = {
				var = CAL_legiones_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 3
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_legiones_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_legiones_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = legionarius
			}
		}
		days_re_enable = 90
	}
	CAL_bribe_legionarius = {
		available = {
			check_variable = {
				var = CAL_praetoriae_gravitas
				value = 30
				compare = greater_than_or_equals
			}
		}
		visible = {
			check_variable = {
				CAL_decision_group = 4
			}
			any_army_leader = {
				NOT = {
					has_trait = legionarius
					has_trait = praetorian
					has_trait = popular
					has_trait = optimate
					is_character = CAL_ricardus_calisius
				}
			}
		}
		complete_effect = {
			set_temp_variable = {
				CAL_gravitas_change = -30
			}
			add_to_variable = {
				var = CAL_praetoriae_gravitas
				value = CAL_gravitas_change
				tooltip = CAL_change_gravitas_praetoriae_tt
			}
			random_army_leader = {
				limit = {
					NOT = {
						has_trait = legionarius
						has_trait = praetorian
						has_trait = popular
						has_trait = optimate
						is_character = CAL_ricardus_calisius
					}
				}
				add_unit_leader_trait = praetorian
			}
		}
		days_re_enable = 90
	}
}

CAL_triumvirate_war_counter = {
	CAL_legion_capitulation = {
		activation = {
			has_country_flag = CAL_triumvirate_war
			ALP = { surrender_progress > 0.5 }
				#PRT = { surrender_progress > 0.5 }
				#CAL = { surrender_progress > 0.5 }
		}
		available = {
			ALP = { surrender_progress < 0.5 }
				#PRT = { surrender_progress < 0.5 }
				#CAL = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			ALP = { surrender_progress < 0.5 }
		}
		icon = mission_icon
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			event = calisia.129
		}
	}
	CAL_senate_capitulation = {
		activation = {
			has_country_flag = CAL_triumvirate_war
			CAL = { surrender_progress > 0.5 }
		}
		available = {
			CAL = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			CAL = { surrender_progress < 0.5 }
		}
		icon = mission_icon
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			event = calisia.129
		}
	}
	CAL_praetorian_capitulation = {
		activation = {
			has_country_flag = CAL_triumvirate_war
			PRT = { surrender_progress > 0.5 }
		}
		available = {
			PRT = { surrender_progress < 0.5 }
		}
		cancel_trigger = {
			PRT = { surrender_progress < 0.5 }
		}
		icon = mission_icon
		is_good = yes
		days_mission_timeout = 60
		selectable_mission = no
		complete_effect = {
			
		}
		timeout_effect = {
			event = calisia.129
		}
	}
}