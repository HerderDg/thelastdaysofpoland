upgrade_military_law = {
	if = {
		limit = {
			has_idea = disarmed_nation
		}
		add_ideas = volunteer_only
	}
	else_if = {
		limit = {
			has_idea = volunteer_only
		}
		add_ideas = random_enlistment
	}
	else_if = {
		limit = {
			has_idea = random_enlistment
		}
		add_ideas = system_enlistment
	}
	else_if = {
		limit = {
			has_idea = system_enlistment
		}
		add_ideas = expanded_conscription
	}
	else_if = {
		limit = {
			has_idea = expanded_conscription
		}
		add_ideas = ubiquitous_military_service
	}
	else_if = {
		limit = {
			has_idea = ubiquitous_military_service
		}
		add_ideas = total_mobilisation
	}
	else_if = {
		limit = {
			has_idea = total_mobilisation
		}
		add_ideas = army_with_a_state
	}
	else = {
		add_political_power = 150
	}
}



calculate_energy_balance = {
	calculate_generated_energy = yes
	calculate_used_energy = yes
	set_variable = { current_balance = generated_energy }
	subtract_from_variable = { current_balance = used_energy }
	if = {
		limit = {
			has_variable = energy_exported
		}
		subtract_from_variable = { current_balance = energy_exported }
	}
	if = {
		limit = {
			has_variable = energy_imported
		}
		add_to_variable = { current_balance = energy_imported }
	}
	calculate_energy_effects = yes
	#log = "[GetDateText]: [ROOT.GetName] - energy tick"
}

calculate_generated_energy = {
	set_temp_variable = { num_of_power_plants = 0 }
	set_temp_variable = { num_of_wind_farms = 0 }
	set_variable = { coal_used_by_power_plants = 0 }
	set_variable = { free_coal = resource@coal }
	every_controlled_state = {
		limit = {
			always = yes
		}
		set_variable = { this.power_plants_in_state = building_level@power_plant }
		add_to_temp_variable = { PREV.num_of_power_plants = building_level@power_plant }
		add_to_temp_variable = { PREV.num_of_wind_farms = building_level@wind_farm }
		if = {
			limit = {
				check_variable = {this.power_plants_in_state > 0}
			}
			add_to_variable = {
				prev.coal_used_by_power_plants = this.power_plants_in_state
			}
		}
	}
	multiply_variable = {
		coal_used_by_power_plants = 5
	}
	add_dynamic_modifier = {
		modifier = coal_used_by_power_plants_modifier
	}
	set_variable = { generated_energy = num_of_power_plants }
	set_variable = {lack_of_coal_modifier = 1}
	multiply_variable = { generated_energy = 1350 }
	if = {
		limit = {
			check_variable = {
				var = free_coal
				value = 0
				compare = less_than
			}
		}
		set_variable = {lack_of_coal_modifier = free_coal}
		divide_variable = {lack_of_coal_modifier = coal_used_by_power_plants}
		clamp_variable = { 
			var = lack_of_coal_modifier
			min = -0.9
			max = 0
		}
		add_to_variable = {lack_of_coal_modifier = 1}
	}
	
	multiply_variable = { generated_energy = lack_of_coal_modifier }
	set_temp_variable = { energy_from_wind_farms = num_of_wind_farms }
	multiply_temp_variable = { energy_from_wind_farms = 675 }
	add_to_variable = { generated_energy = energy_from_wind_farms }
	set_variable = { bonus_from_ideas = 1.0}
	add_to_variable = {bonus_from_ideas = modifier@energy_modifer}
	multiply_variable = { generated_energy = bonus_from_ideas }
	if = {
		limit = {
			has_variable = BBW_pre_blackout_nerf
		}
		multiply_variable = { generated_energy = BBW_pre_blackout_nerf }
	}
	if = {
		limit = {
			has_variable = power_from_atom
		}
		add_to_variable =  { generated_energy = power_from_atom }
	}
}

calculate_used_energy = {
	set_variable = { used_energy = num_of_military_factories}
	subtract_from_variable = {used_energy = workshops_count}
	multiply_variable = { used_energy = 200 }
	set_temp_variable = { energy_for_industry = num_of_civilian_factories }
	every_controlled_state = {
		limit = {
			always = yes
		}
		add_to_temp_variable = { PREV.energy_for_industry = building_level@synthetic_refinery }
		add_to_temp_variable = { PREV.energy_for_industry = building_level@high_tech_complex }
		add_to_temp_variable = { PREV.energy_for_industry = workshops_count }
	}
	multiply_temp_variable = { energy_for_industry = 100 }
	add_to_variable = { used_energy = energy_for_industry }
	if = {
		limit = {
			has_country_flag = importing_energy
		}
		subtract_from_variable = { used_energy = 750 }
	}
}

calculate_energy_effects = {
	set_variable = { ee_multiplier = current_balance }
	if = {
		limit = {
			check_variable = { generated_energy = 0 }
		}
		divide_variable = { ee_multiplier = 675 }
	}
	else = {
		divide_variable = { ee_multiplier = generated_energy }
	}
	clamp_variable = {
		var = ee_multiplier
		min = -1
	}
	if = {
		limit = {
			check_variable = { ee_multiplier < 0 }
		}
		set_variable = { low_power_penalty = 0.5 }
		multiply_variable = { low_power_penalty = ee_multiplier }
		add_dynamic_modifier = {
			modifier = lack_of_energy_modifier
		}
	}
}
#building effects
public_buildings_effect = {
	#liczenie

	set_temp_variable = {
		num_of_cathedrals_temp = 0
	}
	set_temp_variable = {
		num_of_universities_temp = 0
	}
	set_temp_variable = {
		num_of_hospitals_temp = 0
	}
	set_temp_variable = {
		num_of_prisons_temp = 0
	}
	set_temp_variable = {
		num_of_januszexes_temp = 0
	}
	every_controlled_state = {
		limit = {
			always = yes
		}
		add_to_temp_variable = { PREV.num_of_cathedrals_temp = building_level@cathedral }
		add_to_temp_variable = { PREV.num_of_universities_temp = building_level@university }
		add_to_temp_variable = { PREV.num_of_hospitals_temp = building_level@hospital }
		add_to_temp_variable = { PREV.num_of_prisons_temp = building_level@prison }
		add_to_temp_variable = { PREV.num_of_januszexes_temp = building_level@januszex }
	}
	set_variable = {
		num_of_cathedrals = num_of_cathedrals_temp
	}
	set_variable = {
		num_of_universities = num_of_universities_temp
	}
	set_variable = {
		num_of_hospitals = num_of_hospitals_temp
	}
	set_variable = {
		num_of_prisons = num_of_prisons_temp
	}
	set_variable = {
		num_of_januszexes = num_of_januszexes_temp
	}
	#limitowanie
	if = {
		limit = {
			NOT = {
				has_variable = rare_buildings_divider
			}
		}
		set_variable = {
			rare_buildings_divider = 20
		}
		if = {
			limit = {
				has_tech = less_limits
			}
			set_variable = {
				rare_buildings_divider = 10
			}
		}
	}
	set_temp_variable = {
		divider_halved = rare_buildings_divider
	}
	divide_temp_variable = {
		divider_halved = 2
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_cathedrals = 1
		}
	}
	else = {
		set_variable = {
			max_effective_cathedrals = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_cathedrals = max_effective_cathedrals
		}
		modulo_temp_variable = {
			modulo_from_cathedrals = rare_buildings_divider
		}
		divide_variable = {
			max_effective_cathedrals = rare_buildings_divider
		}
		round_variable = max_effective_cathedrals
		
		if = {
			limit = {
				check_variable = {
					modulo_from_cathedrals < divider_halved
				}
			}
			add_to_variable = {
				max_effective_cathedrals = 1
			}
		}
	}

	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_universities = 1
		}
	}
	else = {
		set_variable = {
			max_effective_universities = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_universities = max_effective_universities
		}
		modulo_temp_variable = {
			modulo_from_universities = 20
		}
		divide_variable = {
			max_effective_universities = 20
		}
		round_variable = max_effective_universities
		if = {
			limit = {
				check_variable = {
					modulo_from_universities < divider_halved
				}
			}
			add_to_variable = {
				max_effective_universities = 1
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < 2
			}
		}
		set_variable = {
			max_effective_hospitals = 1
		}
	}
	else = {
		set_variable = {
			max_effective_hospitals = num_controlled_states
		}
		divide_variable = {
			max_effective_hospitals = 2
		}
		round_variable = max_effective_hospitals
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < 5
			}
		}
		set_variable = {
			max_effective_prisons = 1
		}
	}
	else = {
		set_variable = {
			max_effective_prisons = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_prisons = max_effective_prisons
		}
		modulo_temp_variable = {
			modulo_from_prisons = 5
		}
		divide_variable = {
			max_effective_prisons = 5
		}
		round_variable = max_effective_prisons
		if = {
			limit = {
				check_variable = {
					modulo_from_prisons < 3
				}
			}
			add_to_variable = {
				max_effective_prisons = 1
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_januszexes = 1
		}
	}
	else = {
		set_variable = {
			max_effective_januszexes = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_januszexes = max_effective_januszexes
		}
		modulo_temp_variable = {
			modulo_from_januszexes = 20
		}
		divide_variable = {
			max_effective_januszexes = 20
		}
		round_variable = max_effective_januszexes
		if = {
			limit = {
				check_variable = {
					modulo_from_januszexes < divider_halved
				}
			}
			add_to_variable = {
				max_effective_januszexes = 1
			}
		}
	}
	
	#wyliczanie modyfikatorÃ³w
	set_variable = { cathedral_effect_stab = num_of_cathedrals_temp }
	multiply_variable = {
		cathedral_effect_stab = 0.001
	}
	if = {
		limit = {
			check_variable = {
				cathedral_effect_stab > 0.2
			}
		}
		set_variable = {
			cathedral_effect_stab = 0.2
		}
	}
	if = {
		limit = {
			check_variable = {
				num_of_cathedrals_temp > 0
			}
		}
		add_dynamic_modifier = {
			modifier = catherdal_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = catherdal_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = catherdal_mod
		}
	}

	if = {
		limit = {
			check_variable = {
				var = max_effective_cathedrals
				value = num_of_cathedrals_temp
				compare = less_than_or_equals
			}
		}
		set_variable = { cathedral_effect_correction_stab = max_effective_cathedrals }
		subtract_from_variable = { 
			cathedral_effect_correction_stab = num_of_cathedrals_temp
		}
		multiply_variable = {
			cathedral_effect_correction_stab = 0.001
		}
		add_dynamic_modifier = {
			modifier = catherdal_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = catherdal_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = catherdal_overlimit_mod
			}
		}
	}

	set_variable = { university_effect = num_of_universities_temp }
	multiply_variable = {
		university_effect = 0.01
	}
	if = {
		limit = {
			check_variable = {
				num_of_universities_temp > 0
			}
		}
		add_dynamic_modifier = {
			modifier = university_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = university_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = university_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_universities
				value = num_of_universities_temp
				compare = less_than_or_equals
			}
		}
		set_variable = { university_effect_correction = max_effective_universities }
		subtract_from_variable = { 
			university_effect_correction = num_of_universities_temp
		}
		multiply_variable = {
			university_effect_correction = 0.01
		}
		add_dynamic_modifier = {
			modifier = university_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = university_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = university_overlimit_mod
			}
		}
	}
	
	if = {
		limit = {
			check_variable = {
				var = max_effective_hospitals
				value = num_of_hospitals_temp
				compare = less_than_or_equals
			}
		}
		add_dynamic_modifier = {
			modifier = hospital_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = hospital_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = hospital_overlimit_mod
			}
		}
	}
	set_variable = { prison_effect = num_of_prisons_temp }
	multiply_variable = {
		prison_effect = 0.001
	}
	if = {
		limit = {
			check_variable = {
				num_of_prisons_temp > 0
			}
		}
		add_dynamic_modifier = {
			modifier = prison_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = prison_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = prison_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_prisons
				value = num_of_prisons_temp
				compare = less_than_or_equals
			}
		}
		set_variable = { prison_effect_correction = max_effective_prisons }

		add_dynamic_modifier = {
			modifier = prison_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = prison_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = prison_overlimit_mod
			}
		}
	}

	set_variable = { januszex_effect_prod = num_of_januszexes_temp }
	multiply_temp_variable = {
		januszex_effect_prod = 0.001
	}
	if = {
		limit = {
			check_variable = {
				num_of_januszexes_temp > 0
			}
		}
		add_dynamic_modifier = {
			modifier = januszex_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = januszex_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = januszex_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_januszexes
				value = num_of_januszexes_temp
				compare = less_than_or_equals
			}
		}
		set_variable = { januszex_effect_correction_prod = max_effective_januszexes }
		subtract_from_variable = { 
			januszex_effect_correction_prod = num_of_januszexes_temp
		}
		multiply_variable = {
			januszex_effect_correction_prod = 0.001
		}
		add_dynamic_modifier = {
			modifier = januszex_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = januszex_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = januszex_overlimit_mod
			}
		}
	}
} 
count_voi_ownership = {
	set_variable = { lodz_ownership = 0 }
	set_variable = { holy_cross_ownership = 0 }
	set_variable = { zaglebie_and_jura_ownership = 0 }
	set_variable = { upper_silesia_ownership = 0 }
	set_variable = { tatry_region_ownership = 0 }
	set_variable = { opolskie_ownership = 0 }
	set_variable = { lower_silesia_ownership = 0 }
	set_variable = { lubuskie_ownership = 0 }
	set_variable = { west_pomerania_ownership = 0 }
	set_variable = { southern_greater_poland_ownership = 0 }
	set_variable = { northern_greater_poland_ownership = 0 }
	set_variable = { kuyavia_ownership = 0 }
	set_variable = { pomerelia_ownership = 0 }
	set_variable = { warmia_and_masuria_ownership = 0 }
	set_variable = { podlasie_ownership = 0 }
	set_variable = { mazovia_ownership = 0 }
	set_variable = { capital_district_ownership = 0 }
	set_variable = { radom_province_ownership = 0 }
	set_variable = { lubelskie_ownership = 0 }
	set_variable = { subcarpathia_ownership = 0 }
	set_variable = { lesser_poland_ownership = 0 }
	every_owned_state = {
		limit = {
			is_lodz_state = yes
		}
		add_to_variable = { prev.lodz_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_holy_cross_state = yes
		}
		add_to_variable = { prev.holy_cross_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_zaglebie_and_jura_state = yes
		}
		add_to_variable = { prev.zaglebie_and_jura_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_upper_silesia_state = yes
		}
		add_to_variable = { prev.upper_silesia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_tatry_region_state = yes
		}
		add_to_variable = { prev.tatry_region_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_opolskie_state = yes
		}
		add_to_variable = { prev.opolskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lower_silesia_state = yes
		}
		add_to_variable = { prev.lower_silesia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lubuskie_state = yes
		}
		add_to_variable = { prev.lubuskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_west_pomerania_state = yes
		}
		add_to_variable = { prev.west_pomerania_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_southern_greater_poland_state = yes
		}
		add_to_variable = { prev.southern_greater_poland_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_northern_greater_poland_state = yes
		}
		add_to_variable = { prev.northern_greater_poland_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_kuyavia_state = yes
		}
		add_to_variable = { prev.kuyavia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_pomerelia_state = yes
		}
		add_to_variable = { prev.pomerelia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_warmia_and_masuria_state = yes
		}
		add_to_variable = { prev.warmia_and_masuria_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_podlasie_state = yes
		}
		add_to_variable = { prev.podlasie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_mazovia_state = yes
		}
		add_to_variable = { prev.mazovia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_capital_district_state = yes
		}
		add_to_variable = { prev.capital_district_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_radom_province_state = yes
		}
		add_to_variable = { prev.radom_province_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lubelskie_state = yes
		}
		add_to_variable = { prev.lubelskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_subcarpathia_state = yes
		}
		add_to_variable = { prev.subcarpathia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lesser_poland_state = yes
		}
		add_to_variable = { prev.lesser_poland_ownership = 1 }
	}
	divide_variable = {lodz_ownership = 50}
	divide_variable = {holy_cross_ownership = 36}
	divide_variable = {zaglebie_and_jura_ownership = 42}
	divide_variable = {upper_silesia_ownership = 46}
	divide_variable = {tatry_region_ownership = 30}
	divide_variable = {opolskie_ownership = 24}
	divide_variable = {lower_silesia_ownership = 30}
	divide_variable = {lubuskie_ownership = 36}
	divide_variable = {west_pomerania_ownership = 37}
	divide_variable = {southern_greater_poland_ownership = 41}
	divide_variable = {northern_greater_poland_ownership = 49}
	divide_variable = {kuyavia_ownership = 43}
	divide_variable = {pomerelia_ownership = 40}
	divide_variable = {warmia_and_masuria_ownership = 28}
	divide_variable = {podlasie_ownership = 51}
	divide_variable = { mazovia_ownership = 31 }
	divide_variable = { capital_district_ownership = 43 }
	divide_variable = { radom_province_ownership = 15 }
	divide_variable = { lubelskie_ownership = 39 }
	divide_variable = { subcarpathia_ownership = 41 }
	divide_variable = { lesser_poland_ownership = 49 }
}

russian_invasion_falls_apart = {
	for_each_scope_loop = {
		array = global.rightful_warmia_clay
		if = {
			limit = {
				NOT = {
					has_state_flag = offensive_stalled
				}
			}
			add_province_modifier = {
				static_modifiers = { unplanned_offensive }
				province = {
					all_provinces = yes
				}
			}
			set_state_flag = offensive_stalled
		}
	}
}

delete_eurokom_templates = {
	delete_unit_template_and_units = {
		division_template = "Euroinfanteriebataillon"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Europanzergrenadierbataillon (armor)"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Europanzergrenadierbataillon (mot. inf.)"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Pro-europejscy ochotnicy"
		disband = yes
	}
}

check_workshop_limit = {

	set_temp_variable = {
		owned_states_count = ROOT.owned_states	
	}
	set_temp_variable = {
		owned_states_modulo = owned_states_count
	}

	modulo_temp_variable = {
		owned_states_modulo = 4
	}
	divide_temp_variable = {
		owned_states_count = 4
	}
	round_temp_variable = owned_states_count
	if = {
		limit = {
			check_variable = {
				owned_states_modulo > 1
			}
		}
		subtract_from_temp_variable = {
			owned_states_count = 1
		}
	}
	
	if = {
		limit = {
			check_variable = {
				var = active_workshops
				value = owned_states_count
				compare = greater_than_or_equals
			}
		}
		set_country_flag = workshop_limit
	}
	else = {
		clr_country_flag = workshop_limit
	}
}

#OgÃ³lnie to jest na nierozjebywanie siÄ poparcia podczas puppetowania, pierwsze dajesz przed puppetowaniem, drugie po
get_current_government_type = {
	clear_variable = original_government_type
	set_variable = { original_government_type = current_party_ideology_group }

	if = {
		limit = { has_elections = yes }
		set_country_flag = original_government_type_had_elections
	}

	clear_array = original_popularities
	add_to_array = { original_popularities = party_popularity_100@marxism_cranism }
	add_to_array = { original_popularities = party_popularity_100@squattism }
	add_to_array = { original_popularities = party_popularity_100@socialdemocrature }
	add_to_array = { original_popularities = party_popularity_100@euroliberalism }
	add_to_array = { original_popularities = party_popularity_100@freemarketism }
	add_to_array = { original_popularities = party_popularity_100@paternal_conservatism }
	add_to_array = { original_popularities = party_popularity_100@autocracy }
	add_to_array = { original_popularities = party_popularity_100@corporativism }
	add_to_array = { original_popularities = party_popularity_100@neonationalism }
	add_to_array = { original_popularities = party_popularity_100@reactionary }

	set_temp_variable = { sum = 100 }
	for_each_loop = {
		array = original_popularities
		subtract_from_temp_variable = { sum = v }
	}
	add_to_array = { original_popularities = sum } #last value (postpol), calculated directly to avoid rounding errors

	if = {
		limit = { has_autonomy_state = autonomy_colony }
		set_country_flag = autonomy_colony
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_dominion }
		set_country_flag = autonomy_dominion
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_integrated_puppet }
		set_country_flag = autonomy_integrated_puppet
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_collaboration_government }
		set_country_flag = autonomy_collaboration_government
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_personal_union }
		set_country_flag = autonomy_personal_union
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_eurokommissariat }
		set_country_flag = autonomy_eurokommissariat
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_europrotectorate }
		set_country_flag = autonomy_europrotectorate
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_satellite }
		set_country_flag = autonomy_satellite
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_supervised_state }
		set_country_flag = autonomy_supervised_state
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_associate  }
		set_country_flag = autonomy_wtt_imperial_associate 
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_protectorate }
		set_country_flag = autonomy_wtt_imperial_protectorate
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_subject }
		set_country_flag = autonomy_wtt_imperial_subject
	}
	else_if = {
		limit = { is_subject = yes }
		set_country_flag = default_puppet
	}
}

restore_previous_government_type = {
	hidden_effect = {
		if = {
			limit = { has_variable = original_government_type } #needed to avoid a CTD
			if = {
				limit = { has_country_flag = original_government_type_had_elections }
				clr_country_flag = original_government_type_had_elections
				set_politics = {
					ruling_party = var:original_government_type
					elections_allowed = yes
				}
			}
			else = {
				set_politics = {
					ruling_party = var:original_government_type
					elections_allowed = no
				}
			}
		}
		clear_variable = original_government_type

		if = {
			limit = { check_variable = { original_popularities^num > 0 } }
			set_popularities = {
				marxism_cranism = original_popularities^0
				squattism = original_popularities^1
				socialdemocrature = original_popularities^2
				euroliberalism = original_popularities^3
				freemarketism = original_popularities^4
				paternal_conservatism = original_popularities^5
				autocracy = original_popularities^6
				corporativism = original_popularities^7
				neonationalism = original_popularities^8
				reactionary = original_popularities^9
				postpolonism = original_popularities^10
			}
			clear_array = original_popularities
		}

		clr_country_flag = autonomy_colony
		clr_country_flag = autonomy_dominion
		clr_country_flag = autonomy_integrated_puppet
		clr_country_flag = autonomy_collaboration_government
		clr_country_flag = autonomy_personal_union
		clr_country_flag = autonomy_reichskommissariat
		clr_country_flag = autonomy_reichsprotectorate
		clr_country_flag = autonomy_satellite
		clr_country_flag = autonomy_supervised_state
		clr_country_flag = autonomy_wtt_imperial_associate 
		clr_country_flag = autonomy_wtt_imperial_protectorate
		clr_country_flag = autonomy_wtt_imperial_subject
	}
}

create_arrays_of_needed_poland_states = {
	clear_array = global.states_for_poland_unification
	clear_array = global.states_for_southern_gp_unification
	clear_array = global.states_for_lesser_poland_unification
	clear_array = global.states_for_mazovia_unification
	clear_array = global.states_for_lodz_unification
	clear_array = global.states_for_lubelskie_unification
	clear_array = global.states_for_opolskie_unification
	clear_array = global.states_for_zaglebie_unification
	clear_array = global.states_for_tatra_unification
	clear_array = global.states_for_upper_silesia_unification
	clear_array = global.states_for_subcarpathia_unification
	clear_array = global.states_for_legnica_unification
	clear_array = global.states_for_lower_silesia_unification
	clear_array = global.states_for_holy_cross_unification
	clear_array = global.states_for_radom_unification
	clear_array = global.states_for_capital_unification
	clear_array = global.states_for_podlachia_unification
	clear_array = global.states_for_warmia_masuria_unification
	clear_array = global.states_for_pomerelia_unification
	clear_array = global.states_for_kuyavia_unification
	clear_array = global.states_for_northern_gp_unification
	clear_array = global.states_for_west_pomerania_unification
	#cal
	add_to_array = {
		global.states_for_southern_gp_unification = 314
	}
	#FEL
	add_to_array = {
		global.states_for_southern_gp_unification = 240
	}
	#SUS
	add_to_array = {
		global.states_for_southern_gp_unification = 299
	}
	#GNI
	add_to_array = {
		global.states_for_southern_gp_unification = 689
	}
	#KLO 
	add_to_array = {
		global.states_for_southern_gp_unification = 260
	}
	#KNN
	add_to_array = {
		global.states_for_southern_gp_unification = 256
	}

	#OSW
	add_to_array = {
		global.states_for_lesser_poland_unification = 513
	}
	#WDW
	add_to_array = {
		global.states_for_lesser_poland_unification = 515
	}
	#SKW
	add_to_array = {
		global.states_for_lesser_poland_unification = 519
	}
	#PRK - Olkusz
	add_to_array = {
		global.states_for_lesser_poland_unification = 459
	}
	#NHT
	add_to_array = {
		global.states_for_lesser_poland_unification = 573
	}
	#UMN
	add_to_array = {
		global.states_for_lesser_poland_unification = 508
	}
	#BOH
	add_to_array = {
		global.states_for_lesser_poland_unification = 505
	}
	#TRN
	add_to_array = {
		global.states_for_lesser_poland_unification = 512
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 472
	}
	#KRK
	add_to_array = {
		global.states_for_lesser_poland_unification = 506
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 572
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 571
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 724
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 770
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 771
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 772
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 773
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 569
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 721
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 723
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 514
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 722
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 570
	}

	#POL
	add_to_array = {
		global.states_for_mazovia_unification = 223 
	}
	#ORL
	add_to_array = {
		global.states_for_mazovia_unification = 642
	}
	#ZWK
	add_to_array = {
		global.states_for_mazovia_unification = 139
	}
	#KUR
	add_to_array = {
		global.states_for_mazovia_unification = 151
	}
	#SAS
	add_to_array = {
		global.states_for_mazovia_unification = 160
	}

	#WML
	add_to_array = {
		global.states_for_lodz_unification = 302 
	}
	#BBW
	add_to_array = {
		global.states_for_lodz_unification = 341
	}
	#ZYD
	add_to_array = {
		global.states_for_lodz_unification = 353
	}
	#ZHP
	add_to_array = {
		global.states_for_lodz_unification = 368
	}
	#SAP
	add_to_array = {
		global.states_for_lodz_unification = 269
	}
	#KRS
	add_to_array = {
		global.states_for_lodz_unification = 236
	}

	#PUL
	add_to_array = {
		global.states_for_lubelskie_unification = 330 
	}
	#BPD
	add_to_array = {
		global.states_for_lubelskie_unification = 277
	}
	#CRN
	add_to_array = {
		global.states_for_lubelskie_unification = 363
	}
	#KSN
	add_to_array = {
		global.states_for_lubelskie_unification = 391
	}
	#SWD
	add_to_array = {
		global.states_for_lubelskie_unification = 661
	}
	#ZUK
	add_to_array = {
		global.states_for_lubelskie_unification = 669
	}
	#BIL
	add_to_array = {
		global.states_for_lubelskie_unification = 411
	}

	#MNI
	add_to_array = {
		global.states_for_opolskie_unification = 383 
	}
	#OPO
	add_to_array = {
		global.states_for_opolskie_unification = 428
	}
	#LEH
	add_to_array = {
		global.states_for_opolskie_unification = 449
	}
	#NYS
	add_to_array = {
		global.states_for_opolskie_unification = 603
	}
	#LCH
	add_to_array = {
		global.states_for_opolskie_unification = 402
	}
	#WAN
	add_to_array = {
		global.states_for_opolskie_unification = 478
	}

	#DGR
	add_to_array = {
		global.states_for_zaglebie_unification = 460 
	}
	#SOS
	add_to_array = {
		global.states_for_zaglebie_unification = 481
	}
	#JAW
	add_to_array = {
		global.states_for_zaglebie_unification = 487
	}
	#ZAW
	add_to_array = {
		global.states_for_zaglebie_unification = 739
	}
	#CCH
	add_to_array = {
		global.states_for_zaglebie_unification = 870
	}
	#BRZ
	add_to_array = {
		global.states_for_zaglebie_unification = 390
	}
	#JWK
	add_to_array = {
		global.states_for_zaglebie_unification = 421
	}

	#SIE
	add_to_array = {
		global.states_for_zaglebie_unification = 730
	}

	#CIE
	add_to_array = {
		global.states_for_tatra_unification = 522 
	}
	#BSK
	add_to_array = {
		global.states_for_tatra_unification = 525
	}
	#MSL
	add_to_array = {
		global.states_for_tatra_unification = 523
	}
	#GUR
	add_to_array = {
		global.states_for_tatra_unification = 545
	}
	#SCZ
	add_to_array = {
		global.states_for_tatra_unification = 531
	}
	#LEM
	add_to_array = {
		global.states_for_tatra_unification = 600
	}

	#ASG
	add_to_array = {
		global.states_for_upper_silesia_unification = 509 
	}
	#KAT
	add_to_array = {
		global.states_for_upper_silesia_unification = 483
	}
	#JSW
	add_to_array = {
		global.states_for_upper_silesia_unification = 516
	}
	#CHO
	add_to_array = {
		global.states_for_upper_silesia_unification = 475
	}
	#RUD
	add_to_array = {
		global.states_for_upper_silesia_unification = 476
	}
	#RAS
	add_to_array = {
		global.states_for_upper_silesia_unification = 466
	}
	#FER
	add_to_array = {
		global.states_for_upper_silesia_unification = 445
	}
	#TRC
	add_to_array = {
		global.states_for_upper_silesia_unification = 470
	}
	#GLI
	add_to_array = {
		global.states_for_upper_silesia_unification = 471
	}
	#WOD
	add_to_array = {
		global.states_for_upper_silesia_unification = 510
	}

	#ANC
	add_to_array = {
		global.states_for_subcarpathia_unification = 542 
	}
	#BEX
	add_to_array = {
		global.states_for_subcarpathia_unification = 538
	}
	#KRO
	add_to_array = {
		global.states_for_subcarpathia_unification = 527
	}
	#JSO
	add_to_array = {
		global.states_for_subcarpathia_unification = 524
	}
	#DBI
	add_to_array = {
		global.states_for_subcarpathia_unification = 498
	}
	#KOZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 535
	}
	#RZE
	add_to_array = {
		global.states_for_subcarpathia_unification = 507
	}
	#KOL
	add_to_array = {
		global.states_for_subcarpathia_unification = 456
	}
	#MIE
	add_to_array = {
		global.states_for_subcarpathia_unification = 455
	}
	#TAR
	add_to_array = {
		global.states_for_subcarpathia_unification = 429
	}
	#CHR
	add_to_array = {
		global.states_for_subcarpathia_unification = 447
	}
	#LEZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 461
	}
	#LGP
	add_to_array = {
		global.states_for_subcarpathia_unification = 473
	}
	#LCZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 457
	}
	#UPA
	add_to_array = {
		global.states_for_subcarpathia_unification = 489
	}
	#UHR
	add_to_array = {
		global.states_for_subcarpathia_unification = 520
	}
	#BSC
	add_to_array = {
		global.states_for_subcarpathia_unification = 541
	}
	add_to_array = {
		global.states_for_subcarpathia_unification = 536
	}

	#KGH
	add_to_array = {
		global.states_for_legnica_unification = 329
	}
	#CYG
	add_to_array = {
		global.states_for_legnica_unification = 725
	}
	#TOU
	add_to_array = {
		global.states_for_legnica_unification = 728
	}
	#BOG
	add_to_array = {
		global.states_for_legnica_unification = 803
	}
	#EKS
	add_to_array = {
		global.states_for_legnica_unification = 345
	}
	#ZAG
	add_to_array = {
		global.states_for_legnica_unification = 313
	}
	#WIN
	add_to_array = {
		global.states_for_legnica_unification = 609
	}

	#CZE
	add_to_array = {
		global.states_for_lower_silesia_unification = 604
	}
	#ANA
	add_to_array = {
		global.states_for_lower_silesia_unification = 419
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 805
	}
	#MNL
	add_to_array = {
		global.states_for_lower_silesia_unification = 397
	}
	#ZUL
	add_to_array = {
		global.states_for_lower_silesia_unification = 414
	}
	#WRO
	add_to_array = {
		global.states_for_lower_silesia_unification = 376
	}
	#OLE
	add_to_array = {
		global.states_for_lower_silesia_unification = 351
	}
	#RYB
	add_to_array = {
		global.states_for_lower_silesia_unification = 338
	}

	#STO
	add_to_array = {
		global.states_for_holy_cross_unification = 420
	}
	#NRA
	add_to_array = {
		global.states_for_holy_cross_unification = 378
	}
	#MNL
	add_to_array = {
		global.states_for_holy_cross_unification = 362
	}
	#KIE
	add_to_array = {
		global.states_for_holy_cross_unification = 416
	}
	#STA
	add_to_array = {
		global.states_for_holy_cross_unification = 377
	}
	#SND
	add_to_array = {
		global.states_for_holy_cross_unification = 670
	}
	#KEL
	add_to_array = {
		global.states_for_holy_cross_unification = 443
	}

	#SAT
	add_to_array = {
		global.states_for_radom_unification = 651
	}
	#GAR
	add_to_array = {
		global.states_for_radom_unification = 284
	}
	#RAD
	add_to_array = {
		global.states_for_radom_unification = 348
	}
	#SKA
	add_to_array = {
		global.states_for_radom_unification = 653
	}

	#DUP
	add_to_array = {
		global.states_for_capital_unification = 268
	}
	#ZYR
	add_to_array = {
		global.states_for_capital_unification = 270
	}
	#MAF
	add_to_array = {
		global.states_for_capital_unification = 261
	}
	#WOW
	add_to_array = {
		global.states_for_capital_unification = 650
	}
	#LAS
	add_to_array = {
		global.states_for_capital_unification = 228
	}
	#ZIE
	add_to_array = {
		global.states_for_capital_unification = 559
	}
	#WOL
	add_to_array = {
		global.states_for_capital_unification = 215
	}
	#BIE
	add_to_array = {
		global.states_for_capital_unification = 557
	}
	#LEG
	add_to_array = {
		global.states_for_capital_unification = 560
	}
	#PLC
	add_to_array = {
		global.states_for_capital_unification = 565
	}
	#TVP
	add_to_array = {
		global.states_for_capital_unification = 720
	}
	#TRZ
	add_to_array = {
		global.states_for_capital_unification = 563
	}

	#KON
	add_to_array = {
		global.states_for_podlachia_unification = 143
	}
	#BOM
	add_to_array = {
		global.states_for_podlachia_unification = 640
	}
	#TAT
	add_to_array = {
		global.states_for_podlachia_unification = 634
	}
	#SAN
	add_to_array = {
		global.states_for_podlachia_unification = 633
	}
	#LMZ
	add_to_array = {
		global.states_for_podlachia_unification = 138
	}
	#BEL
	add_to_array = {
		global.states_for_podlachia_unification = 168
	}
	#AGR
	add_to_array = {
		global.states_for_podlachia_unification = 169
	}
	#SDL
	add_to_array = {
		global.states_for_podlachia_unification = 254
	}
	#PLEMIONA
	add_to_array = {
		global.states_for_podlachia_unification = 194
	}
	add_to_array = {
		global.states_for_podlachia_unification = 635
	}
	add_to_array = {
		global.states_for_podlachia_unification = 149
	}
	add_to_array = {
		global.states_for_podlachia_unification = 142
	}
	add_to_array = {
		global.states_for_podlachia_unification = 154
	}
	add_to_array = {
		global.states_for_podlachia_unification = 638
	}
	add_to_array = {
		global.states_for_podlachia_unification = 639
	}
	add_to_array = {
		global.states_for_podlachia_unification = 641
	}
	add_to_array = {
		global.states_for_podlachia_unification = 637
	}
	add_to_array = {
		global.states_for_podlachia_unification = 636
	}
	add_to_array = {
		global.states_for_podlachia_unification = 103
	}
	add_to_array = {
		global.states_for_podlachia_unification = 116
	}
	add_to_array = {
		global.states_for_podlachia_unification = 92
	}
	add_to_array = {
		global.states_for_podlachia_unification = 71
	}
	add_to_array = {
		global.states_for_podlachia_unification = 50
	}
	add_to_array = {
		global.states_for_podlachia_unification = 97
	}
	add_to_array = {
		global.states_for_podlachia_unification = 80
	}

	add_to_array = { #PRU
		global.states_for_warmia_masuria_unification = 113
	}
	add_to_array = { #TEU
		global.states_for_warmia_masuria_unification = 56
	}
	add_to_array = { #MAL
		global.states_for_warmia_masuria_unification = 64
	}
	add_to_array = { #WRM
		global.states_for_warmia_masuria_unification = 91
	}
	add_to_array = { #PZW
		global.states_for_warmia_masuria_unification = 75
	}

	add_to_array = { #LOT
		global.states_for_pomerelia_unification = 629
	}
	add_to_array = { #KOR
		global.states_for_pomerelia_unification = 15
	}
	add_to_array = { #GDA
		global.states_for_pomerelia_unification = 39
	}
	add_to_array = { #BOL
		global.states_for_pomerelia_unification = 897
	}
	add_to_array = { #OWS
		global.states_for_pomerelia_unification = 709
	}
	add_to_array = { #ARK
		global.states_for_pomerelia_unification = 34
	}
	add_to_array = { #KSZ
		global.states_for_pomerelia_unification = 21
	}
	add_to_array = { #HEL
		global.states_for_pomerelia_unification = 666
	}
	add_to_array = { #GAY
		global.states_for_pomerelia_unification = 35
	}
	add_to_array = { #CZL
		global.states_for_pomerelia_unification = 89
	}
	
	add_to_array = { #INO
		global.states_for_kuyavia_unification = 701
	}
	add_to_array = { #AMA
		global.states_for_kuyavia_unification = 176
	}
	add_to_array = {
		global.states_for_kuyavia_unification = 198
	}
	add_to_array = { #TOR
		global.states_for_kuyavia_unification = 165
	}
	add_to_array = { #GRU
		global.states_for_kuyavia_unification = 115
	}
	add_to_array = { #KUJ
		global.states_for_kuyavia_unification = 136
	}
	add_to_array = { 
		global.states_for_kuyavia_unification = 99
	}
	add_to_array = { 
		global.states_for_kuyavia_unification = 166
	}
	add_to_array = { #BYD
		global.states_for_kuyavia_unification = 708
	}
	add_to_array = { #BRO
		global.states_for_kuyavia_unification = 134
	}

	add_to_array = { #KAM
		global.states_for_northern_gp_unification = 227
	}
	add_to_array = { #MOT
		global.states_for_northern_gp_unification = 183
	}
	add_to_array = { #PIL
		global.states_for_northern_gp_unification = 135
	}
	add_to_array = { #WRT
		global.states_for_northern_gp_unification = 161
	}
	add_to_array = { #NAC
		global.states_for_northern_gp_unification = 244
	}
	add_to_array = { #SYJ
		global.states_for_northern_gp_unification = 583
	}
	add_to_array = { #POZ
		global.states_for_northern_gp_unification = 220
	}
	add_to_array = { #SLU
		global.states_for_northern_gp_unification = 582
	}

	add_to_array = { #JAS
		global.states_for_west_pomerania_unification = 82
	}
	add_to_array = { #USP
		global.states_for_west_pomerania_unification = 53
	}
	add_to_array = { #JOM
		global.states_for_west_pomerania_unification = 70
	}
	add_to_array = { #SWI
		global.states_for_west_pomerania_unification = 54
	}
	add_to_array = { #STE
		global.states_for_west_pomerania_unification = 105
	}
	add_to_array = { #EKW
		global.states_for_west_pomerania_unification = 158
	}

	for_each_loop = {
		array = global.states_for_southern_gp_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lesser_poland_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_mazovia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lodz_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lubelskie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_opolskie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_zaglebie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_tatra_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_upper_silesia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_subcarpathia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_legnica_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lower_silesia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_holy_cross_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_radom_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_capital_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_podlachia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_warmia_masuria_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_pomerelia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_kuyavia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_northern_gp_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_west_pomerania_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	log = "[?global.states_for_southern_gp_unification^num]"
	log = "[?global.states_for_lesser_poland_unification^num]"
	log = "[?global.states_for_mazovia_unification^num]"
	log = "[?global.states_for_lodz_unification^num]"
	log = "[?global.states_for_lubelskie_unification^num]"
	log = "[?global.states_for_opolskie_unification^num]"
	log = "[?global.states_for_zaglebie_unification^num]"
	log = "[?global.states_for_tatra_unification^num]"
	log = "[?global.states_for_upper_silesia_unification^num]"
	log = "[?global.states_for_subcarpathia_unification^num]"
	log = "[?global.states_for_legnica_unification^num]"
	log = "[?global.states_for_lower_silesia_unification^num]"
	log = "[?global.states_for_holy_cross_unification^num]"
	log = "[?global.states_for_radom_unification^num]"
	log = "[?global.states_for_capital_unification^num]"
	log = "[?global.states_for_podlachia_unification^num]"
	log = "[?global.states_for_warmia_masuria_unification^num]"
	log = "[?global.states_for_pomerelia_unification^num]"
	log = "[?global.states_for_kuyavia_unification^num]"
	log = "[?global.states_for_northern_gp_unification^num]"
	log = "[?global.states_for_west_pomerania_unification^num]"
	log = "[?global.states_for_poland_unification^num]"
	# #ASG
	# add_to_array = {
	# 	global.states_for_poland_unification = 509
	# }
	# #KAT
	# add_to_array = {
	# 	global.states_for_poland_unification = 483
	# }
	# #JSW
	# add_to_array = {
	# 	global.states_for_poland_unification = 516
	# }
	# #CHO
	# add_to_array = {
	# 	global.states_for_poland_unification = 475
	# }
	# #RUD
	# add_to_array = {
	# 	global.states_for_poland_unification = 476
	# }
	# #RAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 466
	# }
	# #FER
	# add_to_array = {
	# 	global.states_for_poland_unification = 445
	# }
	# #TRC
	# add_to_array = {
	# 	global.states_for_poland_unification = 470
	# }
	# #GLI
	# add_to_array = {
	# 	global.states_for_poland_unification = 471
	# }
	# #WOD
	# add_to_array = {
	# 	global.states_for_poland_unification = 510
	# }	

	# #MNI
	# add_to_array = {
	# 	global.states_for_poland_unification = 383
	# }
	# #OPO
	# add_to_array = {
	# 	global.states_for_poland_unification = 428
	# }
	# #LEH
	# add_to_array = {
	# 	global.states_for_poland_unification = 449
	# }
	# #NYS
	# add_to_array = {
	# 	global.states_for_poland_unification = 603
	# }
	# #LCH
	# add_to_array = {
	# 	global.states_for_poland_unification = 402
	# }
	# #WAN
	# add_to_array = {
	# 	global.states_for_poland_unification = 478
	# }
	
	# #CZE
	# add_to_array = {
	# 	global.states_for_poland_unification = 604
	# }
	# #ANA
	# add_to_array = {
	# 	global.states_for_poland_unification = 419
	# }
	# #FEM
	# add_to_array = {
	# 	global.states_for_poland_unification = 805
	# }
	# #MNL
	# add_to_array = {
	# 	global.states_for_poland_unification = 397
	# }
	# #ZUL
	# add_to_array = {
	# 	global.states_for_poland_unification = 414
	# }
	# #WRO
	# add_to_array = {
	# 	global.states_for_poland_unification = 376
	# }
	# #OLE
	# add_to_array = {
	# 	global.states_for_poland_unification = 351
	# }
	# #RYB
	# add_to_array = {
	# 	global.states_for_poland_unification = 338
	# }
	# #KGH
	# add_to_array = {
	# 	global.states_for_poland_unification = 329
	# }
	# #CYG
	# add_to_array = {
	# 	global.states_for_poland_unification = 725
	# }
	# #TOU
	# add_to_array = {
	# 	global.states_for_poland_unification = 728
	# }
	# #BOG
	# add_to_array = {
	# 	global.states_for_poland_unification = 803
	# }
	# #EKS
	# add_to_array = {
	# 	global.states_for_poland_unification = 345
	# }

	# #ZAG
	# add_to_array = {
	# 	global.states_for_poland_unification = 313
	# }
	# #WIN
	# add_to_array = {
	# 	global.states_for_poland_unification = 609
	# }
	# #KAM
	# add_to_array = {
	# 	global.states_for_poland_unification = 227
	# }
	# #MOT
	# add_to_array = {
	# 	global.states_for_poland_unification = 183
	# }
	
	# #KON
	# add_to_array = {
	# 	global.states_for_poland_unification = 143
	# }
	# #BOM
	# add_to_array = {
	# 	global.states_for_poland_unification = 640
	# }
	# #TAT
	# add_to_array = {
	# 	global.states_for_poland_unification = 634
	# }
	# #SAN
	# add_to_array = {
	# 	global.states_for_poland_unification = 633
	# }
	# #LMZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 138
	# }
	# #BEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 168
	# }
	# #TRIBES
	# add_to_array = {
	# 	global.states_for_poland_unification = 194
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 635
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 149
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 142
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 154
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 638
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 639
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 641
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 637
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 636
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 103
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 116
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 92
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 97
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 80
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 71
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 50
	# }
	# #AGR
	# add_to_array = {
	# 	global.states_for_poland_unification = 169
	# }
	# #SDL
	# add_to_array = {
	# 	global.states_for_poland_unification = 254
	# }

	# #POL
	# add_to_array = {
	# 	global.states_for_poland_unification = 223
	# }
	# #ORL
	# add_to_array = {
	# 	global.states_for_poland_unification = 642
	# }
	# #ZWK
	# add_to_array = {
	# 	global.states_for_poland_unification = 139
	# }
	# #KUR
	# add_to_array = {
	# 	global.states_for_poland_unification = 151
	# }
	# #SAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 160
	# }

	# #PRU
	# add_to_array = {
	# 	global.states_for_poland_unification = 113
	# }
	# #TEU
	# add_to_array = {
	# 	global.states_for_poland_unification = 56
	# }
	# #MAL
	# add_to_array = {
	# 	global.states_for_poland_unification = 64
	# }
	# #WRM
	# add_to_array = {
	# 	global.states_for_poland_unification = 91
	# }
	# #PZW
	# add_to_array = {
	# 	global.states_for_poland_unification = 75
	# }
	# #ROS
	# add_to_array = {
	# 	global.states_for_poland_unification = 48
	# }
	
	# #DUP
	# add_to_array = {
	# 	global.states_for_poland_unification = 268
	# } 
	# #ZYR
	# add_to_array = {
	# 	global.states_for_poland_unification = 270
	# }
	# #MAF
	# add_to_array = {
	# 	global.states_for_poland_unification = 261
	# }
	# #WOW
	# add_to_array = {
	# 	global.states_for_poland_unification = 650
	# }
	# #LAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 228
	# }
	# #ZIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 559
	# }
	# #WOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 215
	# }
	# #BIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 557
	# }
	# #LEG
	# add_to_array = {
	# 	global.states_for_poland_unification = 560
	# }
	# #PLC
	# add_to_array = {
	# 	global.states_for_poland_unification = 565
	# }
	# #TVP
	# add_to_array = {
	# 	global.states_for_poland_unification = 720
	# }
	# #TRZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 563
	# }
	
	# #DGR
	# add_to_array = {
	# 	global.states_for_poland_unification = 460
	# }
	# #SOS
	# add_to_array = {
	# 	global.states_for_poland_unification = 481
	# } 
	# #JAW
	# add_to_array = {
	# 	global.states_for_poland_unification = 487
	# }
	# #ZAW
	# add_to_array = {
	# 	global.states_for_poland_unification = 739
	# }
	# #CCH
	# add_to_array = {
	# 	global.states_for_poland_unification = 870
	# }
	# #BRZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 390
	# }
	# #JWK
	# add_to_array = {
	# 	global.states_for_poland_unification = 421
	# }

	# #OSW
	# add_to_array = {
	# 	global.states_for_poland_unification = 513
	# }
	# #WDW
	# add_to_array = {
	# 	global.states_for_poland_unification = 515
	# }
	# #SKW
	# add_to_array = {
	# 	global.states_for_poland_unification = 519
	# }
	# #PRK
	# add_to_array = {
	# 	global.states_for_poland_unification = 459
	# }
	# #KRK
	# add_to_array = {
	# 	global.states_for_poland_unification = 506
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 572
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 571
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 724
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 770
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 771
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 772
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 575
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 773
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 569
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 721
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 723
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 514
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 722
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 570
	# }
	# #NHT
	# add_to_array = {
	# 	global.states_for_poland_unification = 573
	# }
	# #UMN
	# add_to_array = {
	# 	global.states_for_poland_unification = 508
	# }
	# #BOH
	# add_to_array = {
	# 	global.states_for_poland_unification = 505
	# }
	# #TRN
	# add_to_array = {
	# 	global.states_for_poland_unification = 512
	# }

	# #CIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 522
	# } 
	# #BSK
	# add_to_array = {
	# 	global.states_for_poland_unification = 525
	# }
	# #MSL
	# add_to_array = {
	# 	global.states_for_poland_unification = 523
	# }
	# #GUR
	# add_to_array = {
	# 	global.states_for_poland_unification = 545
	# }
	# #SCZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 531
	# }
	# #LEM
	# add_to_array = {
	# 	global.states_for_poland_unification = 600
	# } 

	# #STO
	# add_to_array = {
	# 	global.states_for_poland_unification = 420
	# }	
	# #KEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 857
	# }
	# #NRA
	# add_to_array = {
	# 	global.states_for_poland_unification = 679
	# }	
	# #NSZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 362
	# }
	# #KIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 416
	# }	
	# #STA
	# add_to_array = {
	# 	global.states_for_poland_unification = 377
	# }
	# #SND
	# add_to_array = {
	# 	global.states_for_poland_unification = 670
	# }
	# #ANC
	# add_to_array = {
	# 	global.states_for_poland_unification = 542
	# }
	# #BSC
	# add_to_array = {
	# 	global.states_for_poland_unification = 541
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 536
	# }
	# #BEX
	# add_to_array = {
	# 	global.states_for_poland_unification = 538
	# }
	# #KRO
	# add_to_array = {
	# 	global.states_for_poland_unification = 527
	# }
	# #JSO
	# add_to_array = {
	# 	global.states_for_poland_unification = 524
	# }
	# #DBI
	# add_to_array = {
	# 	global.states_for_poland_unification = 498
	# }
	# #KOZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 535
	# }
	# #RZE
	# add_to_array = {
	# 	global.states_for_poland_unification = 507
	# }
	# #KOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 456
	# }
	# #MIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 455
	# }
	# #TAR
	# add_to_array = {
	# 	global.states_for_poland_unification = 429
	# }
	# #CHR
	# add_to_array = {
	# 	global.states_for_poland_unification = 447
	# }
	# #LEZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 461
	# }
	# #LGP
	# add_to_array = {
	# 	global.states_for_poland_unification = 473
	# }
	# #LCZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 457
	# }
	# #UPA
	# add_to_array = {
	# 	global.states_for_poland_unification = 489
	# }
	# #UHR
	# add_to_array = {
	# 	global.states_for_poland_unification = 520
	# }
	
	# #CAL
	# add_to_array = {
	# 	global.states_for_poland_unification = 314
	# }
	# #FEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 240
	# }
	# #SUS
	# add_to_array = {
	# 	global.states_for_poland_unification = 299
	# }
	# #GNI
	# add_to_array = {
	# 	global.states_for_poland_unification = 689
	# }
	# #WML
	# add_to_array = {
	# 	global.states_for_poland_unification = 302
	# }
	# #BBW
	# add_to_array = {
	# 	global.states_for_poland_unification = 341
	# }
	# #ZYD
	# add_to_array = {
	# 	global.states_for_poland_unification = 353
	# }
	# #ZHP
	# add_to_array = {
	# 	global.states_for_poland_unification = 368
	# }
	# #SAP
	# add_to_array = {
	# 	global.states_for_poland_unification = 269
	# }
	# #KRS
	# add_to_array = {
	# 	global.states_for_poland_unification = 236
	# }
	# #JAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 82
	# }
	# #USP
	# add_to_array = {
	# 	global.states_for_poland_unification = 53
	# }
	# #JOM
	# add_to_array = {
	# 	global.states_for_poland_unification = 70
	# }
	# #SWI
	# add_to_array = {
	# 	global.states_for_poland_unification = 54
	# }
	# #STE
	# add_to_array = {
	# 	global.states_for_poland_unification = 105
	# }
	# #EKW
	# add_to_array = {
	# 	global.states_for_poland_unification = 158
	# }
	# #INO
	# add_to_array = {
	# 	global.states_for_poland_unification = 701
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 198
	# }
	# #TOR
	# add_to_array = {
	# 	global.states_for_poland_unification = 165
	# }
	# #GRU
	# add_to_array = {
	# 	global.states_for_poland_unification = 115
	# }
	# #KUJ
	# add_to_array = {
	# 	global.states_for_poland_unification = 136
	# }
	# #BYD
	# add_to_array = {
	# 	global.states_for_poland_unification = 708
	# }
	# #PIL
	# add_to_array = {
	# 	global.states_for_poland_unification = 135
	# }
	# #WRT
	# add_to_array = {
	# 	global.states_for_poland_unification = 161
	# }
	# #NAC
	# add_to_array = {
	# 	global.states_for_poland_unification = 244
	# }
	# #SYJ
	# add_to_array = {
	# 	global.states_for_poland_unification = 583
	# }
	# #POZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 220
	# }
	# #SLU
	# add_to_array = {
	# 	global.states_for_poland_unification = 582
	# }
	# #LOT
	# add_to_array = {
	# 	global.states_for_poland_unification = 629
	# }
	# #KOR
	# add_to_array = {
	# 	global.states_for_poland_unification = 15
	# }
	# #GDA
	# add_to_array = {
	# 	global.states_for_poland_unification = 39
	# }
	# #BOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 897
	# }
	# #OWS
	# add_to_array = {
	# 	global.states_for_poland_unification = 709
	# }
	# #ARK
	# add_to_array = {
	# 	global.states_for_poland_unification = 34
	# }
	# #KSZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 21
	# }
	# #HEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 666
	# }
	# #GAY
	# add_to_array = {
	# 	global.states_for_poland_unification = 35
	# }
	# #CZL
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	# #kol
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	# #CZL
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	set_global_flag = needed_arrays_initialized
}
