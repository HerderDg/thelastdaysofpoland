#Upgrades state cat to the next valid level. Called from state scope
increase_state_category = {
	if = {
		limit = {
			OR = {
				has_state_category = wasteland
				has_state_category = enclave
			}
		}
		set_state_category = pastoral
		effect_tooltip = {
			add_extra_state_shared_building_slots = 1
		}
	}
	else_if = {
		limit = {
			has_state_category = pastoral
		}
		set_state_category = rural
		effect_tooltip = {
			add_extra_state_shared_building_slots = 1
		}
	}
	else_if = {
		limit = {
			has_state_category = rural
		}
		set_state_category = town
		effect_tooltip = {
			add_extra_state_shared_building_slots = 2
		}
	}
	else_if = {
		limit = {
			has_state_category = town
		}
		set_state_category = large_town
		effect_tooltip = {
			add_extra_state_shared_building_slots = 1
		}
	}
	else_if = {
		limit = {
			has_state_category = large_town
		}
		set_state_category = city
		effect_tooltip = {
			add_extra_state_shared_building_slots = 1
		}
	}
	else_if = {
		limit = {
			has_state_category = city
		}
		set_state_category = large_city
		effect_tooltip = {
			add_extra_state_shared_building_slots = 2
		}
	}

	else_if = {
		limit = {
			has_state_category = large_city
		}
		set_state_category = metropolis
		effect_tooltip = {
			add_extra_state_shared_building_slots = 2
		}
	}

	else_if = {
		limit = {
			has_state_category = metropolis
		} 
		set_state_category = megalopolis
		effect_tooltip = {
			add_extra_state_shared_building_slots = 2
		}
	}

}


core_all_polish_states = {
	every_state = {
		limit = {
			is_poland_state = yes
		}
		add_core_of = ROOT
	}
}

gain_random_agency_upgrade = { #Gives a random agency upgrade or grants a free agency if one has not yet been established
	custom_effect_tooltip = free_agency_upgrade_tt
	hidden_effect = {
		if = {
			limit = {
				has_intelligence_agency = no
			}
			create_intelligence_agency = yes
		}
		else = {
			random_list = {
				1 = {
					upgrade_intelligence_agency = upgrade_economy_civilian
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_economy_civilian
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_army_department
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_army_department
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_naval_department
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_naval_department
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_airforce_department
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_airforce_department
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_passive_defense
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_passive_defense
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_anti_partisan
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_anti_partisan
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_blueprint_stealing
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_blueprint_stealing
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_portable_radios
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_portable_radios
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_invisible_ink
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_invisible_ink
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_plastic_explosives
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_plastic_explosives
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_suicide_pills
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_suicide_pills
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_training_centers
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_training_centers
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_commando_training
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_commando_training
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_interrogation_techniques
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_interrogation_techniques
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_diplo_training
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_diplo_training
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_psycho_warfare
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_psycho_warfare
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_form_department
					modifier = {
						factor = 0
						has_done_agency_upgrade = upgrade_form_department
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_decryption_boost
					modifier = {
						factor = 0
						OR = {
							has_done_agency_upgrade = upgrade_decryption_boost
							NOT = { has_done_agency_upgrade = upgrade_form_department }
						}
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_decryption_boost_2
					modifier = {
						factor = 0
						OR = {
							has_done_agency_upgrade = upgrade_decryption_boost_2
							NOT = { has_done_agency_upgrade = upgrade_form_department }
							NOT = { has_done_agency_upgrade = upgrade_decryption_boost }
						}
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_crypto_strength
					modifier = {
						factor = 0
						OR = {
							has_done_agency_upgrade = upgrade_crypto_strength
							NOT = { has_done_agency_upgrade = upgrade_form_department }
						}
					}
				}
				1 = {
					upgrade_intelligence_agency = upgrade_crypto_strength_2
					modifier = {
						factor = 0
						OR = {
							has_done_agency_upgrade = upgrade_crypto_strength_2
							NOT = { has_done_agency_upgrade = upgrade_form_department }
							NOT = { has_done_agency_upgrade = upgrade_crypto_strength }
						}
					}
				}
			}
		}
	}
}

upgrade_military_law = {
	if = {
		limit = {
			has_idea = disarmed_nation
		}
		add_ideas = volunteer_only
	}
	else_if = {
		limit = {
			has_idea = volunteer_only
		}
		add_ideas = random_enlistment
	}
	else_if = {
		limit = {
			has_idea = random_enlistment
		}
		add_ideas = system_enlistment
	}
	else_if = {
		limit = {
			has_idea = system_enlistment
		}
		add_ideas = expanded_conscription
	}
	else_if = {
		limit = {
			has_idea = expanded_conscription
		}
		add_ideas = ubiquitous_military_service
	}
	else_if = {
		limit = {
			has_idea = ubiquitous_military_service
		}
		add_ideas = total_mobilisation
	}
	else_if = {
		limit = {
			has_idea = total_mobilisation
		}
		add_ideas = army_with_a_state
	}
	else = {
		add_political_power = 150
	}
}

upgrade_tax_law = {
	if = {
		limit = {
			has_idea = taxes_none
		}
		swap_ideas = {
			remove_idea = taxes_none
			add_idea = taxes_minimal
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_minimal
		}
		swap_ideas = {
			remove_idea = taxes_minimal
			add_idea = taxes_low
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_low
		}
		swap_ideas = {
			remove_idea = taxes_low
			add_idea = taxes_medium
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_medium
		}
		swap_ideas = {
			remove_idea = taxes_medium
			add_idea = taxes_high
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_high
		}
		swap_ideas = {
			remove_idea = taxes_high
			add_idea = taxes_inhuman
		}
	}
}

downgrade_tax_law = {
	if = {
		limit = {
			has_idea = taxes_inhuman
		}
		swap_ideas = {
			remove_idea = taxes_inhuman
			add_idea = taxes_high
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_high
		}
		swap_ideas = {
			remove_idea = taxes_high
			add_idea = taxes_medium
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_medium
		}
		swap_ideas = {
			remove_idea = taxes_medium
			add_idea = taxes_low
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_low
		}
		swap_ideas = {
			remove_idea = taxes_low
			add_idea = taxes_minimal
		}
	}
	else_if = {
		limit = {
			has_idea = taxes_minimal
		}
		swap_ideas = {
			remove_idea = taxes_minimal
			add_idea = taxes_none
		}
	}	
}


count_buildings = {
	set_temp_variable = {
		num_of_cathedrals_temp = 0
	}
	set_temp_variable = {
		num_of_universities_temp = 0
	}
	set_temp_variable = {
		num_of_hospitals_temp = 0
	}
	set_temp_variable = {
		num_of_prisons_temp = 0
	}
	set_temp_variable = {
		num_of_januszexes_temp = 0
	}
	set_temp_variable = {
		num_of_dockyards_temp = 0
	}
	set_temp_variable = {
		num_of_synthethic_refineries_temp = 0
	}
	set_temp_variable = {
		num_of_fuel_siloes_temp = 0
	}
	set_temp_variable = {
		num_of_high_tech_complexes_temp = 0
	}
	set_temp_variable = {
		num_of_power_plants_temp = 0
	}
	set_temp_variable = {
		num_of_wind_farms_temp = 0
	}
	set_temp_variable = {
		num_of_recycling_plants_temp = 0
	}
	set_temp_variable = {
		num_of_steel_works_temp = 0
	}
	set_temp_variable = {
		num_of_big_ass_farms_temp = 0
	}

	set_temp_variable = {
		num_of_ports_temp = 0
	}
	set_temp_variable = {
		num_of_facilities_temp = 0
	}	
	set_temp_variable = {
		num_of_reactors_temp = 0
	}
	set_temp_variable = {
		num_of_rockets_temp = 0
	}	
	set_temp_variable = {
		num_of_dams_temp = 0
	}	
	set_temp_variable = {
		num_of_airbase_temp = 0
	}
	set_temp_variable = {
		num_of_supplyhub_temp = 0
	}	
	set_temp_variable = {
		num_of_bunker_temp = 0
	}
	set_temp_variable = {
		num_of_stronghold_temp = 0
	}	
	set_temp_variable = {
		num_of_aa_temp = 0
	}
	set_temp_variable = {
		num_of_radar_temp = 0
	}	
	set_temp_variable = {
		num_of_civils_temp = 0
	}
	set_temp_variable = {
		num_of_militars_temp = 0
	}				

	every_controlled_state = {
		limit = {
			always = yes
		}
		add_to_temp_variable = { PREv.num_of_civils_temp = building_level@industrial_complex }
		add_to_temp_variable = { PREv.num_of_militars_temp = building_level@arms_factory }
		add_to_temp_variable = { PREV.num_of_cathedrals_temp = building_level@cathedral }
		add_to_temp_variable = { PREV.num_of_universities_temp = building_level@university }
		add_to_temp_variable = { PREV.num_of_hospitals_temp = building_level@hospital }
		add_to_temp_variable = { PREV.num_of_prisons_temp = building_level@prison }
		add_to_temp_variable = { PREV.num_of_januszexes_temp = building_level@januszex }
		add_to_temp_variable = { PREV.num_of_dockyards_temp = building_level@dockyard }
		add_to_temp_variable = { PREV.num_of_synthethic_refineries_temp = building_level@synthetic_refinery }
		add_to_temp_variable = { PREV.num_of_fuel_siloes_temp = building_level@fuel_silo }
		add_to_temp_variable = { PREV.num_of_high_tech_complexes_temp = building_level@high_tech_complex }
		add_to_temp_variable = { PREV.num_of_power_plants_temp = building_level@power_plant }
		add_to_temp_variable = { PREV.num_of_wind_farms_temp = building_level@wind_farm }
		add_to_temp_variable = { PREV.num_of_recycling_plants_temp = building_level@recycling_plant }
		add_to_temp_variable = { PREV.num_of_steel_works_temp = building_level@steel_works }
		add_to_temp_variable = { PREV.num_of_big_ass_farms_temp = building_level@big_ass_farm }

		add_to_temp_variable = { PREV.num_of_ports_temp = building_level@naval_base }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@land_facility }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@air_facility }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@naval_facility }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@nuclear_facility }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@civilian_facility }
		add_to_temp_variable = { PREV.num_of_facilities_temp = building_level@golem_facility }
		add_to_temp_variable = { PREV.num_of_reactors_temp = building_level@nuclear_reactor }
		add_to_temp_variable = { PREV.num_of_reactors_temp = building_level@nuclear_reactor_heavy_water }
		add_to_temp_variable = { PREV.num_of_reactors_temp = building_level@commercial_nuclear_reactor }
		add_to_temp_variable = { PREV.num_of_rockets_temp = building_level@mega_gun_emplacement }
		add_to_temp_variable = { PREV.num_of_rockets_temp = building_level@rocket_site }
		add_to_temp_variable = { PREV.num_of_dams_temp = building_level@dam }
		add_to_temp_variable = { PREV.num_of_dams_temp = building_level@dam_mountain }
		add_to_temp_variable = { PREV.num_of_airbase_temp = building_level@air_base }		
		add_to_temp_variable = { PREV.num_of_supplyhub_temp = building_level@supply_node }		
		add_to_temp_variable = { PREV.num_of_bunker_temp = building_level@bunker }		
		add_to_temp_variable = { PREV.num_of_bunker_temp = building_level@coastal_bunker }		
		add_to_temp_variable = { PREV.num_of_stronghold_temp = building_level@stronghold_network }		
		add_to_temp_variable = { PREV.num_of_aa_temp = building_level@anti_air_building }		
		add_to_temp_variable = { PREV.num_of_radar_temp = building_level@radar_station }		
	}

	set_variable = {
		num_of_civils = num_of_civils_temp
	}
	set_variable = {
		num_of_militars = num_of_militars_temp
	}		
	set_variable = {
		num_of_airbase = num_of_airbase_temp
	}
	set_variable = {
		num_of_supplyhub = num_of_supplyhub_temp
	}	
	set_variable = {
		num_of_bunker = num_of_bunker_temp
	}
	set_variable = {
		num_of_stronghold = num_of_stronghold_temp
	}	
	set_variable = {
		num_of_aa = num_of_aa_temp
	}
	set_variable = {
		num_of_radar = num_of_radar_temp
	}	
	set_variable = {
		num_of_dams = num_of_dams_temp
	}	
	set_variable = {
		num_of_rockets = num_of_rockets_temp
	}	
	set_variable = {
		num_of_ports = num_of_ports_temp
	}
	set_variable = {
		num_of_facilities = num_of_facilities_temp
	}
	set_variable = {
		num_of_reactors = num_of_reactors_temp
	}	

	set_variable = {
		num_of_cathedrals = num_of_cathedrals_temp
	}
	set_variable = {
		num_of_universities = num_of_universities_temp
	}
	set_variable = {
		num_of_hospitals = num_of_hospitals_temp
	}
	set_variable = {
		num_of_prisons = num_of_prisons_temp
	}
	set_variable = {
		num_of_januszexes = num_of_januszexes_temp
	}
	set_variable = {
		num_of_dockyards = num_of_dockyards_temp
	}
	set_variable = {
		num_of_synthethic_refineries = num_of_synthethic_refineries_temp
	}
	set_variable = {
		num_of_fuel_siloes = num_of_fuel_siloes_temp
	}
	set_variable = {
		num_of_high_tech_complexes = num_of_high_tech_complexes_temp
	}
	set_variable = {
		sum_of_power_plants = num_of_power_plants_temp
	}
	set_variable = {
		sum_of_wind_farms = num_of_wind_farms_temp
	}
	set_variable = {
		num_of_recycling_plants = num_of_recycling_plants_temp
	}
	set_variable = {
		num_of_steel_works = num_of_steel_works_temp
	}
	set_variable = {
		num_of_big_ass_farms = num_of_big_ass_farms_temp
	}	
}

#building effects
public_buildings_effect = {
	#limitowanie
	if = {
		limit = {
			NOT = {
				has_variable = rare_buildings_divider
			}
		}
		set_variable = {
			rare_buildings_divider = 20
		}
		if = {
			limit = {
				has_tech = less_limits
			}
			set_variable = {
				rare_buildings_divider = 10
			}
		}
	}
	set_temp_variable = {
		divider_halved = rare_buildings_divider
	}
	divide_temp_variable = {
		divider_halved = 2
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_cathedrals = 1
		}
	}
	else = {
		set_variable = {
			max_effective_cathedrals = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_cathedrals = max_effective_cathedrals
		}
		modulo_temp_variable = {
			modulo_from_cathedrals = rare_buildings_divider
		}
		divide_variable = {
			max_effective_cathedrals = rare_buildings_divider
		}
		round_variable = max_effective_cathedrals
		
		if = {
			limit = {
				check_variable = {
					modulo_from_cathedrals < divider_halved
				}
			}
			add_to_variable = {
				max_effective_cathedrals = 1
			}
		}
	}

	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_universities = 1
		}
	}
	else = {
		set_variable = {
			max_effective_universities = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_universities = max_effective_universities
		}
		modulo_temp_variable = {
			modulo_from_universities = 20
		}
		divide_variable = {
			max_effective_universities = 20
		}
		round_variable = max_effective_universities
		if = {
			limit = {
				check_variable = {
					modulo_from_universities < divider_halved
				}
			}
			add_to_variable = {
				max_effective_universities = 1
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < 2
			}
		}
		set_variable = {
			max_effective_hospitals = 1
		}
	}
	else = {
		set_variable = {
			max_effective_hospitals = num_controlled_states
		}
		divide_variable = {
			max_effective_hospitals = 2
		}
		round_variable = max_effective_hospitals
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < 5
			}
		}
		set_variable = {
			max_effective_prisons = 1
		}
	}
	else = {
		set_variable = {
			max_effective_prisons = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_prisons = max_effective_prisons
		}
		modulo_temp_variable = {
			modulo_from_prisons = 5
		}
		divide_variable = {
			max_effective_prisons = 5
		}
		round_variable = max_effective_prisons
		if = {
			limit = {
				check_variable = {
					modulo_from_prisons < 3
				}
			}
			add_to_variable = {
				max_effective_prisons = 1
			}
		}
	}
	if = {
		limit = {
			check_variable = {
				num_controlled_states < rare_buildings_divider
			}
		}
		set_variable = {
			max_effective_januszexes = 1
		}
	}
	else = {
		set_variable = {
			max_effective_januszexes = num_controlled_states
		}
		set_temp_variable = {
			modulo_from_januszexes = max_effective_januszexes
		}
		modulo_temp_variable = {
			modulo_from_januszexes = 20
		}
		divide_variable = {
			max_effective_januszexes = 20
		}
		round_variable = max_effective_januszexes
		if = {
			limit = {
				check_variable = {
					modulo_from_januszexes < divider_halved
				}
			}
			add_to_variable = {
				max_effective_januszexes = 1
			}
		}
	}
	
	#wyliczanie modyfikatorów
	set_variable = { cathedral_effect_stab = num_of_cathedrals }
	multiply_variable = {
		cathedral_effect_stab = 0.001
	}
	if = {
		limit = {
			check_variable = {
				cathedral_effect_stab > 0.2
			}
		}
		set_variable = {
			cathedral_effect_stab = 0.2
		}
	}
	if = {
		limit = {
			check_variable = {
				num_of_cathedrals > 0
			}
		}
		add_dynamic_modifier = {
			modifier = catherdal_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = catherdal_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = catherdal_mod
		}
	}

	if = {
		limit = {
			check_variable = {
				var = max_effective_cathedrals
				value = num_of_cathedrals
				compare = less_than_or_equals
			}
		}
		set_variable = { cathedral_effect_correction_stab = max_effective_cathedrals }
		subtract_from_variable = { 
			cathedral_effect_correction_stab = num_of_cathedrals
		}
		multiply_variable = {
			cathedral_effect_correction_stab = 0.001
		}
		add_dynamic_modifier = {
			modifier = catherdal_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = catherdal_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = catherdal_overlimit_mod
			}
		}
	}

	set_variable = { university_effect = num_of_universities }
	multiply_variable = {
		university_effect = 0.01
	}
	if = {
		limit = {
			check_variable = {
				num_of_universities > 0
			}
		}
		add_dynamic_modifier = {
			modifier = university_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = university_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = university_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_universities
				value = num_of_universities
				compare = less_than_or_equals
			}
		}
		set_variable = { university_effect_correction = max_effective_universities }
		subtract_from_variable = { 
			university_effect_correction = num_of_universities
		}
		multiply_variable = {
			university_effect_correction = 0.01
		}
		add_dynamic_modifier = {
			modifier = university_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = university_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = university_overlimit_mod
			}
		}
	}
	
	if = {
		limit = {
			check_variable = {
				var = max_effective_hospitals
				value = num_of_hospitals
				compare = less_than_or_equals
			}
		}
		add_dynamic_modifier = {
			modifier = hospital_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = hospital_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = hospital_overlimit_mod
			}
		}
	}
	set_variable = { prison_effect = num_of_prisons }
	multiply_variable = {
		prison_effect = 0.001
	}
	if = {
		limit = {
			check_variable = {
				num_of_prisons > 0
			}
		}
		add_dynamic_modifier = {
			modifier = prison_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = prison_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = prison_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_prisons
				value = num_of_prisons
				compare = less_than_or_equals
			}
		}
		set_variable = { prison_effect_correction = max_effective_prisons }

		add_dynamic_modifier = {
			modifier = prison_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = prison_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = prison_overlimit_mod
			}
		}
	}

	set_variable = { januszex_effect_prod = num_of_januszexes }
	multiply_variable = {
		januszex_effect_prod = 0.001
	}
	if = {
		limit = {
			check_variable = {
				num_of_januszexes > 0
			}
		}
		add_dynamic_modifier = {
			modifier = januszex_mod
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = januszex_mod
			}
		}
		remove_dynamic_modifier = {
			modifier = januszex_mod
		}
	}
	if = {
		limit = {
			check_variable = {
				var = max_effective_januszexes
				value = num_of_januszexes
				compare = less_than_or_equals
			}
		}
		set_variable = { januszex_effect_correction_prod = max_effective_januszexes }
		subtract_from_variable = { 
			januszex_effect_correction_prod = num_of_januszexes
		}
		multiply_variable = {
			januszex_effect_correction_prod = 0.001
		}
		add_dynamic_modifier = {
			modifier = januszex_overlimit_mod
		}
	}
	else = {
		if = {
			limit = {
				has_dynamic_modifier = {
					modifier = januszex_overlimit_mod
				}
			}
			remove_dynamic_modifier = {
				modifier = januszex_overlimit_mod
			}
		}
	}
} 
count_voi_ownership = {
	set_variable = { lodz_ownership = 0 }
	set_variable = { holy_cross_ownership = 0 }
	set_variable = { zaglebie_and_jura_ownership = 0 }
	set_variable = { upper_silesia_ownership = 0 }
	set_variable = { tatry_region_ownership = 0 }
	set_variable = { opolskie_ownership = 0 }
	set_variable = { lower_silesia_ownership = 0 }
	set_variable = { lubuskie_ownership = 0 }
	set_variable = { west_pomerania_ownership = 0 }
	set_variable = { southern_greater_poland_ownership = 0 }
	set_variable = { northern_greater_poland_ownership = 0 }
	set_variable = { kuyavia_ownership = 0 }
	set_variable = { pomerelia_ownership = 0 }
	set_variable = { warmia_and_masuria_ownership = 0 }
	set_variable = { podlasie_ownership = 0 }
	set_variable = { mazovia_ownership = 0 }
	set_variable = { capital_district_ownership = 0 }
	set_variable = { radom_province_ownership = 0 }
	set_variable = { lubelskie_ownership = 0 }
	set_variable = { subcarpathia_ownership = 0 }
	set_variable = { lesser_poland_ownership = 0 }
	every_owned_state = {
		limit = {
			is_lodz_state = yes
		}
		add_to_variable = { prev.lodz_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_holy_cross_state = yes
		}
		add_to_variable = { prev.holy_cross_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_zaglebie_and_jura_state = yes
		}
		add_to_variable = { prev.zaglebie_and_jura_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_upper_silesia_state = yes
		}
		add_to_variable = { prev.upper_silesia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_tatry_region_state = yes
		}
		add_to_variable = { prev.tatry_region_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_opolskie_state = yes
		}
		add_to_variable = { prev.opolskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lower_silesia_state = yes
		}
		add_to_variable = { prev.lower_silesia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lubuskie_state = yes
		}
		add_to_variable = { prev.lubuskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_west_pomerania_state = yes
		}
		add_to_variable = { prev.west_pomerania_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_southern_greater_poland_state = yes
		}
		add_to_variable = { prev.southern_greater_poland_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_northern_greater_poland_state = yes
		}
		add_to_variable = { prev.northern_greater_poland_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_kuyavia_state = yes
		}
		add_to_variable = { prev.kuyavia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_pomerelia_state = yes
		}
		add_to_variable = { prev.pomerelia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_warmia_and_masuria_state = yes
		}
		add_to_variable = { prev.warmia_and_masuria_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_podlasie_state = yes
		}
		add_to_variable = { prev.podlasie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_mazovia_state = yes
		}
		add_to_variable = { prev.mazovia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_capital_district_state = yes
		}
		add_to_variable = { prev.capital_district_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_radom_province_state = yes
		}
		add_to_variable = { prev.radom_province_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lubelskie_state = yes
		}
		add_to_variable = { prev.lubelskie_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_subcarpathia_state = yes
		}
		add_to_variable = { prev.subcarpathia_ownership = 1 }
	}
	every_owned_state = {
		limit = {
			is_lesser_poland_state = yes
		}
		add_to_variable = { prev.lesser_poland_ownership = 1 }
	}
	divide_variable = {lodz_ownership = 50}
	divide_variable = {holy_cross_ownership = 36}
	divide_variable = {zaglebie_and_jura_ownership = 42}
	divide_variable = {upper_silesia_ownership = 46}
	divide_variable = {tatry_region_ownership = 30}
	divide_variable = {opolskie_ownership = 24}
	divide_variable = {lower_silesia_ownership = 30}
	divide_variable = {lubuskie_ownership = 36}
	divide_variable = {west_pomerania_ownership = 37}
	divide_variable = {southern_greater_poland_ownership = 41}
	divide_variable = {northern_greater_poland_ownership = 49}
	divide_variable = {kuyavia_ownership = 43}
	divide_variable = {pomerelia_ownership = 40}
	divide_variable = {warmia_and_masuria_ownership = 28}
	divide_variable = {podlasie_ownership = 51}
	divide_variable = { mazovia_ownership = 31 }
	divide_variable = { capital_district_ownership = 43 }
	divide_variable = { radom_province_ownership = 15 }
	divide_variable = { lubelskie_ownership = 39 }
	divide_variable = { subcarpathia_ownership = 41 }
	divide_variable = { lesser_poland_ownership = 49 }
}

russian_invasion_falls_apart = {
	for_each_scope_loop = {
		array = global.rightful_warmia_clay
		if = {
			limit = {
				NOT = {
					has_state_flag = offensive_stalled
				}
			}
			add_province_modifier = {
				static_modifiers = { unplanned_offensive }
				province = {
					all_provinces = yes
				}
			}
			set_state_flag = offensive_stalled
		}
	}
}

delete_eurokom_templates = {
	delete_unit_template_and_units = {
		division_template = "Euroinfanteriebataillon"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Europanzergrenadierbataillon (armor)"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Europanzergrenadierbataillon (mot. inf.)"
		disband = yes
	}
	delete_unit_template_and_units = {
		division_template = "Pro-europejscy ochotnicy"
		disband = yes
	}
}

check_workshop_limit = {

	set_temp_variable = {
		owned_states_count = ROOT.owned_states	
	}
	set_temp_variable = {
		owned_states_modulo = owned_states_count
	}

	modulo_temp_variable = {
		owned_states_modulo = 4
	}
	divide_temp_variable = {
		owned_states_count = 4
	}
	round_temp_variable = owned_states_count
	if = {
		limit = {
			check_variable = {
				owned_states_modulo > 1
			}
		}
		subtract_from_temp_variable = {
			owned_states_count = 1
		}
	}
	
	if = {
		limit = {
			check_variable = {
				var = active_workshops
				value = owned_states_count
				compare = greater_than_or_equals
			}
		}
		set_country_flag = workshop_limit
	}
	else = {
		clr_country_flag = workshop_limit
	}
}

#Ogólnie to jest na nierozjebywanie się poparcia podczas puppetowania, pierwsze dajesz przed puppetowaniem, drugie po
get_current_government_type = {
	clear_variable = original_government_type
	set_variable = { original_government_type = current_party_ideology_group }

	if = {
		limit = { has_elections = yes }
		set_country_flag = original_government_type_had_elections
	}

	clear_array = original_popularities
	add_to_array = { original_popularities = party_popularity_100@marxism_cranism }
	add_to_array = { original_popularities = party_popularity_100@squattism }
	add_to_array = { original_popularities = party_popularity_100@socialdemocrature }
	add_to_array = { original_popularities = party_popularity_100@euroliberalism }
	add_to_array = { original_popularities = party_popularity_100@freemarketism }
	add_to_array = { original_popularities = party_popularity_100@paternal_conservatism }
	add_to_array = { original_popularities = party_popularity_100@autocracy }
	add_to_array = { original_popularities = party_popularity_100@corporativism }
	add_to_array = { original_popularities = party_popularity_100@neonationalism }
	add_to_array = { original_popularities = party_popularity_100@reactionary }

	set_temp_variable = { sum = 100 }
	for_each_loop = {
		array = original_popularities
		subtract_from_temp_variable = { sum = v }
	}
	add_to_array = { original_popularities = sum } #last value (postpol), calculated directly to avoid rounding errors

	if = {
		limit = { has_autonomy_state = autonomy_colony }
		set_country_flag = autonomy_colony
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_dominion }
		set_country_flag = autonomy_dominion
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_integrated_puppet }
		set_country_flag = autonomy_integrated_puppet
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_collaboration_government }
		set_country_flag = autonomy_collaboration_government
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_personal_union }
		set_country_flag = autonomy_personal_union
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_eurokommissariat }
		set_country_flag = autonomy_eurokommissariat
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_europrotectorate }
		set_country_flag = autonomy_europrotectorate
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_euroassociate }
		set_country_flag = autonomy_euroassociate
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_euromandat }
		set_country_flag = autonomy_euromandat
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_eurorepublik }
		set_country_flag = autonomy_eurorepublik
	}			
	else_if = {
		limit = { has_autonomy_state = autonomy_satellite }
		set_country_flag = autonomy_satellite
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_supervised_state }
		set_country_flag = autonomy_supervised_state
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_associate  }
		set_country_flag = autonomy_wtt_imperial_associate 
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_protectorate }
		set_country_flag = autonomy_wtt_imperial_protectorate
	}
	else_if = {
		limit = { has_autonomy_state = autonomy_wtt_imperial_subject }
		set_country_flag = autonomy_wtt_imperial_subject
	}
	else_if = {
		limit = { is_subject = yes }
		set_country_flag = default_puppet
	}
}

restore_previous_government_type = {
	hidden_effect = {
		if = {
			limit = { has_variable = original_government_type } #needed to avoid a CTD
			if = {
				limit = { has_country_flag = original_government_type_had_elections }
				clr_country_flag = original_government_type_had_elections
				set_politics = {
					ruling_party = var:original_government_type
					elections_allowed = yes
				}
			}
			else = {
				set_politics = {
					ruling_party = var:original_government_type
					elections_allowed = no
				}
			}
		}
		clear_variable = original_government_type

		if = {
			limit = { check_variable = { original_popularities^num > 0 } }
			set_popularities = {
				marxism_cranism = original_popularities^0
				squattism = original_popularities^1
				socialdemocrature = original_popularities^2
				euroliberalism = original_popularities^3
				freemarketism = original_popularities^4
				paternal_conservatism = original_popularities^5
				autocracy = original_popularities^6
				corporativism = original_popularities^7
				neonationalism = original_popularities^8
				reactionary = original_popularities^9
				postpolonism = original_popularities^10
			}
			clear_array = original_popularities
		}

		clr_country_flag = autonomy_colony
		clr_country_flag = autonomy_dominion
		clr_country_flag = autonomy_integrated_puppet
		clr_country_flag = autonomy_collaboration_government
		clr_country_flag = autonomy_personal_union
		clr_country_flag = autonomy_eurokommissariat
		clr_country_flag = autonomy_europrotectorate
		clr_country_flag = autonomy_euromandat
		clr_country_flag = autonomy_eurorepublik
		clr_country_flag = autonomy_euroassociate
		clr_country_flag = autonomy_satellite
		clr_country_flag = autonomy_supervised_state
		clr_country_flag = autonomy_wtt_imperial_associate 
		clr_country_flag = autonomy_wtt_imperial_protectorate
		clr_country_flag = autonomy_wtt_imperial_subject
	}
}

create_arrays_of_needed_poland_states = {
	clear_array = global.states_for_poland_unification
	clear_array = global.states_for_southern_gp_unification
	clear_array = global.states_for_lesser_poland_unification
	clear_array = global.states_for_mazovia_unification
	clear_array = global.states_for_lodz_unification
	clear_array = global.states_for_lubelskie_unification
	clear_array = global.states_for_opolskie_unification
	clear_array = global.states_for_zaglebie_unification
	clear_array = global.states_for_tatra_unification
	clear_array = global.states_for_upper_silesia_unification
	clear_array = global.states_for_subcarpathia_unification
	clear_array = global.states_for_legnica_unification
	clear_array = global.states_for_lower_silesia_unification
	clear_array = global.states_for_holy_cross_unification
	clear_array = global.states_for_radom_unification
	clear_array = global.states_for_capital_unification
	clear_array = global.states_for_podlachia_unification
	clear_array = global.states_for_warmia_masuria_unification
	clear_array = global.states_for_pomerelia_unification
	clear_array = global.states_for_kuyavia_unification
	clear_array = global.states_for_northern_gp_unification
	clear_array = global.states_for_west_pomerania_unification
	
	#CAL
	add_to_array = {
		global.states_for_southern_gp_unification = 314
	}
	#ALP
	add_to_array = {
		global.states_for_southern_gp_unification = 266
	}	
	#FEL
	add_to_array = {
		global.states_for_southern_gp_unification = 240
	}
	#LIS
	add_to_array = {
		global.states_for_southern_gp_unification = 320
	}	
	#LSZ
	add_to_array = {
		global.states_for_southern_gp_unification = 299
	}
	#GNI
	add_to_array = {
		global.states_for_southern_gp_unification = 689
	}
	#KLO 
	add_to_array = {
		global.states_for_southern_gp_unification = 260
	}
	#KNN
	add_to_array = {
		global.states_for_southern_gp_unification = 256
	}

	#OSW
	add_to_array = {
		global.states_for_lesser_poland_unification = 513
	}
	#WDW
	add_to_array = {
		global.states_for_lesser_poland_unification = 515
	}
	#MSL
	add_to_array = {
		global.states_for_lesser_poland_unification = 523
	}
	#CHW
	add_to_array = {
		global.states_for_lesser_poland_unification = 493
	}
	#PRK
	add_to_array = {
		global.states_for_lesser_poland_unification = 459
	}	
	add_to_array = {
		global.states_for_lesser_poland_unification = 454
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 477
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 599
	}	
	#UMN
	add_to_array = {
		global.states_for_lesser_poland_unification = 508
	}
	#BOH
	add_to_array = {
		global.states_for_lesser_poland_unification = 505
	}	
	#NPL
	add_to_array = {
		global.states_for_lesser_poland_unification = 597
	}	
	#SKW
	add_to_array = {
		global.states_for_lesser_poland_unification = 932
	}
	#BRS
	add_to_array = {
		global.states_for_lesser_poland_unification = 495
	}
	#NHT
	add_to_array = {
		global.states_for_lesser_poland_unification = 573
	}
	#OSP
	add_to_array = {
		global.states_for_lesser_poland_unification = 935
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 492
	}
	#TRN
	add_to_array = {
		global.states_for_lesser_poland_unification = 512
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 472
	}
	#KRK
	add_to_array = {
		global.states_for_lesser_poland_unification = 506
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 572
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 571
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 724
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 770
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 771
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 772
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 773
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 569
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 721
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 723
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 514
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 722
	}
	add_to_array = {
		global.states_for_lesser_poland_unification = 570
	}


	#POL
	add_to_array = {
		global.states_for_mazovia_unification = 223 
	}
	#ORL
	add_to_array = {
		global.states_for_mazovia_unification = 642
	}
	#ZWK
	add_to_array = {
		global.states_for_mazovia_unification = 139
	}
	#KUR
	add_to_array = {
		global.states_for_mazovia_unification = 151
	}
	#SAS
	add_to_array = {
		global.states_for_mazovia_unification = 160
	}
	#SRP
	add_to_array = {
		global.states_for_mazovia_unification = 173
	}
	#GOS
	add_to_array = {
		global.states_for_mazovia_unification = 222
	}	
	#MAR
	add_to_array = {
		global.states_for_mazovia_unification = 643
	}
	#PLO
	add_to_array = {
		global.states_for_mazovia_unification = 197
	}
	#SCH
	add_to_array = {
		global.states_for_mazovia_unification = 237
	}		
	
	add_to_array = { 
		global.states_for_lodz_unification = 629
	}
	add_to_array = { 
		global.states_for_lodz_unification = 1062
	}		
	#WML
	add_to_array = {
		global.states_for_lodz_unification = 302 
	}
	#BBW
	add_to_array = {
		global.states_for_lodz_unification = 341
	}
	#ZYD
	add_to_array = {
		global.states_for_lodz_unification = 353
	}
	#ZHP
	add_to_array = {
		global.states_for_lodz_unification = 368
	}
	#SAP
	add_to_array = {
		global.states_for_lodz_unification = 269
	}
	#POG
	add_to_array = {
		global.states_for_lodz_unification = 236
	}
	#KRS
	add_to_array = {
		global.states_for_lodz_unification = 687
	}
	#RUT
	add_to_array = {
		global.states_for_lodz_unification = 686
	}
	#KAR
	add_to_array = {
		global.states_for_lodz_unification = 272
	}
	#AMW
	add_to_array = {
		global.states_for_lodz_unification = 296
	}	
	#LKS
	add_to_array = {
		global.states_for_lodz_unification = 309
	}
	#TIG
	add_to_array = {
		global.states_for_lodz_unification = 321
	}
	#RDM
	add_to_array = {
		global.states_for_lodz_unification = 370
	}			

	#PUL
	add_to_array = {
		global.states_for_lubelskie_unification = 330 
	}
	#BPD
	add_to_array = {
		global.states_for_lubelskie_unification = 310
	}
	#CRN
	add_to_array = {
		global.states_for_lubelskie_unification = 363
	}
	#KSN
	add_to_array = {
		global.states_for_lubelskie_unification = 391
	}
	#SWD
	add_to_array = {
		global.states_for_lubelskie_unification = 661
	}
	#ZUK
	add_to_array = {
		global.states_for_lubelskie_unification = 669
	}
	#BIL
	add_to_array = {
		global.states_for_lubelskie_unification = 411
	}
	add_to_array = {
		global.states_for_lubelskie_unification = 424
	}
	#TEN
	add_to_array = {
		global.states_for_lubelskie_unification = 277
	}		

	#MNI
	add_to_array = {
		global.states_for_opolskie_unification = 383 
	}
	#OPO
	add_to_array = {
		global.states_for_opolskie_unification = 428
	}
	#LEH
	add_to_array = {
		global.states_for_opolskie_unification = 449
	}
	add_to_array = {
		global.states_for_opolskie_unification = 1091
	}	
	#NYS
	add_to_array = {
		global.states_for_opolskie_unification = 603
	}
	#LCH
	add_to_array = {
		global.states_for_opolskie_unification = 402
	}
	#WAN
	add_to_array = {
		global.states_for_opolskie_unification = 467
	}

	#DGR
	add_to_array = {
		global.states_for_zaglebie_unification = 460 
	}
	add_to_array = {
		global.states_for_zaglebie_unification = 737
	}	
	#SOS
	add_to_array = {
		global.states_for_zaglebie_unification = 481
	}
	#BED
	add_to_array = {
		global.states_for_zaglebie_unification = 453
	}	
	#JAW
	add_to_array = {
		global.states_for_zaglebie_unification = 487
	}
	#ZAW
	add_to_array = {
		global.states_for_zaglebie_unification = 739
	}
	#JUR
	add_to_array = {
		global.states_for_zaglebie_unification = 738
	}	
	#CCH
	add_to_array = {
		global.states_for_zaglebie_unification = 870
	}
	#BRZ
	add_to_array = {
		global.states_for_zaglebie_unification = 390
	}
	#JWK
	add_to_array = {
		global.states_for_zaglebie_unification = 421
	}
	#SIE
	add_to_array = {
		global.states_for_zaglebie_unification = 730
	}


	#CIE
	add_to_array = {
		global.states_for_tatra_unification = 748
	}
	#BSK
	add_to_array = {
		global.states_for_tatra_unification = 530
	}
	#GUR
	add_to_array = {
		global.states_for_tatra_unification = 539
	}
	add_to_array = {
		global.states_for_tatra_unification = 545
	}	
	#SCZ
	add_to_array = {
		global.states_for_tatra_unification = 531
	}
	#LEM
	add_to_array = {
		global.states_for_tatra_unification = 600
	}
	#TYM
	add_to_array = {
		global.states_for_tatra_unification = 942
	}	
	#ZGR
	add_to_array = {
		global.states_for_tatra_unification = 820
	}
	#BBA
	add_to_array = {
		global.states_for_tatra_unification = 525
	}
	#WYM
	add_to_array = {
		global.states_for_tatra_unification = 782
	}

	#ASG
	add_to_array = {
		global.states_for_upper_silesia_unification = 509 
	}
	#KAT
	add_to_array = {
		global.states_for_upper_silesia_unification = 483
	}
	#TYS
	add_to_array = {
		global.states_for_upper_silesia_unification = 501
	}	
	#JSW
	add_to_array = {
		global.states_for_upper_silesia_unification = 516
	}
	#SBW
	add_to_array = {
		global.states_for_upper_silesia_unification = 490
	}
	#SOL
	add_to_array = {
		global.states_for_upper_silesia_unification = 496
	}		
	#CHO
	add_to_array = {
		global.states_for_upper_silesia_unification = 475
	}
	#RUD
	add_to_array = {
		global.states_for_upper_silesia_unification = 476
	}
	#RAS
	add_to_array = {
		global.states_for_upper_silesia_unification = 466
	}
	#FER
	add_to_array = {
		global.states_for_upper_silesia_unification = 445
	}
	#TRC
	add_to_array = {
		global.states_for_upper_silesia_unification = 470
	}
	#GLI
	add_to_array = {
		global.states_for_upper_silesia_unification = 471
	}
	#WOD
	add_to_array = {
		global.states_for_upper_silesia_unification = 510
	}
	#DUR
	add_to_array = {
		global.states_for_upper_silesia_unification = 497
	}	
	add_to_array = {
		global.states_for_upper_silesia_unification = 500
	}

	#ANC
	add_to_array = {
		global.states_for_subcarpathia_unification = 542 
	}
	#BEX
	add_to_array = {
		global.states_for_subcarpathia_unification = 538
	}
	#KRO
	add_to_array = {
		global.states_for_subcarpathia_unification = 527
	}
	#JSO
	add_to_array = {
		global.states_for_subcarpathia_unification = 524
	}
	#DBI
	add_to_array = {
		global.states_for_subcarpathia_unification = 498
	}
	#KOZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 535
	}
	#RZE
	add_to_array = {
		global.states_for_subcarpathia_unification = 507
	}
	#KOL
	add_to_array = {
		global.states_for_subcarpathia_unification = 456
	}
	#MIE
	add_to_array = {
		global.states_for_subcarpathia_unification = 455
	}
	#TAR
	add_to_array = {
		global.states_for_subcarpathia_unification = 429
	}
	#CHR
	add_to_array = {
		global.states_for_subcarpathia_unification = 447
	}
	#LEZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 461
	}
	#LGP
	add_to_array = {
		global.states_for_subcarpathia_unification = 473
	}
	#LCZ
	add_to_array = {
		global.states_for_subcarpathia_unification = 457
	}
	#UPA
	add_to_array = {
		global.states_for_subcarpathia_unification = 489
	}
	add_to_array = {
		global.states_for_subcarpathia_unification = 517
	}	
	#UHR
	add_to_array = {
		global.states_for_subcarpathia_unification = 520
	}
	#BSC
	add_to_array = {
		global.states_for_subcarpathia_unification = 541
	}
	add_to_array = {
		global.states_for_subcarpathia_unification = 536
	}
	#STL
	add_to_array = {
		global.states_for_subcarpathia_unification = 430
	}	

	#KGH
	add_to_array = {
		global.states_for_legnica_unification = 329
	}
	add_to_array = {
		global.states_for_legnica_unification = 1097
	}	
	#CYG
	add_to_array = {
		global.states_for_legnica_unification = 725
	}
	#TOU
	add_to_array = {
		global.states_for_legnica_unification = 728
	}
	#BOG
	add_to_array = {
		global.states_for_legnica_unification = 803
	}
	#EKS
	add_to_array = {
		global.states_for_legnica_unification = 345
	}
	#ZAG
	add_to_array = {
		global.states_for_legnica_unification = 313
	}
	add_to_array = {
		global.states_for_legnica_unification = 1100
	}	
	#WIN
	add_to_array = {
		global.states_for_legnica_unification = 609
	}
	add_to_array = {
		global.states_for_legnica_unification = 1099
	}	
	#PZL
	add_to_array = {
		global.states_for_legnica_unification = 273
	}		

	#CZE
	add_to_array = {
		global.states_for_lower_silesia_unification = 604
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 1093
	}	
	#ANA
	add_to_array = {
		global.states_for_lower_silesia_unification = 419
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 805
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 1101
	}	
	#MNL
	add_to_array = {
		global.states_for_lower_silesia_unification = 397
	}
	#ZUL
	add_to_array = {
		global.states_for_lower_silesia_unification = 414
	}
	#WRO
	add_to_array = {
		global.states_for_lower_silesia_unification = 376
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 375
	}	
	#OLE
	add_to_array = {
		global.states_for_lower_silesia_unification = 351
	}
	#RYB
	add_to_array = {
		global.states_for_lower_silesia_unification = 338
	}
	add_to_array = {
		global.states_for_lower_silesia_unification = 1083
	}	

	#STO
	add_to_array = {
		global.states_for_holy_cross_unification = 420
	}
	add_to_array = {
		global.states_for_holy_cross_unification = 398
	}	
	#NRA
	add_to_array = {
		global.states_for_holy_cross_unification = 378
	}
	add_to_array = {
		global.states_for_holy_cross_unification = 679
	}	
	#NSZ
	add_to_array = {
		global.states_for_holy_cross_unification = 362
	}
	#KIE
	add_to_array = {
		global.states_for_holy_cross_unification = 416
	}
	#STA
	add_to_array = {
		global.states_for_holy_cross_unification = 377
	}
	add_to_array = {
		global.states_for_holy_cross_unification = 392
	}	
	#SND
	add_to_array = {
		global.states_for_holy_cross_unification = 670
	}
	add_to_array = {
		global.states_for_holy_cross_unification = 857
	}	
	#KEL
	add_to_array = {
		global.states_for_holy_cross_unification = 443
	}
	#HOL
	add_to_array = {
		global.states_for_holy_cross_unification = 469
	}
	add_to_array = {
		global.states_for_holy_cross_unification = 441
	}		
	add_to_array = {
		global.states_for_holy_cross_unification = 674
	}


	#SAT
	add_to_array = {
		global.states_for_radom_unification = 1008
	}
	#RAD
	add_to_array = {
		global.states_for_radom_unification = 348
	}
	#SKA
	add_to_array = {
		global.states_for_radom_unification = 653
	}
	#SZY
	add_to_array = {
		global.states_for_radom_unification = 360
	}
	#CZA
	add_to_array = {
		global.states_for_radom_unification = 1017
	}
	#AIR
	add_to_array = {
		global.states_for_radom_unification = 1016
	}		
	add_to_array = {
		global.states_for_radom_unification = 654
	}
	#APC
	add_to_array = {
		global.states_for_radom_unification = 331
	}
	#PAB
	add_to_array = {
		global.states_for_radom_unification = 1009
	}	
	#VRC
	add_to_array = {
		global.states_for_radom_unification = 651
	}
	#GRJ
	add_to_array = {
		global.states_for_radom_unification = 294
	}


	#GAR
	add_to_array = {
		global.states_for_capital_unification = 284
	}
	#DUP
	add_to_array = {
		global.states_for_capital_unification = 268
	}
	#TVP
	add_to_array = {
		global.states_for_capital_unification = 720
	}
	#TRZ
	add_to_array = {
		global.states_for_capital_unification = 558
	}
	#CZR
	add_to_array = {
		global.states_for_capital_unification = 754
	}
	#WOW
	add_to_array = {
		global.states_for_capital_unification = 650
	}
	#ATO
	add_to_array = {
		global.states_for_capital_unification = 252
	}
	#WOL
	add_to_array = {
		global.states_for_capital_unification = 215
	}	
	#WRS
	add_to_array = {
		global.states_for_capital_unification = 1034
	}
	#WRC
	add_to_array = {
		global.states_for_capital_unification = 1035
	}	
	#BLO
	add_to_array = {
		global.states_for_capital_unification = 1025
	}	
	#FSO
	add_to_array = {
		global.states_for_capital_unification = 560
	}		
	#LEG
	add_to_array = {
		global.states_for_capital_unification = 1036
	}
	add_to_array = {
		global.states_for_capital_unification = 1031
	}		
	#ZIE
	add_to_array = {
		global.states_for_capital_unification = 559
	}
	#LAS
	add_to_array = {
		global.states_for_capital_unification = 228
	}
	add_to_array = {
		global.states_for_capital_unification = 752
	}
	#BIE
	add_to_array = {
		global.states_for_capital_unification = 557
	}
	#KCZ
	add_to_array = {
		global.states_for_capital_unification = 566
	}
	#WAT
	add_to_array = {
		global.states_for_capital_unification = 564
	}
	#PLC
	add_to_array = {
		global.states_for_capital_unification = 565
	}
	#KOD
	add_to_array = {
		global.states_for_capital_unification = 719
	}
	#ZNP
	add_to_array = {
		global.states_for_capital_unification = 1032
	}
	#IPN
	add_to_array = {
		global.states_for_capital_unification = 566
	}
	#ITA
	add_to_array = {
		global.states_for_capital_unification = 568
	}	
	#OKE
	add_to_array = {
		global.states_for_capital_unification = 1028
	}
	#URS
	add_to_array = {
		global.states_for_capital_unification = 242
	}	
	#WBG
	add_to_array = {
		global.states_for_capital_unification = 645
	}		
	#MAF
	add_to_array = {
		global.states_for_capital_unification = 261
	}
	#JEH
	add_to_array = {
		global.states_for_capital_unification = 647
	}
	#GRD
	add_to_array = {
		global.states_for_capital_unification = 262
	}	
	#ZYR
	add_to_array = {
		global.states_for_capital_unification = 270
	}
	#CPK
	add_to_array = {
		global.states_for_capital_unification = 1021
	}


	#KON
	add_to_array = {
		global.states_for_podlachia_unification = 143
	}
	#BOM
	add_to_array = {
		global.states_for_podlachia_unification = 640
	}
	#TAT
	add_to_array = {
		global.states_for_podlachia_unification = 634
	}
	#SAN
	add_to_array = {
		global.states_for_podlachia_unification = 633
	}
	#LMZ
	add_to_array = {
		global.states_for_podlachia_unification = 138
	}
	#BEL
	add_to_array = {
		global.states_for_podlachia_unification = 168
	}
	#AGR
	add_to_array = {
		global.states_for_podlachia_unification = 169
	}
	#SDL
	add_to_array = {
		global.states_for_podlachia_unification = 254
	}
	#PLEMIONA
	add_to_array = {
		global.states_for_podlachia_unification = 194
	}
	add_to_array = {
		global.states_for_podlachia_unification = 635
	}
	add_to_array = {
		global.states_for_podlachia_unification = 149
	}
	add_to_array = {
		global.states_for_podlachia_unification = 142
	}
	add_to_array = {
		global.states_for_podlachia_unification = 154
	}
	add_to_array = {
		global.states_for_podlachia_unification = 638
	}
	add_to_array = {
		global.states_for_podlachia_unification = 639
	}
	add_to_array = {
		global.states_for_podlachia_unification = 641
	}
	add_to_array = {
		global.states_for_podlachia_unification = 637
	}
	add_to_array = {
		global.states_for_podlachia_unification = 636
	}
	add_to_array = {
		global.states_for_podlachia_unification = 103
	}
	add_to_array = {
		global.states_for_podlachia_unification = 116
	}
	add_to_array = {
		global.states_for_podlachia_unification = 92
	}
	add_to_array = {
		global.states_for_podlachia_unification = 71
	}
	add_to_array = {
		global.states_for_podlachia_unification = 50
	}
	add_to_array = {
		global.states_for_podlachia_unification = 97
	}
	add_to_array = {
		global.states_for_podlachia_unification = 80
	}

	add_to_array = { #PRU
		global.states_for_warmia_masuria_unification = 113
	}
	add_to_array = { #GAL
		global.states_for_warmia_masuria_unification = 93
	}	
	add_to_array = { #TEU
		global.states_for_warmia_masuria_unification = 86
	}
	add_to_array = { #TEU
		global.states_for_warmia_masuria_unification = 73
	}	
	add_to_array = { #MAL
		global.states_for_warmia_masuria_unification = 64
	}
	add_to_array = { #WRM
		global.states_for_warmia_masuria_unification = 58
	}
	add_to_array = { #PZW
		global.states_for_warmia_masuria_unification = 75
	}
	add_to_array = { #RAJ
		global.states_for_warmia_masuria_unification = 95
	}	
	add_to_array = { #MRG
		global.states_for_warmia_masuria_unification = 79
	}
	add_to_array = { #OLS
		global.states_for_warmia_masuria_unification = 91
	}
	add_to_array = { #LUB
		global.states_for_warmia_masuria_unification = 106
	}	
	add_to_array = { #ELB
		global.states_for_warmia_masuria_unification = 56
	}
	add_to_array = { 
		global.states_for_warmia_masuria_unification = 1082
	}
	add_to_array = { 
		global.states_for_warmia_masuria_unification = 65
	}					

	#KOCIEWIE
	

	#TRÓJMIASTO
	add_to_array = { #KOR
		global.states_for_pomerelia_unification = 1086
	}
	add_to_array = { #GDA
		global.states_for_pomerelia_unification = 39
	}
	add_to_array = { #BOL
		global.states_for_pomerelia_unification = 897
	}
	add_to_array = { #SOP
		global.states_for_pomerelia_unification = 709
	}
	add_to_array = { #ARK
		global.states_for_pomerelia_unification = 34
	}
	add_to_array = { #OWS
		global.states_for_pomerelia_unification = 626
	}
	add_to_array = { #TVI
		global.states_for_pomerelia_unification = 15
	}
	add_to_array = { #MPR
		global.states_for_pomerelia_unification = 630
	}	
	#KASZUBY
	add_to_array = { 
		global.states_for_pomerelia_unification = 1075
	}
	add_to_array = { 
		global.states_for_pomerelia_unification = 36
	}

	#INNE GEJE
	add_to_array = { #HEL
		global.states_for_pomerelia_unification = 666
	}
	add_to_array = { #GAY
		global.states_for_pomerelia_unification = 35
	}
	add_to_array = { #GAY
		global.states_for_pomerelia_unification = 624
	}
	add_to_array = { #GAY
		global.states_for_pomerelia_unification = 625
	}		
	add_to_array = { #CZL
		global.states_for_pomerelia_unification = 100
	}	

	add_to_array = { #RLE
		global.states_for_pomerelia_unification = 38
	}		
	

	add_to_array = { #INO
		global.states_for_kuyavia_unification = 701
	}
	add_to_array = { #AMA
		global.states_for_kuyavia_unification = 703
	}
	add_to_array = {
		global.states_for_kuyavia_unification = 198
	}
	add_to_array = { #TOR
		global.states_for_kuyavia_unification = 165
	}
	add_to_array = { #GRU
		global.states_for_kuyavia_unification = 115
	}
	add_to_array = { #KUJ
		global.states_for_kuyavia_unification = 136
	}
	add_to_array = { 
		global.states_for_kuyavia_unification = 99
	}
	add_to_array = { 
		global.states_for_kuyavia_unification = 166
	}
	add_to_array = { #BYD
		global.states_for_kuyavia_unification = 708
	}
	add_to_array = { #BRO
		global.states_for_kuyavia_unification = 140
	}
	add_to_array = { #SKJ
		global.states_for_kuyavia_unification = 705
	}
	add_to_array = { #NED
		global.states_for_kuyavia_unification = 159
	}
	add_to_array = { #UFO
		global.states_for_kuyavia_unification = 182
	}
	add_to_array = { #GYP
		global.states_for_kuyavia_unification = 702
	}
	add_to_array = { #HOG
		global.states_for_kuyavia_unification = 146
	}
	add_to_array = { #GAS
		global.states_for_kuyavia_unification = 134
	}
	add_to_array = { #GAS
		global.states_for_kuyavia_unification = 128
	}							

	add_to_array = { #KAM
		global.states_for_northern_gp_unification = 227
	}
	add_to_array = { #KAM
		global.states_for_northern_gp_unification = 209
	}
	add_to_array = { #KAM
		global.states_for_northern_gp_unification = 205
	}		
	add_to_array = { #MOT
		global.states_for_northern_gp_unification = 183
	}
	add_to_array = { #MOT
		global.states_for_northern_gp_unification = 190
	}	
	add_to_array = { #PIL
		global.states_for_northern_gp_unification = 135
	}
	add_to_array = { #PIL
		global.states_for_northern_gp_unification = 1103
	}	
	add_to_array = { #WRT
		global.states_for_northern_gp_unification = 162
	}
	add_to_array = { #WRT
		global.states_for_northern_gp_unification = 164
	}
	add_to_array = { #WRT
		global.states_for_northern_gp_unification = 184
	}		
	add_to_array = { #NAC
		global.states_for_northern_gp_unification = 244
	}
	add_to_array = { #NAC
		global.states_for_northern_gp_unification = 974
	}	
	add_to_array = { #SYJ
		global.states_for_northern_gp_unification = 583
	}
	add_to_array = { #SYJ
		global.states_for_northern_gp_unification = 697
	}	
	add_to_array = { #POZ
		global.states_for_northern_gp_unification = 220
	}
	add_to_array = { #POZ
		global.states_for_northern_gp_unification = 699
	}	
	add_to_array = { #SLU
		global.states_for_northern_gp_unification = 582
	}

	add_to_array = { #JAS
		global.states_for_west_pomerania_unification = 82
	}
	add_to_array = { #JAS
		global.states_for_west_pomerania_unification = 1092
	}
	add_to_array = { #JAS
		global.states_for_west_pomerania_unification = 98
	}
	add_to_array = { #JAS
		global.states_for_west_pomerania_unification = 78
	}			
	add_to_array = { #USP
		global.states_for_west_pomerania_unification = 53
	}
	add_to_array = { #USP
		global.states_for_west_pomerania_unification = 623
	}	
	add_to_array = { #JOM
		global.states_for_west_pomerania_unification = 70
	}
	add_to_array = { #JOM
		global.states_for_west_pomerania_unification = 621
	}	
	add_to_array = { #SWI
		global.states_for_west_pomerania_unification = 54
	}
	add_to_array = { #SWI
		global.states_for_west_pomerania_unification = 83
	}	
	add_to_array = { #STE
		global.states_for_west_pomerania_unification = 105
	}
	add_to_array = { #STE
		global.states_for_west_pomerania_unification = 90
	}	
	add_to_array = { #EKW
		global.states_for_west_pomerania_unification = 158
	}
	add_to_array = { #EKW
		global.states_for_west_pomerania_unification = 614
	}	
	add_to_array = { #EKW
		global.states_for_west_pomerania_unification = 114
	}	


	for_each_loop = {
		array = global.states_for_southern_gp_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lesser_poland_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_mazovia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lodz_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lubelskie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_opolskie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_zaglebie_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_tatra_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_upper_silesia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_subcarpathia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_legnica_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_lower_silesia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_holy_cross_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_radom_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_capital_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_podlachia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_warmia_masuria_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_pomerelia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_kuyavia_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_northern_gp_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	for_each_loop = {
		array = global.states_for_west_pomerania_unification
		value = s
		add_to_array = {
			global.states_for_poland_unification = s
		}
	}
	log = "[?global.states_for_southern_gp_unification^num]"
	log = "[?global.states_for_lesser_poland_unification^num]"
	log = "[?global.states_for_mazovia_unification^num]"
	log = "[?global.states_for_lodz_unification^num]"
	log = "[?global.states_for_lubelskie_unification^num]"
	log = "[?global.states_for_opolskie_unification^num]"
	log = "[?global.states_for_zaglebie_unification^num]"
	log = "[?global.states_for_tatra_unification^num]"
	log = "[?global.states_for_upper_silesia_unification^num]"
	log = "[?global.states_for_subcarpathia_unification^num]"
	log = "[?global.states_for_legnica_unification^num]"
	log = "[?global.states_for_lower_silesia_unification^num]"
	log = "[?global.states_for_holy_cross_unification^num]"
	log = "[?global.states_for_radom_unification^num]"
	log = "[?global.states_for_capital_unification^num]"
	log = "[?global.states_for_podlachia_unification^num]"
	log = "[?global.states_for_warmia_masuria_unification^num]"
	log = "[?global.states_for_pomerelia_unification^num]"
	log = "[?global.states_for_kuyavia_unification^num]"
	log = "[?global.states_for_northern_gp_unification^num]"
	log = "[?global.states_for_west_pomerania_unification^num]"
	log = "[?global.states_for_poland_unification^num]"
	# #ASG
	# add_to_array = {
	# 	global.states_for_poland_unification = 509
	# }
	# #KAT
	# add_to_array = {
	# 	global.states_for_poland_unification = 483
	# }
	# #JSW
	# add_to_array = {
	# 	global.states_for_poland_unification = 516
	# }
	# #CHO
	# add_to_array = {
	# 	global.states_for_poland_unification = 475
	# }
	# #RUD
	# add_to_array = {
	# 	global.states_for_poland_unification = 476
	# }
	# #RAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 466
	# }
	# #FER
	# add_to_array = {
	# 	global.states_for_poland_unification = 445
	# }
	# #TRC
	# add_to_array = {
	# 	global.states_for_poland_unification = 470
	# }
	# #GLI
	# add_to_array = {
	# 	global.states_for_poland_unification = 471
	# }
	# #WOD
	# add_to_array = {
	# 	global.states_for_poland_unification = 510
	# }	

	# #MNI
	# add_to_array = {
	# 	global.states_for_poland_unification = 383
	# }
	# #OPO
	# add_to_array = {
	# 	global.states_for_poland_unification = 428
	# }
	# #LEH
	# add_to_array = {
	# 	global.states_for_poland_unification = 449
	# }
	# #NYS
	# add_to_array = {
	# 	global.states_for_poland_unification = 603
	# }
	# #LCH
	# add_to_array = {
	# 	global.states_for_poland_unification = 402
	# }
	# #WAN
	# add_to_array = {
	# 	global.states_for_poland_unification = 478
	# }
	
	# #CZE
	# add_to_array = {
	# 	global.states_for_poland_unification = 604
	# }
	# #ANA
	# add_to_array = {
	# 	global.states_for_poland_unification = 419
	# }
	# #FEM
	# add_to_array = {
	# 	global.states_for_poland_unification = 805
	# }
	# #MNL
	# add_to_array = {
	# 	global.states_for_poland_unification = 397
	# }
	# #ZUL
	# add_to_array = {
	# 	global.states_for_poland_unification = 414
	# }
	# #WRO
	# add_to_array = {
	# 	global.states_for_poland_unification = 376
	# }
	# #OLE
	# add_to_array = {
	# 	global.states_for_poland_unification = 351
	# }
	# #RYB
	# add_to_array = {
	# 	global.states_for_poland_unification = 338
	# }
	# #KGH
	# add_to_array = {
	# 	global.states_for_poland_unification = 329
	# }
	# #CYG
	# add_to_array = {
	# 	global.states_for_poland_unification = 725
	# }
	# #TOU
	# add_to_array = {
	# 	global.states_for_poland_unification = 728
	# }
	# #BOG
	# add_to_array = {
	# 	global.states_for_poland_unification = 803
	# }
	# #EKS
	# add_to_array = {
	# 	global.states_for_poland_unification = 345
	# }

	# #ZAG
	# add_to_array = {
	# 	global.states_for_poland_unification = 313
	# }
	# #WIN
	# add_to_array = {
	# 	global.states_for_poland_unification = 609
	# }
	# #KAM
	# add_to_array = {
	# 	global.states_for_poland_unification = 227
	# }
	# #MOT
	# add_to_array = {
	# 	global.states_for_poland_unification = 183
	# }
	
	# #KON
	# add_to_array = {
	# 	global.states_for_poland_unification = 143
	# }
	# #BOM
	# add_to_array = {
	# 	global.states_for_poland_unification = 640
	# }
	# #TAT
	# add_to_array = {
	# 	global.states_for_poland_unification = 634
	# }
	# #SAN
	# add_to_array = {
	# 	global.states_for_poland_unification = 633
	# }
	# #LMZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 138
	# }
	# #BEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 168
	# }
	# #TRIBES
	# add_to_array = {
	# 	global.states_for_poland_unification = 194
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 635
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 149
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 142
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 154
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 638
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 639
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 641
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 637
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 636
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 103
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 116
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 92
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 97
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 80
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 71
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 50
	# }
	# #AGR
	# add_to_array = {
	# 	global.states_for_poland_unification = 169
	# }
	# #SDL
	# add_to_array = {
	# 	global.states_for_poland_unification = 254
	# }

	# #POL
	# add_to_array = {
	# 	global.states_for_poland_unification = 223
	# }
	# #ORL
	# add_to_array = {
	# 	global.states_for_poland_unification = 642
	# }
	# #ZWK
	# add_to_array = {
	# 	global.states_for_poland_unification = 139
	# }
	# #KUR
	# add_to_array = {
	# 	global.states_for_poland_unification = 151
	# }
	# #SAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 160
	# }

	# #PRU
	# add_to_array = {
	# 	global.states_for_poland_unification = 113
	# }
	# #TEU
	# add_to_array = {
	# 	global.states_for_poland_unification = 56
	# }
	# #MAL
	# add_to_array = {
	# 	global.states_for_poland_unification = 64
	# }
	# #WRM
	# add_to_array = {
	# 	global.states_for_poland_unification = 91
	# }
	# #PZW
	# add_to_array = {
	# 	global.states_for_poland_unification = 75
	# }
	# #ROS
	# add_to_array = {
	# 	global.states_for_poland_unification = 48
	# }
	
	# #DUP
	# add_to_array = {
	# 	global.states_for_poland_unification = 268
	# } 
	# #ZYR
	# add_to_array = {
	# 	global.states_for_poland_unification = 270
	# }
	# #MAF
	# add_to_array = {
	# 	global.states_for_poland_unification = 261
	# }
	# #WOW
	# add_to_array = {
	# 	global.states_for_poland_unification = 650
	# }
	# #LAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 228
	# }
	# #ZIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 559
	# }
	# #WOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 215
	# }
	# #BIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 557
	# }
	# #LEG
	# add_to_array = {
	# 	global.states_for_poland_unification = 560
	# }
	# #PLC
	# add_to_array = {
	# 	global.states_for_poland_unification = 565
	# }
	# #TVP
	# add_to_array = {
	# 	global.states_for_poland_unification = 720
	# }
	# #TRZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 563
	# }
	
	# #DGR
	# add_to_array = {
	# 	global.states_for_poland_unification = 460
	# }
	# #SOS
	# add_to_array = {
	# 	global.states_for_poland_unification = 481
	# } 
	# #JAW
	# add_to_array = {
	# 	global.states_for_poland_unification = 487
	# }
	# #ZAW
	# add_to_array = {
	# 	global.states_for_poland_unification = 739
	# }
	# #CCH
	# add_to_array = {
	# 	global.states_for_poland_unification = 870
	# }
	# #BRZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 390
	# }
	# #JWK
	# add_to_array = {
	# 	global.states_for_poland_unification = 421
	# }

	# #OSW
	# add_to_array = {
	# 	global.states_for_poland_unification = 513
	# }
	# #WDW
	# add_to_array = {
	# 	global.states_for_poland_unification = 515
	# }
	# #SKW
	# add_to_array = {
	# 	global.states_for_poland_unification = 519
	# }
	# #PRK
	# add_to_array = {
	# 	global.states_for_poland_unification = 459
	# }
	# #KRK
	# add_to_array = {
	# 	global.states_for_poland_unification = 506
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 572
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 571
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 724
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 770
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 771
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 772
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 575
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 773
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 569
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 721
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 723
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 514
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 722
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 570
	# }
	# #NHT
	# add_to_array = {
	# 	global.states_for_poland_unification = 573
	# }
	# #UMN
	# add_to_array = {
	# 	global.states_for_poland_unification = 508
	# }
	# #BOH
	# add_to_array = {
	# 	global.states_for_poland_unification = 505
	# }
	# #TRN
	# add_to_array = {
	# 	global.states_for_poland_unification = 512
	# }

	# #CIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 522
	# } 
	# #BSK
	# add_to_array = {
	# 	global.states_for_poland_unification = 525
	# }
	# #MSL
	# add_to_array = {
	# 	global.states_for_poland_unification = 523
	# }
	# #GUR
	# add_to_array = {
	# 	global.states_for_poland_unification = 545
	# }
	# #SCZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 531
	# }
	# #LEM
	# add_to_array = {
	# 	global.states_for_poland_unification = 600
	# } 

	# #STO
	# add_to_array = {
	# 	global.states_for_poland_unification = 420
	# }	
	# #KEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 857
	# }
	# #NRA
	# add_to_array = {
	# 	global.states_for_poland_unification = 679
	# }	
	# #NSZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 362
	# }
	# #KIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 416
	# }	
	# #STA
	# add_to_array = {
	# 	global.states_for_poland_unification = 377
	# }
	# #SND
	# add_to_array = {
	# 	global.states_for_poland_unification = 670
	# }
	# #ANC
	# add_to_array = {
	# 	global.states_for_poland_unification = 542
	# }
	# #BSC
	# add_to_array = {
	# 	global.states_for_poland_unification = 541
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 536
	# }
	# #BEX
	# add_to_array = {
	# 	global.states_for_poland_unification = 538
	# }
	# #KRO
	# add_to_array = {
	# 	global.states_for_poland_unification = 527
	# }
	# #JSO
	# add_to_array = {
	# 	global.states_for_poland_unification = 524
	# }
	# #DBI
	# add_to_array = {
	# 	global.states_for_poland_unification = 498
	# }
	# #KOZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 535
	# }
	# #RZE
	# add_to_array = {
	# 	global.states_for_poland_unification = 507
	# }
	# #KOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 456
	# }
	# #MIE
	# add_to_array = {
	# 	global.states_for_poland_unification = 455
	# }
	# #TAR
	# add_to_array = {
	# 	global.states_for_poland_unification = 429
	# }
	# #CHR
	# add_to_array = {
	# 	global.states_for_poland_unification = 447
	# }
	# #LEZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 461
	# }
	# #LGP
	# add_to_array = {
	# 	global.states_for_poland_unification = 473
	# }
	# #LCZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 457
	# }
	# #UPA
	# add_to_array = {
	# 	global.states_for_poland_unification = 489
	# }
	# #UHR
	# add_to_array = {
	# 	global.states_for_poland_unification = 520
	# }
	
	# #CAL
	# add_to_array = {
	# 	global.states_for_poland_unification = 314
	# }
	# #FEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 240
	# }
	# #SUS
	# add_to_array = {
	# 	global.states_for_poland_unification = 299
	# }
	# #GNI
	# add_to_array = {
	# 	global.states_for_poland_unification = 689
	# }
	# #WML
	# add_to_array = {
	# 	global.states_for_poland_unification = 302
	# }
	# #BBW
	# add_to_array = {
	# 	global.states_for_poland_unification = 341
	# }
	# #ZYD
	# add_to_array = {
	# 	global.states_for_poland_unification = 353
	# }
	# #ZHP
	# add_to_array = {
	# 	global.states_for_poland_unification = 368
	# }
	# #SAP
	# add_to_array = {
	# 	global.states_for_poland_unification = 269
	# }
	# #KRS
	# add_to_array = {
	# 	global.states_for_poland_unification = 236
	# }
	# #JAS
	# add_to_array = {
	# 	global.states_for_poland_unification = 82
	# }
	# #USP
	# add_to_array = {
	# 	global.states_for_poland_unification = 53
	# }
	# #JOM
	# add_to_array = {
	# 	global.states_for_poland_unification = 70
	# }
	# #SWI
	# add_to_array = {
	# 	global.states_for_poland_unification = 54
	# }
	# #STE
	# add_to_array = {
	# 	global.states_for_poland_unification = 105
	# }
	# #EKW
	# add_to_array = {
	# 	global.states_for_poland_unification = 158
	# }
	# #INO
	# add_to_array = {
	# 	global.states_for_poland_unification = 701
	# }
	# add_to_array = {
	# 	global.states_for_poland_unification = 198
	# }
	# #TOR
	# add_to_array = {
	# 	global.states_for_poland_unification = 165
	# }
	# #GRU
	# add_to_array = {
	# 	global.states_for_poland_unification = 115
	# }
	# #KUJ
	# add_to_array = {
	# 	global.states_for_poland_unification = 136
	# }
	# #BYD
	# add_to_array = {
	# 	global.states_for_poland_unification = 708
	# }
	# #PIL
	# add_to_array = {
	# 	global.states_for_poland_unification = 135
	# }
	# #WRT
	# add_to_array = {
	# 	global.states_for_poland_unification = 161
	# }
	# #NAC
	# add_to_array = {
	# 	global.states_for_poland_unification = 244
	# }
	# #SYJ
	# add_to_array = {
	# 	global.states_for_poland_unification = 583
	# }
	# #POZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 220
	# }
	# #SLU
	# add_to_array = {
	# 	global.states_for_poland_unification = 582
	# }
	# #LOT
	# add_to_array = {
	# 	global.states_for_poland_unification = 629
	# }
	# #KOR
	# add_to_array = {
	# 	global.states_for_poland_unification = 15
	# }
	# #GDA
	# add_to_array = {
	# 	global.states_for_poland_unification = 39
	# }
	# #BOL
	# add_to_array = {
	# 	global.states_for_poland_unification = 897
	# }
	# #OWS
	# add_to_array = {
	# 	global.states_for_poland_unification = 709
	# }
	# #ARK
	# add_to_array = {
	# 	global.states_for_poland_unification = 34
	# }
	# #KSZ
	# add_to_array = {
	# 	global.states_for_poland_unification = 21
	# }
	# #HEL
	# add_to_array = {
	# 	global.states_for_poland_unification = 666
	# }
	# #GAY
	# add_to_array = {
	# 	global.states_for_poland_unification = 35
	# }
	# #CZL
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	# #kol
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	# #CZL
	# add_to_array = {
	# 	global.states_for_poland_unification = 89
	# }
	set_global_flag = needed_arrays_initialized
}

create_array_of_religious_laws = {
	clear_array = global.religious_laws
	add_to_array = {
		global.religious_laws = one_state_one_religion
	}
	add_to_array = {
		global.religious_laws = state_religion
	}
	add_to_array = {
		global.religious_laws = one_religion_favoured
	}
	add_to_array = {
		global.religious_laws = partial_secularism
	}
	add_to_array = {
		global.religious_laws = full_secularism
	}
	add_to_array = {
		global.religious_laws = atheism_encouraged
	}
	add_to_array = {
		global.religious_laws = state_atheism
	}
	add_to_array = {
		global.religious_laws = no_gods_no_masters
	}
}

debug_check_distance = {
	538 = {
		every_neighbor_state = {
			if = {
				limit = {
					distance_to = {
						value < 10
						target = 538
					}
				}
				log = "[THIS.GetName] is in danger!"
			}
			else = {
				log = "[THIS.GetName] is not in danger :)"
			}
		}
	}
}