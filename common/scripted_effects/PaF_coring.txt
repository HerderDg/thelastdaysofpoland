clear_compatible_countries = {
	clear_array = global.lore_friends
	clear_array = global.lore_enemies
}



coring_calculation = {
	set_variable = { coring_cost = state_population_k }
	multiply_variable = { coring_cost = 0.6 }
	round_variable = coring_cost
	clamp_variable = {
		var = coring_cost
		max = 200
	}
	set_variable = { coring_multiplier = 0 }
	add_to_variable = { coring_multiplier = THIS.coring_cost }
	multiply_variable = { coring_multiplier = THIS.modifier@coring_cost_factor }
	add_to_variable = {
		THIS.coring_cost = coring_multiplier
	}
}

set_up_compatible_countries = {

	###########
	### BBW ###
	if = {
		limit = {
			ROOT = {
				original_tag = BBW
			}
		}
		add_to_array = { global.lore_friends = LBW } #brotherhood chapter
		add_to_array = { global.lore_friends = SBW } #brotherhood chapter
		add_to_array = { global.lore_friends = JSW } #rock and stone
		add_to_array = { global.lore_friends = ORL } #węgiel, ropa i gaz
		add_to_array = { global.lore_friends = KGH } #rock and stone
		add_to_array = { global.lore_friends = RUD } #rock and stone
		add_to_array = { global.lore_friends = UMN } #salty but miners
		add_to_array = { global.lore_friends = BOH } #salty but miners
		add_to_array = { global.lore_friends = STL } #brotherhood of steel

		add_to_array = { global.lore_enemies = ATM } #KURWA WIECHOWCU JEBANY AAAAAAAAAAAAAAAAAAAAAAAA	
		add_to_array = { global.lore_enemies = ATO } #KURWA MAŁY WIECHOWCU JEBANY AAAAAAAAAAA		
		add_to_array = { global.lore_enemies = ZIE } #ZIELONI? W MOIM BRACTWIE?		
		add_to_array = { global.lore_enemies = ITA } #ZIELONI? W MOIM BRACTWIE? 		
		add_to_array = { global.lore_enemies = ZHP } #JEBAĆ SZYSZKOJADÓW KURWAAAAAAAAAAAAAAAAA		

	}
	###########
	### ATM ###
	if = {
		limit = {
			ROOT = {
				original_tag = ATM
			}
		}
		add_to_array = { global.lore_friends = ORL } #też lubią reaktory
		add_to_array = { global.lore_friends = KGH } #też lubią reaktory
		add_to_array = { global.lore_friends = ATM } #też lubią reaktory
		add_to_array = { global.lore_friends = WML } #Halloweenia is a chill guy

		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					has_idea = energy_full_emission
				}
				add_to_array = { global.lore_enemies = PREV }
			}
		}

	}
	###########
	### CAL ###
	if = {
		limit = {
			ROOT = {
				original_tag = CAL
			}
		}
		add_to_array = { global.lore_friends = ALP } #latin amicus
		add_to_array = { global.lore_friends = PRT } #latin amicus

		add_to_array = { global.lore_enemies = KES } #zajebał nam Kalisz
	}
	###########
	

}