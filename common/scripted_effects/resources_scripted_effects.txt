coal_deposit_level_1 = {
	if = { limit = { 349 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 349 = { OWNER = { add_to_variable = { global.coal_deposit_level_349 = 20779 } } } }
	if = { limit = { 355 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 355 = { OWNER = { add_to_variable = { global.coal_deposit_level_355 = 5086 } } } }
	if = { limit = { 466 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 466 = { OWNER = { add_to_variable = { global.coal_deposit_level_466 = 1215 } } } }
	if = { limit = { 470 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 470 = { OWNER = { add_to_variable = { global.coal_deposit_level_470 = 613 } } } }
	if = { limit = { 471 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 471 = { OWNER = { add_to_variable = { global.coal_deposit_level_471 = 1998 } } } }
	if = { limit = { 476 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 476 = { OWNER = { add_to_variable = { global.coal_deposit_level_476 = 4037 } } } }
	if = { limit = { 487 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 487 = { OWNER = { add_to_variable = { global.coal_deposit_level_487 = 3760 } } } }
	if = { limit = { 490 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 490 = { OWNER = { add_to_variable = { global.coal_deposit_level_490 = 5199 } } } }
	if = { limit = { 493 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 493 = { OWNER = { add_to_variable = { global.coal_deposit_level_493 = 3150 } } } }
	if = { limit = { 500 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 500 = { OWNER = { add_to_variable = { global.coal_deposit_level_500 = 5616 } } } }
	if = { limit = { 502 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 502 = { OWNER = { add_to_variable = { global.coal_deposit_level_502 = 10266 } } } }
	if = { limit = { 504 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 504 = { OWNER = { add_to_variable = { global.coal_deposit_level_504 = 1980 } } } }
	if = { limit = { 511 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 511 = { OWNER = { add_to_variable = { global.coal_deposit_level_511 = 3376 } } } }
	if = { limit = { 513 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 513 = { OWNER = { add_to_variable = { global.coal_deposit_level_513 = 4578 } } } }
	if = { limit = { 516 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 516 = { OWNER = { add_to_variable = { global.coal_deposit_level_516 = 6579 } } } }
	if = { limit = { 521 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 521 = { OWNER = { add_to_variable = { global.coal_deposit_level_521 = 1635 } } } }
	if = { limit = { 590 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 590 = { OWNER = { add_to_variable = { global.coal_deposit_level_590 = 2403 } } } }
	if = { limit = { 593 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 593 = { OWNER = { add_to_variable = { global.coal_deposit_level_593 = 939 } } } }
	if = { limit = { 734 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 734 = { OWNER = { add_to_variable = { global.coal_deposit_level_734 = 917 } } } }
	if = { limit = { 761 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 761 = { OWNER = { add_to_variable = { global.coal_deposit_level_761 = 7562 } } } }
	if = { limit = { 762 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 762 = { OWNER = { add_to_variable = { global.coal_deposit_level_762 = 5644 } } } }
	if = { limit = { 764 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 764 = { OWNER = { add_to_variable = { global.coal_deposit_level_764 = 1894 } } } }
	if = { limit = { 766 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 766 = { OWNER = { add_to_variable = { global.coal_deposit_level_766 = 6689 } } } }
	if = { limit = { 786 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 786 = { OWNER = { add_to_variable = { global.coal_deposit_level_786 = 7519 } } } }
	if = { limit = { 787 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 787 = { OWNER = { add_to_variable = { global.coal_deposit_level_787 = 3353 } } } }
	if = { limit = { 788 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 788 = { OWNER = { add_to_variable = { global.coal_deposit_level_788 = 2669 } } } }
	if = { limit = { 789 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 789 = { OWNER = { add_to_variable = { global.coal_deposit_level_789 = 3237 } } } }
	if = { limit = { 790 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 790 = { OWNER = { add_to_variable = { global.coal_deposit_level_790 = 3866 } } } }
	if = { limit = { 794 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 794 = { OWNER = { add_to_variable = { global.coal_deposit_level_794 = 2185 } } } }
	if = { limit = { 928 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 928 = { OWNER = { add_to_variable = { global.coal_deposit_level_928 = 3192 } } } }
	if = { limit = { 912 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 912 = { OWNER = { add_to_variable = { global.coal_deposit_level_912 = 4696 } } } }
	if = { limit = { 320 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 320 = { OWNER = { add_to_variable = { global.coal_deposit_level_320 = 3187 } } } }
	if = { limit = { 680 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 680 = { OWNER = { add_to_variable = { global.coal_deposit_level_680 = 938 } } } }
	if = { limit = { 267 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 267 = { OWNER = { add_to_variable = { global.coal_deposit_level_267 = 6395 } } } }
	if = { limit = { 356 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 356 = { OWNER = { add_to_variable = { global.coal_deposit_level_356 = 2037 } } } }
	if = { limit = { 266 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 266 = { OWNER = { add_to_variable = { global.coal_deposit_level_266 = 126 } } } }
	if = { limit = { 260 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 260 = { OWNER = { add_to_variable = { global.coal_deposit_level_260 = 618 } } } }
	if = { limit = { 219 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 219 = { OWNER = { add_to_variable = { global.coal_deposit_level_219 = 793 } } } }
	if = { limit = { 155 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 155 = { OWNER = { add_to_variable = { global.coal_deposit_level_155 = 1015 } } } }
	if = { limit = { 293 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 293 = { OWNER = { add_to_variable = { global.coal_deposit_level_293 = 34 } } } }
	if = { limit = { 992 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 992 = { OWNER = { add_to_variable = { global.coal_deposit_level_992 = 239 } } } }
	if = { limit = { 434 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 434 = { OWNER = { add_to_variable = { global.coal_deposit_level_434 = 591 } } } }
	if = { limit = { 453 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 453 = { OWNER = { add_to_variable = { global.coal_deposit_level_453 = 161 } } } }
	if = { limit = { 460 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 460 = { OWNER = { add_to_variable = { global.coal_deposit_level_460 = 96 } } } }
	if = { limit = { 464 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 464 = { OWNER = { add_to_variable = { global.coal_deposit_level_464 = 669 } } } }
	if = { limit = { 474 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 474 = { OWNER = { add_to_variable = { global.coal_deposit_level_474 = 64 } } } }
	if = { limit = { 475 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 475 = { OWNER = { add_to_variable = { global.coal_deposit_level_475 = 66 } } } }
	if = { limit = { 479 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 479 = { OWNER = { add_to_variable = { global.coal_deposit_level_479 = 532 } } } }
	if = { limit = { 481 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 481 = { OWNER = { add_to_variable = { global.coal_deposit_level_481 = 615 } } } }
	if = { limit = { 486 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 486 = { OWNER = { add_to_variable = { global.coal_deposit_level_486 = 23 } } } }
	if = { limit = { 496 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 496 = { OWNER = { add_to_variable = { global.coal_deposit_level_496 = 1572 } } } }
	if = { limit = { 501 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 501 = { OWNER = { add_to_variable = { global.coal_deposit_level_501 = 79 } } } }
	if = { limit = { 510 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 510 = { OWNER = { add_to_variable = { global.coal_deposit_level_510 = 196 } } } }
	if = { limit = { 589 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 589 = { OWNER = { add_to_variable = { global.coal_deposit_level_589 = 130 } } } }
	if = { limit = { 732 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 732 = { OWNER = { add_to_variable = { global.coal_deposit_level_732 = 93 } } } }
	if = { limit = { 763 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 763 = { OWNER = { add_to_variable = { global.coal_deposit_level_763 = 181 } } } }
	if = { limit = { 767 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 767 = { OWNER = { add_to_variable = { global.coal_deposit_level_767 = 2059 } } } }
	if = { limit = { 768 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 768 = { OWNER = { add_to_variable = { global.coal_deposit_level_768 = 124 } } } }
	if = { limit = { 782 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 782 = { OWNER = { add_to_variable = { global.coal_deposit_level_782 = 685 } } } }
	if = { limit = { 791 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 791 = { OWNER = { add_to_variable = { global.coal_deposit_level_791 = 329 } } } }
	if = { limit = { 798 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 798 = { OWNER = { add_to_variable = { global.coal_deposit_level_798 = 1172 } } } }
	if = { limit = { 925 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 925 = { OWNER = { add_to_variable = { global.coal_deposit_level_925 = 1668 } } } }
	if = { limit = { 726 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 726 = { OWNER = { add_to_variable = { global.coal_deposit_level_726 = 335 } } } }
	if = { limit = { 727 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_1 } } } 727 = { OWNER = { add_to_variable = { global.coal_deposit_level_727 = 3711 } } } }
}

coal_deposit_level_2 = {
	if = { limit = { 1095 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 1095 = { OWNER = { add_to_variable = { global.coal_deposit_level_1095 = 16813 } } } }
	if = { limit = { 349 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 349 = { OWNER = { add_to_variable = { global.coal_deposit_level_349 = 17238 } } } }
	if = { limit = { 322 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 322 = { OWNER = { add_to_variable = { global.coal_deposit_level_322 = 11286 } } } }
	if = { limit = { 304 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 304 = { OWNER = { add_to_variable = { global.coal_deposit_level_304 = 9139 } } } }
	if = { limit = { 355 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 355 = { OWNER = { add_to_variable = { global.coal_deposit_level_355 = 1923 } } } }
	if = { limit = { 466 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 466 = { OWNER = { add_to_variable = { global.coal_deposit_level_466 = 746 } } } }
	if = { limit = { 470 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 470 = { OWNER = { add_to_variable = { global.coal_deposit_level_470 = 1117 } } } }
	if = { limit = { 471 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 471 = { OWNER = { add_to_variable = { global.coal_deposit_level_471 = 922 } } } }
	if = { limit = { 476 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 476 = { OWNER = { add_to_variable = { global.coal_deposit_level_476 = 1078 } } } }
	if = { limit = { 487 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 487 = { OWNER = { add_to_variable = { global.coal_deposit_level_487 = 1986 } } } }
	if = { limit = { 490 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 490 = { OWNER = { add_to_variable = { global.coal_deposit_level_490 = 6669 } } } }
	if = { limit = { 493 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 493 = { OWNER = { add_to_variable = { global.coal_deposit_level_493 = 4199 } } } }
	if = { limit = { 500 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 500 = { OWNER = { add_to_variable = { global.coal_deposit_level_500 = 3393 } } } }
	if = { limit = { 502 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 502 = { OWNER = { add_to_variable = { global.coal_deposit_level_502 = 3849 } } } }
	if = { limit = { 504 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 504 = { OWNER = { add_to_variable = { global.coal_deposit_level_504 = 4110 } } } }
	if = { limit = { 511 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 511 = { OWNER = { add_to_variable = { global.coal_deposit_level_511 = 2071 } } } }
	if = { limit = { 513 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 513 = { OWNER = { add_to_variable = { global.coal_deposit_level_513 = 14178 } } } }
	if = { limit = { 516 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 516 = { OWNER = { add_to_variable = { global.coal_deposit_level_516 = 3120 } } } }
	if = { limit = { 521 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 521 = { OWNER = { add_to_variable = { global.coal_deposit_level_521 = 823 } } } }
	if = { limit = { 590 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 590 = { OWNER = { add_to_variable = { global.coal_deposit_level_590 = 1578 } } } }
	if = { limit = { 593 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 593 = { OWNER = { add_to_variable = { global.coal_deposit_level_593 = 6682 } } } }
	if = { limit = { 734 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 734 = { OWNER = { add_to_variable = { global.coal_deposit_level_734 = 935 } } } }
	if = { limit = { 761 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 761 = { OWNER = { add_to_variable = { global.coal_deposit_level_761 = 2447 } } } }
	if = { limit = { 762 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 762 = { OWNER = { add_to_variable = { global.coal_deposit_level_762 = 446 } } } }
	if = { limit = { 764 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 764 = { OWNER = { add_to_variable = { global.coal_deposit_level_764 = 341 } } } }
	if = { limit = { 766 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 766 = { OWNER = { add_to_variable = { global.coal_deposit_level_766 = 2540 } } } }
	if = { limit = { 786 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 786 = { OWNER = { add_to_variable = { global.coal_deposit_level_786 = 3218 } } } }
	if = { limit = { 787 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 787 = { OWNER = { add_to_variable = { global.coal_deposit_level_787 = 23532 } } } }
	if = { limit = { 788 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 788 = { OWNER = { add_to_variable = { global.coal_deposit_level_788 = 2984 } } } }
	if = { limit = { 789 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 789 = { OWNER = { add_to_variable = { global.coal_deposit_level_789 = 7524 } } } }
	if = { limit = { 790 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 790 = { OWNER = { add_to_variable = { global.coal_deposit_level_790 = 991 } } } }
	if = { limit = { 794 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 794 = { OWNER = { add_to_variable = { global.coal_deposit_level_794 = 2354 } } } }
	if = { limit = { 928 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 928 = { OWNER = { add_to_variable = { global.coal_deposit_level_928 = 4261 } } } }
	if = { limit = { 253 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 253 = { OWNER = { add_to_variable = { global.coal_deposit_level_253 = 8504 } } } }
	if = { limit = { 292 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 292 = { OWNER = { add_to_variable = { global.coal_deposit_level_292 = 9944 } } } }
	if = { limit = { 912 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 912 = { OWNER = { add_to_variable = { global.coal_deposit_level_912 = 104 } } } }
	if = { limit = { 697 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 697 = { OWNER = { add_to_variable = { global.coal_deposit_level_697 = 7477 } } } }
	if = { limit = { 320 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 320 = { OWNER = { add_to_variable = { global.coal_deposit_level_320 = 2325 } } } }
	if = { limit = { 687 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 687 = { OWNER = { add_to_variable = { global.coal_deposit_level_687 = 2095 } } } }
	if = { limit = { 989 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 989 = { OWNER = { add_to_variable = { global.coal_deposit_level_989 = 3567 } } } }
	if = { limit = { 991 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 991 = { OWNER = { add_to_variable = { global.coal_deposit_level_991 = 4219 } } } }
	if = { limit = { 267 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 267 = { OWNER = { add_to_variable = { global.coal_deposit_level_267 = 2689 } } } }
	if = { limit = { 356 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 356 = { OWNER = { add_to_variable = { global.coal_deposit_level_356 = 83 } } } }
	if = { limit = { 266 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 266 = { OWNER = { add_to_variable = { global.coal_deposit_level_266 = 8 } } } }
	if = { limit = { 260 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 260 = { OWNER = { add_to_variable = { global.coal_deposit_level_260 = 95 } } } }
	if = { limit = { 219 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 219 = { OWNER = { add_to_variable = { global.coal_deposit_level_219 = 9 } } } }
	if = { limit = { 155 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 155 = { OWNER = { add_to_variable = { global.coal_deposit_level_155 = 267 } } } }
	if = { limit = { 681 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 681 = { OWNER = { add_to_variable = { global.coal_deposit_level_681 = 210 } } } }
	if = { limit = { 293 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 293 = { OWNER = { add_to_variable = { global.coal_deposit_level_293 = 1616 } } } }
	if = { limit = { 703 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 703 = { OWNER = { add_to_variable = { global.coal_deposit_level_703 = 269 } } } }
	if = { limit = { 852 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 852 = { OWNER = { add_to_variable = { global.coal_deposit_level_852 = 254 } } } }
	if = { limit = { 434 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 434 = { OWNER = { add_to_variable = { global.coal_deposit_level_434 = 545 } } } }
	if = { limit = { 453 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 453 = { OWNER = { add_to_variable = { global.coal_deposit_level_453 = 30 } } } }
	if = { limit = { 460 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 460 = { OWNER = { add_to_variable = { global.coal_deposit_level_460 = 43 } } } }
	if = { limit = { 464 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 464 = { OWNER = { add_to_variable = { global.coal_deposit_level_464 = 154 } } } }
	if = { limit = { 474 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 474 = { OWNER = { add_to_variable = { global.coal_deposit_level_474 = 44 } } } }
	if = { limit = { 475 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 475 = { OWNER = { add_to_variable = { global.coal_deposit_level_475 = 272 } } } }
	if = { limit = { 479 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 479 = { OWNER = { add_to_variable = { global.coal_deposit_level_479 = 63 } } } }
	if = { limit = { 481 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 481 = { OWNER = { add_to_variable = { global.coal_deposit_level_481 = 139 } } } }
	if = { limit = { 486 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 486 = { OWNER = { add_to_variable = { global.coal_deposit_level_486 = 2 } } } }
	if = { limit = { 496 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 496 = { OWNER = { add_to_variable = { global.coal_deposit_level_496 = 2402 } } } }
	if = { limit = { 501 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 501 = { OWNER = { add_to_variable = { global.coal_deposit_level_501 = 1534 } } } }
	if = { limit = { 510 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 510 = { OWNER = { add_to_variable = { global.coal_deposit_level_510 = 253 } } } }
	if = { limit = { 589 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 589 = { OWNER = { add_to_variable = { global.coal_deposit_level_589 = 162 } } } }
	if = { limit = { 598 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 598 = { OWNER = { add_to_variable = { global.coal_deposit_level_598 = 322 } } } }
	if = { limit = { 732 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 732 = { OWNER = { add_to_variable = { global.coal_deposit_level_732 = 130 } } } }
	if = { limit = { 763 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 763 = { OWNER = { add_to_variable = { global.coal_deposit_level_763 = 123 } } } }
	if = { limit = { 767 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 767 = { OWNER = { add_to_variable = { global.coal_deposit_level_767 = 755 } } } }
	if = { limit = { 768 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 768 = { OWNER = { add_to_variable = { global.coal_deposit_level_768 = 222 } } } }
	if = { limit = { 782 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 782 = { OWNER = { add_to_variable = { global.coal_deposit_level_782 = 247 } } } }
	if = { limit = { 784 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 784 = { OWNER = { add_to_variable = { global.coal_deposit_level_784 = 542 } } } }
	if = { limit = { 791 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 791 = { OWNER = { add_to_variable = { global.coal_deposit_level_791 = 340 } } } }
	if = { limit = { 798 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 798 = { OWNER = { add_to_variable = { global.coal_deposit_level_798 = 288 } } } }
	if = { limit = { 800 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 800 = { OWNER = { add_to_variable = { global.coal_deposit_level_800 = 1542 } } } }
	if = { limit = { 925 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 925 = { OWNER = { add_to_variable = { global.coal_deposit_level_925 = 1609 } } } }
	if = { limit = { 927 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 927 = { OWNER = { add_to_variable = { global.coal_deposit_level_927 = 3313 } } } }
	if = { limit = { 726 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 726 = { OWNER = { add_to_variable = { global.coal_deposit_level_726 = 667 } } } }
	if = { limit = { 727 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_2 } } } 727 = { OWNER = { add_to_variable = { global.coal_deposit_level_727 = 383 } } } }
}

coal_deposit_level_3 = {
	if = { limit = { 1095 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 1095 = { OWNER = { add_to_variable = { global.coal_deposit_level_1095 = 381 } } } }
	if = { limit = { 1039 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 1039 = { OWNER = { add_to_variable = { global.coal_deposit_level_1039 = 1527 }} } }
	if = { limit = { 500 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 500 = { OWNER = { add_to_variable = { global.coal_deposit_level_500 = 534 } } } }
	if = { limit = { 502 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 502 = { OWNER = { add_to_variable = { global.coal_deposit_level_502 = 549 } } } }
	if = { limit = { 504 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 504 = { OWNER = { add_to_variable = { global.coal_deposit_level_504 = 900 } } } }
	if = { limit = { 593 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 593 = { OWNER = { add_to_variable = { global.coal_deposit_level_593 = 488 } } } }
	if = { limit = { 734 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 734 = { OWNER = { add_to_variable = { global.coal_deposit_level_734 = 142 } } } }
	if = { limit = { 786 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 786 = { OWNER = { add_to_variable = { global.coal_deposit_level_786 = 540 } } } }
	if = { limit = { 788 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 788 = { OWNER = { add_to_variable = { global.coal_deposit_level_788 = 141 } } } }
	if = { limit = { 794 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 794 = { OWNER = { add_to_variable = { global.coal_deposit_level_794 = 452 } } } }
	if = { limit = { 193 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 193 = { OWNER = { add_to_variable = { global.coal_deposit_level_193 = 2238 } } } }
	if = { limit = { 267 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 267 = { OWNER = { add_to_variable = { global.coal_deposit_level_267 = 6056 } } } }
	if = { limit = { 356 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 356 = { OWNER = { add_to_variable = { global.coal_deposit_level_356 = 1035 } } } }
	if = { limit = { 361 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 361 = { OWNER = { add_to_variable = { global.coal_deposit_level_361 = 248 } } } }
	if = { limit = { 352 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 352 = { OWNER = { add_to_variable = { global.coal_deposit_level_352 = 149 } } } }
	if = { limit = { 297 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 297 = { OWNER = { add_to_variable = { global.coal_deposit_level_297 = 1021 } } } }
	if = { limit = { 200 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 200 = { OWNER = { add_to_variable = { global.coal_deposit_level_200 = 129 } } } }
	if = { limit = { 136 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 136 = { OWNER = { add_to_variable = { global.coal_deposit_level_136 = 735 } } } }
	if = { limit = { 501 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 501 = { OWNER = { add_to_variable = { global.coal_deposit_level_501 = 20 } } } }
	if = { limit = { 800 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 800 = { OWNER = { add_to_variable = { global.coal_deposit_level_800 = 1200 } } } }
	if = { limit = { 585 = { is_owned_and_controlled_by = ROOT NOT = { has_state_flag = coal_deposit_unlock_3 } } } 585 = { OWNER = { add_to_variable = { global.coal_deposit_level_585 = 888 } } } }
}


recalculate_deposit_levels = {
	for_loop_effect = {
	end = 3
	start = 1
	value = temp
	if = {
		limit = { 
			ROOT = {
				has_tech = basic_coalstuff
				NOT = { has_tech = improved_coalstuff }
				NOT = { has_tech = advanced_coalstuff }
			 }
		}
	every_state = {
		limit = {
			is_owned_and_controlled_by = ROOT
			has_state_flag = coal_deposit_found
			NOT = { has_state_flag = coal_deposit_unlock_1 }
		}
		coal_deposit_level_1 = yes
		set_state_flag = coal_deposit_unlock_1
		force_update_dynamic_modifier = yes
	}
	}
	else_if = {
		limit = {
			ROOT = {
				has_tech = basic_coalstuff
				has_tech = improved_coalstuff
				NOT = { has_tech = advanced_coalstuff }
			 }
		 }
		every_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
				has_state_flag = coal_deposit_unlock_1
				NOT = { has_state_flag = coal_deposit_unlock_2 }
			}
			coal_deposit_level_2 = yes
			set_state_flag = coal_deposit_unlock_2
			force_update_dynamic_modifier = yes
		}		 
	}
	else_if = {
		limit = {
			ROOT = {
				has_tech = basic_coalstuff
				has_tech = improved_coalstuff
				has_tech = advanced_coalstuff
			 }
		 }
		every_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
				has_state_flag = coal_deposit_unlock_2
				NOT = { has_state_flag = coal_deposit_unlock_3 }
			}
			coal_deposit_level_3 = yes
			set_state_flag = coal_deposit_unlock_3
			force_update_dynamic_modifier = yes
		}		 
	}
	}	
}

lower_the_rations = {
	if = {
		limit = {
			has_idea = diet_full_calories
		}
		add_ideas = diet_no_limits
	}
	else_if = {
		limit = {
			has_idea = diet_no_limits
		}
		add_ideas = diet_rationing
	}
	else_if = {
		limit = {
			has_idea = diet_rationing
		}
		add_ideas = diet_hunger
	}
	else_if = {
		limit = {
			has_idea = diet_hunger
		}
		add_ideas = diet_holodomor
	}
	calculate_used_food = yes
}



calculate_food_balance = {
	calculate_used_food = yes
	set_variable = { current_food_balance = 0 }
	add_to_variable = { current_food_balance = resource@food }
}


calculate_used_food = {
	set_variable = { used_food = max_manpower_k	}
	divide_variable = { used_food = 10 }
	if = {
		limit = {
			OR = {
			has_idea = diet_hunger
			has_idea = diet_holodomor
			}
		}
		set_variable = { used_food_modifier = 0.25 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	if = {
		limit = {
			has_idea = diet_rationing
		}
		set_variable = { used_food_modifier = 0.5 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	if = {
		limit = {
			has_idea = diet_no_limits
		}
		set_variable = { used_food_modifier = 1 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	if = {
		limit = {
			has_idea = diet_full_calories
		}
		set_variable = { used_food_modifier = 1.5 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	if = {
		limit = {
			has_idea = diet_meat
		}
		set_variable = { used_food_modifier = 1.25 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	if = {
		limit = {
			has_idea = diet_vegetarian
		}
		set_variable = { used_food_modifier = 0.8 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}	
	if = {
		limit = {
			has_idea = diet_vegan
		}
		set_variable = { used_food_modifier = 0.8 }
		multiply_variable = {
			used_food = used_food_modifier
		}
	}
	round_variable = used_food	
	add_dynamic_modifier = {
		modifier = food_consumed_modifier
	}
}

calculate_food_effects = {
	if = {
		limit = {
			check_variable = { current_food_balance < 0 }
			OR = {
				has_idea = diet_full_calories
				has_idea = diet_no_limits
				has_idea = diet_rationing
				has_idea = diet_hunger
			}
		}
		lower_the_rations = yes
		calculate_used_food = yes
	}
}