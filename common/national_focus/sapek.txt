### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = sapek_intro_focus
	
	country = {
		factor = 0
		
		modifier = {
			add =10
			tag = SAP
		}
	}
	default = no
	
	continuous_focus_position = {x = 50 y = 1500 }
	
	focus = {
		id = SAP_the_last_wish
		icon = SAP_the_last_wish
		available = {
		
		}
		
		bypass = {
		}
		
		x = 8
		y = 0
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.1
				days = 1 
			}
			hidden_effect = { 
				set_variable = {
					var = sapek_sanity
					value = 1
				}
				set_variable = {
					var = sapek_insanity
					value = 1
				}				
			}
		}
	}
	
	focus = {
		id = SAP_herolds_and_counts
		icon = SAP_herolds_and_counts
		relative_position_id = SAP_the_last_wish
		prerequisite = { focus = SAP_the_last_wish }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.2
				days = 1 
			}
			add_stability = 0.1
		}
	}
	
	focus = {
		id = SAP_temerian_dream_shattered
		icon = SAP_temerian_dream_shattered
		relative_position_id = SAP_herolds_and_counts
		prerequisite = { focus = SAP_herolds_and_counts }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.3
				days = 1 
			}
			add_war_support = 0.1			
			hidden_effect = {
			country_event = {
				id = sapek.4
				days = 7 
			}
			}
			custom_effect_tooltip = SAP_wilcy_tooltip
		}
	}
	
	focus = {
		id = SAP_attack_on_kaer_nevitz
		icon = SAP_attack_on_kaer_nevitz
		relative_position_id = SAP_temerian_dream_shattered
		prerequisite = { focus = SAP_temerian_dream_shattered }
		available = {
			hidden_trigger = {
				has_country_flag = kaer_nevitz_attack
				}
		}
		
		bypass = {
		}
		
		x = 0
		y = 2
		
		cost = 0.2
		search_filters = {}
		completion_reward = {
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 10
				}
				clr_country_flag = kaer_nevitz_attack
			}
			custom_effect_tooltip = SAP_insanity_tooltip
			add_stability = -0.2
			add_war_support = 0.2
			add_political_power = -100
			damage_units = {
				state = 269
				org_damage = 0.6
				str_damage = 0.3
				ratio = yes
				army = yes
			}
		}
	}

	focus = {
		id = SAP_put_out_fires
		icon = SAP_put_out_fires
		relative_position_id = SAP_attack_on_kaer_nevitz
		prerequisite = { focus = SAP_attack_on_kaer_nevitz }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.5
			}
			add_timed_idea = {
				idea = SAP_ravaged_country
				days = 120
			}
		}
	}
	
	focus = {
		id = SAP_status_report
		icon = SAP_status_report
		relative_position_id = SAP_attack_on_kaer_nevitz
		prerequisite = { focus = SAP_attack_on_kaer_nevitz }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 1
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.6
			}
			set_equipment_fraction = 0.9
			269 = {
				damage_building = {
					type = infrastructure
					damage = 2
				}
			}
			272 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			682 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			269 = {
				damage_building = {
					type = industrial_complex
					damage = 1
				}
			}
		}
	}
	
	focus = {
		id = SAP_issue_manhunt
		icon = SAP_issue_manhunt
		relative_position_id = SAP_put_out_fires
		prerequisite = { focus = SAP_put_out_fires }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			add_command_power = 20
			add_political_power = 50
		}
	}
	
	focus = {
		id = SAP_trail_vanishes
		icon = SAP_trail_vanishes
		relative_position_id = SAP_issue_manhunt
		prerequisite = { focus = SAP_issue_manhunt }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			add_stability = -0.1
			add_war_support = 0.1
			country_event = {
				id = sapek.7
			}
		}
	}
	
	focus = {
		id = SAP_refilling_supplies
		icon = SAP_refilling_supplies
		relative_position_id = SAP_status_report
		prerequisite = { focus = SAP_status_report }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			add_equipment_to_stockpile = {
				type = ranged_equipment_1
				amount = 300
				producer = WML
			}
			add_equipment_to_stockpile = {
				type = melee_equipment_0
				amount = 300
				producer = WML
			}
			add_fuel = 5000
			add_war_support = -0.2
		}
	}
	
	focus = {
		id = SAP_convene_chapter
		icon = SAP_convene_chapter
		relative_position_id = SAP_refilling_supplies
		prerequisite = { focus = SAP_refilling_supplies }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			add_political_power = 100
			country_event = {
				id = sapek.14
				}
		}
	}
	
	focus = {
		id = SAP_who_is_to_blame
		icon = SAP_who_is_to_blame
		relative_position_id = SAP_attack_on_kaer_nevitz
		prerequisite = { focus = SAP_trail_vanishes }
		prerequisite = { focus = SAP_convene_chapter }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 4
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.15
				days = 1
				}
			country_event = {
				id = sapek.16
				days = 2
				}
		}
	}
	
	focus = {
		id = SAP_blame_scoiatael
		icon = SAP_blame_scoiatael
		relative_position_id = SAP_who_is_to_blame
		prerequisite = { focus = SAP_who_is_to_blame }
		mutually_exclusive = { focus = SAP_blame_order }
		available = {
			hidden_trigger = {
			has_country_flag = SAP_sapek_oskarzyciel
			}
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			clr_country_flag = SAP_sapek_oskarzyciel
			custom_effect_tooltip = SAP_insanity_tooltip
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 10
				}
			}
			if = { 
				limit = { NOT = {
							OR = {
								has_idea = SAP_army_of_wiewiorki_2
								has_idea = SAP_army_of_wiewiorki }}}
					add_ideas = SAP_wkurwione_wiewiory
					}			
			else_if = { 
				limit = { has_idea = SAP_army_of_wiewiorki }
					remove_ideas = SAP_army_of_wiewiorki
					}
			else_if = { 
				limit = { has_idea = SAP_army_of_wiewiorki_2 }
					remove_ideas = SAP_army_of_wiewiorki_2
					}
		}
	}
	
	focus = {
		id = SAP_blame_order
		icon = SAP_blame_order
		relative_position_id = SAP_who_is_to_blame
		prerequisite = { focus = SAP_who_is_to_blame }
		mutually_exclusive = { focus = SAP_blame_scoiatael }
		available = {
			hidden_trigger = {
			has_country_flag = SAP_sapek_oskarzyciel
			}		
		}
		
		bypass = {
		}
		
		x = 1
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			clr_country_flag = SAP_sapek_oskarzyciel	
			custom_effect_tooltip = SAP_sanity_tooltip
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 10
				}
			}
			if = { 
				limit = { NOT = {
							OR = {
								has_idea = SAP_army_of_bartyzel_2
								has_idea = SAP_army_of_bartyzel }}}
					add_ideas = SAP_wkurwiony_zakon
					}				
			else_if = { 
				limit = { has_idea = SAP_army_of_bartyzel }
					remove_ideas = SAP_army_of_bartyzel
					}
			else_if = { 
				limit = { has_idea = SAP_army_of_bartyzel_2 }
					remove_ideas = SAP_army_of_bartyzel_2
					}
		}
	}
	
	focus = {
		id = SAP_blame_neighbours
		icon = SAP_blame_neighbours
		relative_position_id = SAP_who_is_to_blame
		prerequisite = { focus = SAP_blame_scoiatael
						 focus =  SAP_blame_order }
		prerequisite = { focus = SAP_ducal_mint }
		prerequisite = { focus = SAP_of_monsters_and_men }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 2
		
		cost = 2
		search_filters = {}
		completion_reward = {
			add_war_support = 0.15
			add_decryption = {
				target = KRS
				ratio = 0.5
			}
		}
	}
	
	focus = {
		id = SAP_envoy_to_krosniewice
		icon = SAP_envoy_to_krosniewice
		relative_position_id = SAP_blame_neighbours
		prerequisite = { focus = SAP_blame_neighbours }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
			
		completion_reward = {
			country_event = {
				id = sapek.17
				}
			hidden_effect = {
				load_focus_tree = sapek_war_focus
			}
		}
	}
	
	focus = {
		id = SAP_toss_a_coin
		icon = SAP_toss_a_coin
		relative_position_id = SAP_temerian_dream_shattered
		prerequisite = { focus = SAP_temerian_dream_shattered }
		available = {
		has_completed_focus = SAP_convene_chapter 
		}
		
		bypass = {
		}
		
		x = -7
		y = 2
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.8
				}
		}
	}
	
	focus = {
		id = SAP_to_your_prince
		icon = SAP_to_your_prince
		relative_position_id = SAP_toss_a_coin
		prerequisite = { focus = SAP_toss_a_coin }
		mutually_exclusive = { focus = SAP_to_your_witcher }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = economy_primal_economy			
				add_idea = economy_feudalism
				}
		}
	}
	
	focus = {
		id = SAP_land_for_the_feudals
		icon = SAP_land_for_the_feudals
		relative_position_id = SAP_to_your_prince
		prerequisite = { focus = SAP_to_your_prince }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = SAP_ravaged_country
				add_idea = SAP_ravaged_country_2
				}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_stronghold_for_order
		icon = SAP_stronghold_for_order
		relative_position_id = SAP_land_for_the_feudals
		prerequisite = { focus = SAP_land_for_the_feudals }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.9
				}
		}
	}
	
	focus = {
		id = SAP_crack_down_on_merchant_unions
		icon = SAP_crack_down_on_merchant_unions
		relative_position_id = SAP_land_for_the_feudals
		prerequisite = { focus = SAP_land_for_the_feudals }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
		swap_ideas = {
				remove_idea = trade_regulated			
				add_idea = trade_minimal
				}
		swap_ideas = {
				remove_idea = SAP_feudal_extortion			
				add_idea = SAP_feudal_extortion_2
				}
		add_equipment_to_stockpile = {
				type = melee_equipment_1
				amount = 500
				producer = SAP
			}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_production_control
		icon = SAP_production_control
		relative_position_id = SAP_crack_down_on_merchant_unions
		prerequisite = { focus = SAP_crack_down_on_merchant_unions }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			if = {
				limit = { has_idea = SAP_order_priviliges_2_alt }
					swap_ideas = {
						remove_idea = SAP_order_priviliges_2_alt
						add_idea = SAP_order_priviliges_2
						}
			}
			else = {
				add_ideas = SAP_order_priviliges
				}
		}
	}

	focus = {
		id = SAP_status_dependent_taxes
		icon = SAP_status_dependent_taxes
		relative_position_id = SAP_crack_down_on_merchant_unions
		prerequisite = { focus = SAP_crack_down_on_merchant_unions }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = taxes_high
				add_idea = taxes_low
				}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_exemption_from_taxes
		icon = SAP_exemption_from_taxes
		relative_position_id = SAP_status_dependent_taxes
		prerequisite = { focus = SAP_status_dependent_taxes }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			if = {
				limit = { has_idea = SAP_order_priviliges }
					swap_ideas = {
						remove_idea = SAP_order_priviliges
						add_idea = SAP_order_priviliges_2
						}
			}
			else = {
				add_ideas = SAP_order_priviliges_2_alt
				}
		}
	}
	
	focus = {
		id = SAP_ducal_mint
		icon = SAP_ducal_mint
		relative_position_id = SAP_toss_a_coin
		prerequisite = { focus = SAP_status_dependent_taxes 
						 focus = SAP_equal_taxes }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 5
		
		cost = 3
		search_filters = {}
		completion_reward = {
			add_ideas = SAP_ducal_mint_idea
			269 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			}
		}
	}
	
	focus = {
		id = SAP_to_your_witcher
		icon = SAP_to_your_witcher
		relative_position_id = SAP_toss_a_coin
		prerequisite = { focus = SAP_toss_a_coin }
		mutually_exclusive = { focus = SAP_to_your_prince }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 1
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = economy_primal_economy			
				add_idea = economy_feudalism
				}
		}
	}
	
	focus = {
		id = SAP_fair_right_to_land
		icon = SAP_fair_right_to_land
		relative_position_id = SAP_to_your_witcher
		prerequisite = { focus = SAP_to_your_witcher }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
			}
				269 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_land_for_princely_warriors
		icon = SAP_land_for_princely_warriors
		relative_position_id = SAP_fair_right_to_land
		prerequisite = { focus = SAP_fair_right_to_land }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek.10
				}
		}
	}
	
	focus = {
		id = SAP_free_enterprise
		icon = SAP_free_enterprise
		relative_position_id = SAP_fair_right_to_land
		prerequisite = { focus = SAP_fair_right_to_land }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = trade_regulated			
				add_idea = trade_free
				}
			swap_ideas = {
				remove_idea = SAP_syndicate_coin		
				add_idea = SAP_syndicate_coin_2
				}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_free_hand_for_guilds
		icon = SAP_free_hand_for_guilds
		relative_position_id = SAP_free_enterprise
		prerequisite = { focus = SAP_free_enterprise }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			if = {
				limit = { has_idea = SAP_syndicate_priviliges_2_alt }
					swap_ideas = {
						remove_idea = SAP_syndicate_priviliges_2_alt
						add_idea = SAP_syndicate_priviliges_2
						}
			}
			else = {
				add_ideas = SAP_syndicate_priviliges
				}
		}
	}
	
	focus = {
		id = SAP_equal_taxes
		icon = SAP_equal_taxes
		relative_position_id = SAP_free_enterprise
		prerequisite = { focus = SAP_free_enterprise }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = taxes_high
				add_idea = taxes_medium
				}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_priviliges_for_peasants
		icon = SAP_priviliges_for_peasants
		relative_position_id = SAP_equal_taxes
		prerequisite = { focus = SAP_equal_taxes }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 2
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			if = {
				limit = { has_idea = SAP_syndicate_priviliges }
					swap_ideas = {
						remove_idea = SAP_syndicate_priviliges
						add_idea = SAP_syndicate_priviliges_2
						}
			}
			else = {
				add_ideas = SAP_syndicate_priviliges_2_alt
				}
		}
	}
	
	focus = {
		id = SAP_poor_fucking_infantry
		icon = SAP_poor_fucking_infantry
		relative_position_id = SAP_temerian_dream_shattered
		prerequisite = { focus = SAP_temerian_dream_shattered }
		available = {
		has_completed_focus = SAP_trail_vanishes
		}
		
		bypass = {
		}
		
		x = 7
		y = 2
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = { 
				id = sapek.11
				}
		}
	}
	
	focus = {
		id = SAP_temeria_finest
		icon = SAP_temeria_finest
		relative_position_id = SAP_poor_fucking_infantry
		prerequisite = { focus = SAP_poor_fucking_infantry }
		mutually_exclusive = { focus = SAP_scoiatael_legions }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -3
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			add_field_marshal_role = {
				character = SAP_jacek_bartyzel
					skill = 2
					attack_skill = 4
					defense_skill = 2
					planning_skill = 4
					logistics_skill = 2
				}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_honor
			}
			269 = {
			create_unit = {
				division = "name = \"2 Batalion 'Obrońcy Lebiody'\" division_template = \"Batalion Książęcy\" start_experience_factor = 1 start_equipment_factor = 1"
				owner = SAP
			}
			}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 10
				}
			}
		}
	}
	
	focus = {
		id = SAP_army_of_faithful
		icon = SAP_army_of_faithful
		relative_position_id = SAP_temeria_finest
		prerequisite = { focus = SAP_temeria_finest }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = SAP_biedna_pierdolona_piechota
				add_idea = SAP_army_of_bartyzel
			}
			swap_ideas = {
				remove_idea = improvised_security
				add_idea = advanced_security
			}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_order_of_white_rose
		icon = SAP_order_of_white_rose
		relative_position_id = SAP_army_of_faithful
		prerequisite = { focus = SAP_army_of_faithful }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = officer_random
				add_idea = officer_clerks
			}
			division_template = {
				name = "Zakon Białej Róży"
				priority = 2
				template_counter = 48
				regiments = {
					elite_infantry = { x = 0 y = 0 }
					elite_infantry = { x = 0 y = 1 }
					elite_infantry = { x = 0 y = 2 }
				}
			}
			269 = {
				create_unit = {
					division = "name = \"1 Chorągiew Zakonna Wielkiego Mistrza'\" division_template = \"Zakon Białej Róży\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = SAP
				}
				create_unit = {
					division = "name = \"2 Chorągiew Zakonna 'Wieczny Ogień'\" division_template = \"Zakon Białej Róży\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = SAP
				}			
			}
			custom_effect_tooltip = SAP_insanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_insanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_scoiatael_legions
		icon = SAP_scoiatael_legions
		relative_position_id = SAP_poor_fucking_infantry
		prerequisite = { focus = SAP_poor_fucking_infantry }
		mutually_exclusive = { focus = SAP_temeria_finest }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			add_corps_commander_role = {
				character = SAP_pazura
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_partisan
			}
			272 = {
			create_unit = {
				division = "name = \"Komando 'Lwi Pazur'\" division_template = \"Komando Scoia'tael\" start_experience_factor = 1 start_equipment_factor = 1"
				owner = SAP
			}
			create_unit = {
				division = "name = \"Komando 'Rój'\" division_template = \"Komando Scoia'tael\" start_experience_factor = 1 start_equipment_factor = 1"
				owner = SAP
			}
			}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 10
				}
			}
		}
	}
	
	focus = {
		id = SAP_commando_of_oppressed
		icon = SAP_commando_of_oppressed
		relative_position_id = SAP_scoiatael_legions
		prerequisite = { focus = SAP_scoiatael_legions }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			swap_ideas = {
				remove_idea = SAP_biedna_pierdolona_piechota
				add_idea = SAP_army_of_wiewiorki
			}
			swap_ideas = {
				remove_idea = improvised_security
				add_idea = basic_security
			}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 5
				}
			}
		}
	}
	
	focus = {
		id = SAP_vrihedd_brigade
		icon = SAP_vrihedd_brigade
		relative_position_id = SAP_commando_of_oppressed
		prerequisite = { focus = SAP_commando_of_oppressed }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {	
			swap_ideas = {
				remove_idea = training_battle
				add_idea = training_basic
			}
			division_template = {
				name = "Brygada Vrihedd"
				priority = 2
				template_counter = 4
				regiments = {
					cavalry = { x = 0 y = 0 }
					cavalry = { x = 0 y = 1 }
					cavalry = { x = 0 y = 2 }
					cavalry = { x = 0 y = 3 }
				}
			}
			269 = {
				create_unit = {
					division = "name = \"1 Szwadron Brygady Vrihedd 'Vhóelblaen'\" division_template = \"Brygada Vrihedd\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = SAP
				}
				create_unit = {
					division = "name = \"2 Szwadron Brygady Vrihedd 'Feainnewedd'\" division_template = \"Brygada Vrihedd\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = SAP
				}			
			}
			custom_effect_tooltip = SAP_sanity_tooltip			
			hidden_effect = {
				add_to_variable = {
					var = sapek_sanity
					value = 5
				}
			}		
		}
	}
	
	focus = {
		id = SAP_establish_order_of_witchers
		icon = SAP_establish_order_of_witchers
		relative_position_id = SAP_poor_fucking_infantry
		prerequisite = { focus = SAP_poor_fucking_infantry }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 3
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			add_corps_commander_role = {
				character = SAP_zebrowski
				skill = 2
				attack_skill = 3
				defense_skill = 3
				planning_skill = 1
				logistics_skill = 1
			}
			country_event = {
				id = sapek_wiedzmin.1 
				}
		}
	}
	
	focus = {
		id = SAP_question_of_origin
		icon = SAP_question_of_origin
		relative_position_id = SAP_establish_order_of_witchers
		prerequisite = { focus = SAP_establish_order_of_witchers }
		available = {
		
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_wiedzmin.2
				}
		}
	}
	
	focus = {
		id = SAP_question_of_witcher_trials
		icon = SAP_question_of_witcher_trials
		relative_position_id = SAP_establish_order_of_witchers
		prerequisite = { focus = SAP_establish_order_of_witchers }
		available = {
			has_completed_focus = SAP_question_of_origin
		}
		
		bypass = {
		}
		
		x = 1
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_wiedzmin.3
				}		
		}
	}
	
	focus = {
		id = SAP_school_of_the_wolf
		icon = SAP_school_of_the_wolf
		relative_position_id = SAP_establish_order_of_witchers
		prerequisite = { focus = SAP_question_of_origin }
		prerequisite = { focus = SAP_question_of_witcher_trials }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 2
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_wiedzmin.4
				}	
		}
	}
	
	focus = {
		id = SAP_of_monsters_and_men
		icon = SAP_of_monsters_and_men
		relative_position_id = SAP_vrihedd_brigade
		prerequisite = { focus = SAP_vrihedd_brigade
						 focus = SAP_order_of_white_rose }
		prerequisite = { focus = SAP_school_of_the_wolf }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 1
		y = 2
		
		cost = 2
		search_filters = {}
		completion_reward = {
			army_experience = 100
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			if = {
				limit = { has_completed_focus = SAP_vrihedd_brigade }
					country_event = {
						id = sapek.13
						}
				}
			else_if = {
				limit = { has_completed_focus = SAP_order_of_white_rose }
					country_event = {
						id = sapek.12
						}
				}
		}
	}
}	
	


focus_tree = {
	id = sapek_war_focus
	
	country = {
		factor = 0
		
		modifier = {
			add =10
			tag = SAP
		}
	}
	default = no
	
	continuous_focus_position = {x = 50 y = 1500 }

	focus = {
		id = SAP_voice_of_reason
		icon = SAP_voice_of_reason
		available = {
		
		}
		
		bypass = {
		}
		
		x = 8
		y = 0
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.1
			}
		}
	}
	focus = {
		id = SAP_choose_between_evil
		icon = SAP_choose_between_evil
		relative_position_id = SAP_voice_of_reason
		prerequisite = { focus = SAP_voice_of_reason }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.2
			}
		}
	}
	
	focus = {
		id = SAP_rather_not_choose
		icon = SAP_rather_not_choose
		relative_position_id = SAP_choose_between_evil
		prerequisite = { focus = SAP_choose_between_evil }
		available = {
		
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 1
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.3
			}
		}
	}
	
	focus = {
		id = SAP_tridam_ultimatum
		icon = SAP_tridam_ultimatum
		relative_position_id = SAP_rather_not_choose
		prerequisite = { focus = SAP_rather_not_choose }
		will_lead_to_war_with = WML
		available = {
				KRS = { num_of_controlled_states < 1 }
				NOT = { has_war = yes }
		}
		
		bypass = {
			OR = { 
				AND = {	
					WML = { num_of_controlled_states < 1 }
					302 = { is_controlled_by = BBW }
					}
				has_war_with = WML
				}
		}
		
		x = 0
		y = 3
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = { 
				id = sapek_war.4
			}
		}
	}
	
	focus = {
		id = SAP_throne_of_vizima
		icon = SAP_throne_of_vizima
		relative_position_id = SAP_tridam_ultimatum
		prerequisite = { focus = SAP_tridam_ultimatum }

		available = {
			KRS = { num_of_controlled_states < 1 }
				BBW = { num_of_controlled_states < 1 }
					WML = { num_of_controlled_states < 1 }
						ZHP = { num_of_controlled_states < 1 }
							ZYD = { num_of_controlled_states < 1 }
		  302 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = -1
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = { 
				id = sapek_war.5
			}
		}
	}
	
	focus = {
		id = SAP_great_chasm
		icon = SAP_great_chasm
		relative_position_id = SAP_tridam_ultimatum
		prerequisite = { focus = SAP_tridam_ultimatum }

		available = {
		  302 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
			KRS = { num_of_controlled_states < 1 }
				BBW = { num_of_controlled_states < 1 }
					WML = { num_of_controlled_states < 1 }
						ZHP = { num_of_controlled_states < 1 }
							ZYD = { num_of_controlled_states < 1 }
		}
		
		bypass = {
		}
		
		x = 1
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = { 
				id = sapek_war.6
			}
		}
	}
	
	focus = {
		id = SAP_question_of_price
		icon = SAP_question_of_price
		relative_position_id = SAP_tridam_ultimatum
		prerequisite = { focus = SAP_throne_of_vizima }	
		prerequisite = { focus = SAP_great_chasm }

		available = {
		}
		
		bypass = {
		}
		
		x = 0
		y = 2
		
		cost = 1
		search_filters = {}
		completion_reward = {
			if = {
				limit = {
					check_variable = {
						var = sapek_insanity
						value = sapek_sanity
						compare = less_than
					}
				}
				country_event = { 
					id = sapek_war.7
				}
			}
			if = {
				limit = {
					check_variable = {
						var = sapek_sanity
						value = sapek_insanity
						compare = less_than
					}
				}
				country_event = { 
					id = sapek_war.8
				}
			}
			if = {
				limit = {
					check_variable = {
						var = sapek_sanity
						value = sapek_insanity
						compare = equals
					}
				}
				random_list = {
					50 = {
					country_event = { 
						id = sapek_war.7
					}
					}
				50 = {
					country_event = { 
						id = sapek_war.8
					}
					}					
				}	
			}		
		}
	}
	
	focus = {
		id = SAP_war_of_daggers
		icon = SAP_war_of_daggers
		relative_position_id = SAP_rather_not_choose
		prerequisite = { focus = SAP_rather_not_choose }
		will_lead_to_war_with = KRS
		available = {
			NOT = { has_war = yes }
		}
		
		bypass = {
			OR = {
				KRS = { num_of_controlled_states < 1 }
				236 = { is_controlled_by = SAP }
				KRS = { has_war_with = SAP }
			}
		}
		
		x = -3
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			declare_war_on = { 
				target = KRS 
				type = annex_everything 
				}
		}
	}
	
	focus = {
		id = SAP_ghouls_and_alghouls
		icon = SAP_ghouls_and_alghouls
		relative_position_id = SAP_war_of_daggers
		prerequisite = { focus = SAP_war_of_daggers }

		available = {
		  236 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.9
				}
		}
	}
	
	focus = {
		id = SAP_pesky_landsknechts
		icon = SAP_pesky_landsknechts
		relative_position_id = SAP_war_of_daggers
		prerequisite = { focus = SAP_war_of_daggers }

		available = {
		  236 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.10
			}			
		}
	}
	
	focus = {
		id = SAP_seize_mutagen_labs
		icon = SAP_seize_mutagen_labs
		relative_position_id = SAP_war_of_daggers
		prerequisite = { focus = SAP_war_of_daggers }

		available = {
		  236 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = 2
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.11
			}	
		}
	}
	
	focus = {
		id = SAP_southern_campaign
		icon = SAP_southern_campaign
		relative_position_id = SAP_rather_not_choose
		prerequisite = { focus = SAP_rather_not_choose }
		will_lead_to_war_with = ZHP
		will_lead_to_war_with = ZYD
		will_lead_to_war_with = BBW
		
		available = {
			KRS = { num_of_controlled_states < 1 }
		count_triggers  = {
			amount = 1
			ZYD = { num_of_controlled_states < 1 }
			BBW = { num_of_controlled_states < 1 }
			ZHP = { num_of_controlled_states < 1 }
		    }
		}
		
		bypass = {
		count_triggers  = {
			amount = 3
			ZYD = { num_of_controlled_states < 1 }
			BBW = { num_of_controlled_states < 1 }
			ZHP = { num_of_controlled_states < 1 }
		}
		
		}
		
		x = 3
		y = 1
		
		cost = 2
		search_filters = {}
		completion_reward = {
			if = {
				limit = { country_exists = ZHP }
					declare_war_on = {
						target = ZHP
						type = annex_everything 
						}
					}
			if = {
				limit = { country_exists = BBW }
					declare_war_on = {
						target = BBW
						type = annex_everything 
						}
					}
			if = {
				limit = { country_exists = ZYD }
					declare_war_on = {
						target = ZYD
						type = annex_everything 
						}
					}
		}
	}
	
	focus = {
		id = SAP_pogrom_at_brugge
		icon = SAP_pogrom_at_brugge
		relative_position_id = SAP_southern_campaign
		prerequisite = { focus = SAP_southern_campaign }

		available = {
		  353 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.12
			}	
		}
	}
	
	focus = {
		id = SAP_death_woods_of_velen
		icon = SAP_death_woods_of_velen
		relative_position_id = SAP_southern_campaign
		prerequisite = { focus = SAP_southern_campaign }

		available = {
		  368 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.13
			}	
		}
	}
	
	focus = {
		id = SAP_mines_of_mahakam
		icon = SAP_mines_of_mahakam
		relative_position_id = SAP_southern_campaign
		prerequisite = { focus = SAP_southern_campaign }

		available = {
		  341 = { is_controlled_by = SAP }
		  NOT = { has_war = yes }
		}
		
		bypass = {
		}
		
		x = 2
		y = 1
		
		cost = 3
		search_filters = {}
		completion_reward = {
			country_event = {
				id = sapek_war.14
			}	
		}
	}

}