add_namespace = swiecie

country_event = {
	id = swiecie.1
	title = swiecie.1.t
	desc = swiecie.1.desc

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		date > 2027.3.22
		tag = SWC
		}
	immediate = { 
		log = "[GetDateText]: [ROOT.GetName] fires swiecie.1" 
		hidden_effect = {
			country_event = {
				id = swiecie.2
				days = 10
			}
		}
	}

	option = {
		name = swiecie.1.a
		ai_chance = { base = 50 }
		99 = {
			create_unit = {
				division = "name = \"Ochotnicy\" division_template = \"Bojówka Partyzancka\" location = 15303 start_experience_factor = 0.2 start_equipment_factor = 0.3"
				owner = SWC
			}
		}
		# units = {
		# 	#division= {
		# 		name = "Ochotnicy"
		# 		location = 15303
		# 		division_template = "Bojówka Partyzancka"
		# 		start_experience_factor = 0.2
		# 		start_equipment_factor = 0.3
		# 	}
		# }
		set_country_flag = accepted_bydgoszcz_help
	}
	option = {
		name = swiecie.1.b
		ai_chance = { base = 50 }
	}
}

country_event = {
	id = swiecie.2
	title = swiecie.2.t
	desc = swiecie.2.desc

	fire_only_once = yes
	is_triggered_only = yes
	immediate = { log = "[GetDateText]: [ROOT.GetName] fires swiecie.2" }

	option = {
		name = swiecie.2.a

		ai_chance = { base = 80 }
		add_equipment_to_stockpile = {
			type = ranged_equipment
			amount = 100
			producer = KUJ
		}
		set_country_flag = accepted_krajna_help
	}
	option = {
		name = swiecie.2.b

		ai_chance = { base = 20 }
	}
}

country_event = {
	id = swiecie.3
	title = swiecie.3.t
	desc = swiecie.3.desc

	fire_only_once = yes
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [ROOT.GetName] fires swiecie.3" }

	option = {
		name = swiecie.3.a
		ai_chance = {
			base = 3
		}
		BYD = {
			set_autonomy = {
				target = SWC
				autonomy_state = autonomy_puppet
			}
		}
	}

	option = {
		name = swiecie.3.b
		ai_chance = {
			base = 1
			modifier = {
				has_country_flag = accepted_krajna_help
				factor = 9
			}
		}
		if = {
			limit = {
				has_country_flag = accepted_krajna_help
			}
			KUJ = {
				add_to_faction = SWC
			}
			hidden_effect = {
				BYD = {
					country_event = swiecie.4
				}
			}
		}
		else = {
			BYD = {
				declare_war_on = {
					target = SWC
					type = annex_everything
				}
			}
		}
	}
}

country_event = {
	id = swiecie.4
	title = swiecie.4.t
	desc = swiecie.4.desc

	fire_only_once = yes
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [ROOT.GetName] fires swiecie.4" }

	option = {
		name = swiecie.4.a
		ai_chance = {
			base = 1
		}
		declare_war_on = {
			target = SWC
			type = annex_everything
		}
		declare_war_on = {
			target = KUJ
			type = annex_everything
		}
		declare_war_on = {
			target = PLK
			type = annex_everything
		}
		hidden_effect = {
			NED = {
				country_event = swiecie.5
			}
			FMT = {
				country_event = swiecie.5
			}
		}
	}

	option = {
		name = swiecie.4.b
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = swiecie.5
	title = swiecie.5.t
	desc = swiecie.5.desc

	fire_only_once = yes
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [ROOT.GetName] fires swiecie.5" }

	option = {
		name = swiecie.5.a
		ai_chance = {
			base = 1
		}
		give_military_access = KUJ
		give_military_access = PLK
	}

	option = {
		name = swiecie.5.b
		ai_chance = {
			base = 1	
		}
		set_country_flag = refused_to_give_access
		if = {
			limit = {
				or = {
					and = {
						original_tag = FMT
						NED = {
							has_country_flag = refused_to_give_access
						}
					}
					and = {
						original_tag = NED
						FMT = {
							has_country_flag = refused_to_give_access
						}
					}
				}
			}
			set_global_flag = swiecie_is_trapped
		}
	}
}