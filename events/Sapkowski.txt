add_namespace = sapek
add_namespace = sapek_war
add_namespace = sapek_wiedzmin

country_event = {
	id = sapek.1 #intro-sapek
	title = sapek.1.t
	desc = sapek.1.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.1.a
	}
}

country_event = {
	id = sapek.2 #intro-bartyzel
	title = sapek.2.t
	desc = sapek.2.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.2.a
	}
}

country_event = {
	id = sapek.3 #intro-wojewodztwo
	title = sapek.3.t
	desc = sapek.3.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.3.a
	}
}

country_event = {
	id = sapek.4 #jaszczur-atakuje
	title = sapek.4.t
	desc = sapek.4.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.4.a
		complete_national_focus = SAP_attack_on_kaer_nevitz
		hidden_effect = {
			set_country_flag = kaer_nevitz_attack
		}
	}
}

country_event = {
	id = sapek.5 #plonie-stodola
	title = sapek.5.t
	desc = sapek.5.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.5.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		custom_effect_tooltip = SAP_insanity_tooltip
		add_stability = -0.2
		add_political_power = 50
	}
	option = {
		name = sapek.5.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		custom_effect_tooltip = SAP_sanity_tooltip
		add_stability = 0.1
		add_political_power = -50
	}
}


country_event = {
	id = sapek.6 #status-report
	title = sapek.6.t
	desc = sapek.6.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.6.a
	}
}

country_event = {
	id = sapek.7 #trop-zniknal
	title = sapek.7.t
	desc = sapek.7.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.7.a
	}
}


country_event = {
	id = sapek_war.1 #spotkanie-kapituly
	title = sapek_war.1.t
	desc = sapek_war.1.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.1.a
	}
}

country_event = {
	id = sapek_war.2 #sapek-gollum
	title = sapek_war.2.t
	desc = sapek_war.2.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.2.a
	}
}

country_event = {
	id = sapek_war.3 #edykt-wojenny
	title = sapek_war.3.t
	desc = sapek_war.3.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.3.a
		add_war_support = 0.1
	}
}

country_event = {
	id = sapek_war.4 #ultimatum
	title = sapek_war.4.t
	desc = sapek_war.4.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.4.a
			WML = {
				declare_war_on = {
				target = SAP
				type = annex_everything
				}
			}
	}
}

country_event = {
	id = sapek_war.5 #palac-w-manufakturze
	title = sapek_war.5.t
	desc = sapek_war.5.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.5.a
	}
}

country_event = {
	id = sapek_war.6 #baluty
	title = sapek_war.6.t
	desc = sapek_war.6.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.6.a
	}
}


country_event = {
	id = sapek_war.7 #ostatni-event-sane
	title = sapek_war.7.t
	desc = sapek_war.7.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.7.a
	}
}

country_event = {
	id = sapek_war.8 #ostatni-event-insane
	title = sapek_war.8.t
	desc = sapek_war.8.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.8.a
	}
}

country_event = {
	id = sapek_war.9 #skrzydlewscy-postwar
	title = sapek_war.9.t
	desc = sapek_war.9.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.9.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_stability = 0.1
	}
	option = {
		name = sapek_war.9.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_stability = -0.1
	}
}

country_event = {
	id = sapek_war.10 #rutkowski-postwar
	title = sapek_war.10.t
	desc = sapek_war.10.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.10.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_stability = -0.1
		set_nationality = {
			target_country = SAP
			character = KRS_krzysztof_rutkowski
		}
		set_portraits = {
			character = KRS_krzysztof_rutkowski
			army = { large ="gfx/leaders/SAP/SAP_Rutkowski.dds" }
		}
		849 = {
			create_unit = {
				division = "division_template = \"Patrol Rutkowskiego\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
				owner = KRS
			}
			create_unit = {
				division = "division_template = \"Patrol Rutkowskiego\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
				owner = KRS
			}
		}
	}
	option = {
		name = sapek_war.10.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_stability = 0.1
		add_equipment_to_stockpile = {
			type = ranged_equipment_2
			amount = 1000
			producer = KRS
		}
	}
}

country_event = {
	id = sapek_war.11 #pogotowie-postwar
	title = sapek_war.11.t
	desc = sapek_war.11.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.11.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
	}
}

country_event = {
	id = sapek_war.12 #widzew-postwar
	title = sapek_war.12.t
	desc = sapek_war.12.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.12.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_stability = 0.1
	}
	option = {
		name = sapek_war.12.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_stability = -0.1
	}
}

country_event = {
	id = sapek_war.13 #zhp-postwar
	title = sapek_war.13.t
	desc = sapek_war.13.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.13.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_stability = 0.1
	}
	option = {
		name = sapek_war.13.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_stability = -0.1
	}
}

country_event = {
	id = sapek_war.14 #bractwo-postwar
	title = sapek_war.14.t
	desc = sapek_war.14.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_war.14.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_stability = 0.1
		custom_effect_tooltip = SAP_insanity_tooltip
	}
	option = {
		name = sapek_war.14.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_stability = -0.1
		custom_effect_tooltip = SAP_sanity_tooltip
	}
}

country_event = {
	id = sapek.8 #ekonomia-wybor
	title = sapek.8.t
	desc = sapek.8.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.8.a
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
		add_ideas = SAP_feudal_extortion
		custom_effect_tooltip = SAP_insanity_tooltip
		complete_national_focus = SAP_to_your_prince
	}
	option = {
		name = sapek.8.b
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
		add_ideas = SAP_syndicate_coin
		custom_effect_tooltip = SAP_sanity_tooltip
		complete_national_focus = SAP_to_your_witcher
	}
}


country_event = {
	id = sapek.9 #zamek-dla-zakonu
	title = sapek.9.t
	desc = sapek.9.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.9.a
		set_country_flag = SAP_zakon_lowicz
		272 = {
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 7449
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
				}
		}
	}
	option = {
		name = sapek.9.b
		set_country_flag = SAP_zakon_zychlin
		682 = {
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 1539
			}
		}
	}
	option = {
		name = sapek.9.c #skierniewice -  jesli wybierzemy to, to przy potencjalnym przewrocie bartyzel bedzie mial wieksze szanse
		set_country_flag = SAP_zakon_skierniewice
		269 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 7449
			}
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
				}
			}	
		custom_effect_tooltip = SAP_zakon_zamek_tooltip
		}
}



country_event = {
	id = sapek.10 #folwark
	title = sapek.10.t
	desc = sapek.10.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.10.a
		set_country_flag = SAP_folwark_lipce
		850 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	option = {
		name = sapek.10.b
		set_country_flag = SAP_folwark_moskwa
		303 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = {
	id = sapek.11 #bpp
	title = sapek.11.t
	desc = sapek.11.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.11.a
		add_tech_bonus = {
			bonus = 0.5
			uses = 1
			category = infantry_tech
		}
	}
}

country_event = {
	id = sapek.12 #lepszy-zakon
	title = sapek.12.t
	desc = sapek.12.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.12.a
		swap_ideas = {
			remove_idea = SAP_army_of_bartyzel
			add_idea = SAP_army_of_bartyzel_2
			}
	}
}

country_event = {
	id = sapek.13 #lepsze-wiewiory
	title = sapek.13.t
	desc = sapek.13.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.13.a
		swap_ideas = {
			remove_idea = SAP_army_of_wiewiorki
			add_idea = SAP_army_of_wiewiorki_2
			}
	}
}

country_event = {
	id = sapek.14 #spotkanie-kapituly
	title = sapek.14.t
	desc = sapek.14.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.14.a
	}
}

country_event = {
	id = sapek.15 #obwinianie-wiewiorek
	title = sapek.15.t
	desc = sapek.15.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.15.a
	}
}

country_event = {
	id = sapek.16 #obwinianie-zakonu
	title = sapek.16.t
	desc = sapek.16.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.16.a
		set_country_flag = SAP_sapek_oskarzyciel
	}
}

country_event = {
	id = sapek.17 #poselstwo-do-krosniewic
	title = sapek.17.t
	desc = sapek.17.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek.17.a
		add_opinion_modifier = {
			target = KRS
			modifier = rejected_demands
		}
	}
}

country_event = {
	id = sapek_wiedzmin.1 #wprowadzenie-do-wiedzminow
	title = sapek_wiedzmin.1.t
	desc = sapek_wiedzmin.1.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_wiedzmin.1.a
		add_ideas = SAP_szkola_wilka		
	}
}

country_event = {
	id = sapek_wiedzmin.2 #viedmolol-genesis
	title = sapek_wiedzmin.2.t
	desc = sapek_wiedzmin.2.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_wiedzmin.2.a #dawaj-dzieciora
		add_manpower = 1000
		swap_ideas = {
			remove_idea = SAP_szkola_wilka
			add_idea = SAP_szkola_wilka_insane_1
			}
		custom_effect_tooltip = SAP_insanity_tooltip
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
	}
	option = { 
		name = sapek_wiedzmin.2.b #ochotnicy
		add_manpower = 1500
		swap_ideas = {
			remove_idea = SAP_szkola_wilka
			add_idea = SAP_szkola_wilka_sane_1
			}
		custom_effect_tooltip = SAP_sanity_tooltip
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
	}	
}

country_event = {
	id = sapek_wiedzmin.3 #viedmolol-trening
	title = sapek_wiedzmin.3.t
	desc = sapek_wiedzmin.3.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_wiedzmin.3.a #mutageny
		swap_ideas = {
			remove_idea = SAP_szkola_wilka_insane_1
			add_idea = SAP_szkola_wilka_insane_2
			}
		custom_effect_tooltip = SAP_insanity_tooltip
		hidden_effect = {
			add_to_variable = {
				var = sapek_insanity
				value = 10
			}
		}
	}
	option = {
		name = sapek_wiedzmin.3.b #mordownia
		swap_ideas = {
			remove_idea = SAP_szkola_wilka_sane_1
			add_idea = SAP_szkola_wilka_sane_2
			}
		custom_effect_tooltip = SAP_sanity_tooltip
		hidden_effect = {
			add_to_variable = {
				var = sapek_sanity
				value = 10
			}
		}
	}	
}


country_event = {
	id = sapek_wiedzmin.4 #wyprowadzenie-wiedzminow
	title = sapek_wiedzmin.4.t
	desc = sapek_wiedzmin.4.desc

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = sapek_wiedzmin.4.a
		300 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 7453
			}
		}
	}
}